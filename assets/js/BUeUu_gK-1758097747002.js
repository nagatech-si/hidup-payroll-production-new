import{j as t,T as Ua,P as fn,r as x,C as Tn,m as Ln,n as wt,K as ji,f as fi,a as Ra,_ as Re,y as Ke,S as vn,A as Ti,b as Li,N as ne,c as vi,D as Ni,i as Pi,E as Si,d as xe,e as $e,g as ae,l as Ei,h as Ai,u as re,k as Di,o as Ii,p as Mi,q as Ci,s as wi,t as Ri,v as Ki,w as E,R as $i,L as Fi,I as Bi,x as G,z as Ui,B as Nn,F as Fe,G as p,H as v,J as ia,M as la,O as Pn,Q as Oi,U as Gi,V as le,W as Le,X as zi,Y as ve,Z as Hi,$ as Ji,a0 as Rt,a1 as he,a2 as Vi,a3 as Ne,a4 as qi,a5 as Wi,a6 as Sn,a7 as Pe,a8 as Yi,a9 as Xi,aa as Zi,ab as Qi,ac as Se,ad as ao,ae as eo,af as to,ag as no,ah as io,ai as En,aj as An,ak as Dn,al as oo,am as so,an as ro,ao as lo,ap as co}from"./DolFOnla-1758097747002.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const Pa={SIDERBARMINIFY:"SIDERBARMINIFY",TOOGLESIDEBAR:"TOOGLESIDEBAR",SIDEBAR:"SIDEBAR",HEADER:"HEADER",CONTENT:"CONTENT",FOOTER:"FOOTER"},uo=a=>({type:Pa.SIDERBARMINIFY,payload:a}),mo=a=>({type:Pa.TOOGLESIDEBAR,payload:a}),po=a=>({type:Pa.SIDEBAR,payload:a}),go=a=>({type:Pa.HEADER,payload:a}),ho=a=>({type:Pa.CONTENT,payload:a}),_o=a=>({type:Pa.FOOTER,payload:a}),ba={handleSetFooter:_o,handleSetContent:ho,handleSetPageHeader:go,handleSetPageSidebar:po,appSidebarEndMobileToggled:mo,appSidebarMinify:uo},ga={HIDE_MODAL:"HIDE_MODAL",SHOW_MODAL:"SHOW_MODAL",IS_LOADING:"IS_LOADING",IS_EDIT:"IS_EDIT",GET_DATA_EDIT:"GET_DATA_EDIT",LOADING_TABEL:"LOADING_TABEL",SIMPAN_DATA_TMP:"SIMPAN_DATA_TMP",SHOW_BUTTON_DELETE:"SHOW_BUTTON_DELETE",SCREEN_SIZE:"SCREEN_SIZE",DATA_NOTA:"DATA_NOTA",GET_MODULE:"GET_MODULE",GET_KODE_TOKO:"GET_KODE_TOKO"},C=({icon:a,tooltipText:e,onClick:i,disabled:s,type:o="button",color:n="default",block:r,className:l,children:d})=>t.jsx(Ua,{title:e,children:t.jsx("span",{children:t.jsx("button",{disabled:s,type:o,onClick:i,className:`btn btn-${n} ${l||""} ${r?"d-block w-100":""}`,children:d||t.jsx("i",{className:`fas ${a}`})})})}),ee=({tooltipText:a,onClick:e,confirmText:i="Konfirmasi Hapus Data ! ",confirmDescription:s="Yakin Ingin Menghapus Data Ini ?",usePopconfirm:o=!1,block:n,className:r,children:l,placement:d="top"})=>{const u=t.jsx("span",{onClick:o?void 0:e,className:` ${r||""} ${n?"d-block w-100":""}`,children:l});return t.jsx(Ua,{title:a,children:o?t.jsx(fn,{title:i,description:s,onConfirm:e,okText:"Yes",placement:d,cancelText:"No",children:u}):u})},$a=a=>{const e=D(o=>o.utility),[i,s]=x.useState(!1);return t.jsx(Ua,{title:a.tooltipText,children:t.jsx("span",{children:t.jsx(fn,{title:"Konfirmasi Hapus Data ! ",description:"Yakin Ingin Menghapus Data Ini ?",open:i,onConfirm:()=>a.prosesDelete(),okButtonProps:{loading:e.getLoading.button},onCancel:()=>s(!1),children:t.jsx(C,{disabled:a.disabled,color:"red",onClick:()=>s(!0),children:t.jsx("i",{className:"fa fa-trash"})})})})})},Sa="b3r4sput1h",Ee=a=>{const e={};for(let n=0;n<(Sa==null?void 0:Sa.length);n++)e[n]=Sa==null?void 0:Sa.substr(n,1);let i="",s=0;const o=a.length;for(let n=0;n<parseInt(o);n++)i=i+bo(a[n].charCodeAt(0)+e[s].charCodeAt(0)),s===Object.keys(e).length-1&&(s=0),s=s+1;return i.toUpperCase()},Ae=a=>{if(a){const e={};for(let r=0;r<(Sa==null?void 0:Sa.length);r++)e[r]=Sa==null?void 0:Sa.substr(r,1);let i="",s=0;const o=a.length;let n=0;for(;n<parseInt(o);)i=i+yo(ko(a.substr(n,2))-e[s].charCodeAt(0)),s===Object.keys(e).length-1&&(s=0),s=s+1,n=n+2;return i}},bo=a=>{let e="";return e=a.toString(16),e},ko=a=>{let e="";return e=parseInt(a,16),e},yo=a=>{let e="";return e=String.fromCharCode(a),e},Ka=(a,e=[])=>{if(!a)return a;if(typeof a=="object"&&!(a instanceof Date)){const i=Array.isArray(a)?[...a]:{...a};return Object.keys(i).map(s=>(e.find(n=>n===s)||(Array.isArray(i[s])?i[s]=i[s].map(n=>typeof n=="string"?Ee(n):typeof i[s]=="object"&&i[s]&&!(i[s]instanceof Date)?Ka(n,e):!1):typeof i[s]=="string"&&i[s]?i[s]=Ee(i[s]):typeof i[s]=="number"&&i[s]||typeof i[s]=="object"&&i[s]&&!(a instanceof Date)&&(i[s]=Ka(i[s],e))),!1)),i}else if(typeof a=="string")return Ee(a)},ye=(a,e=[])=>{if(!a)return a;if(typeof a=="object"&&!(a instanceof Date)){const i=Array.isArray(a)?[...a]:{...a};return Object.keys(i).map(s=>(e.find(n=>n===s)||(Array.isArray(i[s])?i[s]=i[s].map(n=>typeof n=="string"?Ae(n):typeof i[s]=="object"&&i[s]&&!(i[s]instanceof Date)?ye(n,e):!1):typeof i[s]=="string"&&i[s]?i[s]=Ae(i[s]):typeof i[s]=="number"&&i[s]||typeof i[s]=="object"&&i[s]&&!(a instanceof Date)&&(i[s]=ye(i[s],e))),!1)),i}else if(typeof a=="string")return Ae(a)},xo="bolehmasuk",In="base64:QnYmDlFPaqekGjasD+zlFSgUE9cD94VotFuthVeFv44=";let _e="",Fa=window.globalConfig||{};_e=ye(Fa);Fa=JSON==null?void 0:JSON.parse(_e==null?void 0:_e.replaceAll("~",""));const Ga=Fa.VITE_APP_BE,_a=Fa.VITE_APP_KODE_TOKO;Fa.VITE_APP_FIREBASE_NAME;const Be=Fa.VITE_APP_VERSION,Ja=Fa.VITE_APP_NAMA_TOKO,Va=Fa.VITE_APP_ALAMAT_TOKO,jo=Fa.VITE_APP_BASE_URL,je=Be==="PUSAT";function Kt(a,e){const i=l=>{const[d,u]=l.split(":").map(Number),m=new Date;return m.setHours(d,u,0,0),m},s=i(a);return(i(e).getTime()-s.getTime())/(1e3*60*60)>1}function fo(a,e){const[i,s]=a.split(":").map(Number),[o,n]=e.split(":").map(Number),r=new Date;r.setHours(i,s,0,0);const l=new Date;return l.setHours(o,n,0,0),(l.getTime()-r.getTime())/(1e3*60*60)}function To(a,e){const[i,s]=a.split(":").map(Number),[o,n]=e.split(":").map(Number),r=new Date;r.setHours(i,s,0,0);const l=new Date;return l.setHours(o,n,0,0),(l.getTime()-r.getTime())/(1e3*60)}const Ia=a=>Z("dataToko").find(i=>i.kode_toko===a);function Mn(a){const e=a.getFullYear(),i=a.getMonth(),s=new Date(e,i,31),o=new Date(e,i,30);return s.getMonth()===i?s:o}const te=a=>{const e=new SpeechSynthesisUtterance(a);new Promise(s=>{let o=speechSynthesis.getVoices();o.length?s(o):speechSynthesis.onvoiceschanged=()=>{o=speechSynthesis.getVoices(),s(o)}}).then(s=>{const o=s.filter(n=>n.lang==="id-ID");o.length>0?e.voice=o[1]:console.warn("No Indonesian voice found"),e.lang="id-ID",speechSynthesis.speak(e)})},Lo=a=>t.jsx("div",{id:"cover-spin",style:{display:a.loading?"block":"none"}}),ha=a=>{const e=document.getElementById(a);e&&e.focus()},vo=a=>{const e=a.slice(0,-4).replace(/\d/g,"*"),i=a.slice(-4);return e+i},Cn=()=>{let a="";return a||(a=window.innerWidth>=1200?"lg":window.innerWidth>=600?"md":window.innerWidth>=375?"sm":window.innerWidth>=300?"xs":"xxs",window.addEventListener("resize",function(){const e=window.innerWidth>=1200?"lg":window.innerWidth>=600?"md":window.innerWidth>=375?"sm":window.innerWidth>=300?"xs":"xxs";e!==a&&(a=e)})),a},Z=a=>{if(typeof window<"u"){const e=Ka(a),i=localStorage.getItem(e);return i!==null?ye(JSON.parse(i)):[]}return[]},ja=(a,e)=>{if(typeof window<"u"){const i={nama:Ka(a),data:Ka(e)};localStorage.setItem(i.nama,JSON.stringify(i.data))}},No=a=>{typeof window<"u"&&localStorage.removeItem(Ka(a))},pe=a=>{try{const e=new Audio;e.src=a,e.play().catch(i=>{console.error("Error playing sound:",i)})}catch(e){console.log(e)}},Po=a=>a&&a.replace(" ","_"),be=Z("userdata");new Date().toISOString();function Y(a,e){const i=Ln(new Date(a));return i.isValid()?i.format(e?"DD-MM-YYYY":"YYYY-MM-DD"):""}function oe(a){return Ln(new Date(a),"Asia/Jakarta").format("DD-MM-YYYY HH:mm:ss")}const So=a=>{let e;typeof a=="string"?e=new Date(a):e=a;const i=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0");return[e.getFullYear(),i,s].join("-")},de=a=>{const e=Z("userdata");return Tn.SHA256(xo+In+((e==null?void 0:e.access_token)||"")+a).toString()},Eo=()=>Tn.SHA256(In).toString(),wn=a=>{const e=document.createElement("a"),i=document.getElementById("nota_ganerate");if(i){const s=new Blob([i==null?void 0:i.value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(s),e.download=a+".txt",document.body.appendChild(e),e.click()}},Ba=(a=100)=>new Promise(e=>setTimeout(e,a)),O=a=>a?a==null?void 0:a.replaceAll("_"," "):"",Ao=(a,e)=>{const i=new Date(a);return i.setDate(i.getDate()+e),i};function B({type:a,status:e}){switch(a){case"jam_datang":return e==="ONTIME"?"#D5E7D4":e==="LATE"?"#F7CECC":e==="CUTI"?"#FFDA78":e==="LIBUR"?"#FFFFFF":e==="NONE"?"#EEEEEE":"#F7CECC";case"jam_pulang":return e==="ONTIME"?"#D5E7D4":e==="EARLY"?"#ebc9b2":e==="CUTI"?"#FFDA78":e==="LIBUR"?"#FFFFFF":e==="NONE"?"#EEEEEE":"#F7CECC";case"isoma":return e==="ONTIME"?"#D5E7D4":e==="OVERTIME"?"#FFE6CC":e==="CUTI"?"#FFDA78":e==="LIBUR"?"#FFFFFF":e==="NONE"?"#EEEEEE":"#F7CECC";default:return"#F7CECC"}}function Rn(a,e){if(typeof a!="string"||typeof e!="string")return console.error("Input harus berupa string."),0;const i=/^([0-1]?\d|2[0-3]):([0-5]\d)$/;if(!i.test(a)||!i.test(e))return console.error("Format waktu tidak valid. Gunakan format HH:mm."),0;const[s,o]=a.split(":").map(Number),[n,r]=e.split(":").map(Number),l=s*60+o,d=n*60+r;return Math.abs(d-l)}const Do=a=>{const[e,i]=x.useState(!0),s=o=>{navigator.clipboard.writeText(o).then(()=>{wt.success("Copy Success")},()=>{wt.error("Copy Failed")})};return t.jsx("div",{onMouseEnter:()=>i(!1),onMouseLeave:()=>i(!0),onClick:()=>s(a.text),style:{cursor:"pointer"},children:e?vo(a.text):a.text})},Io=({onChange:a,keyboardRef:e,onKeyPress:i,capsLock:s})=>t.jsx(ji,{keyboardRef:o=>e.current=o,onChange:a,onKeyPress:i,layout:{default:["1 2 3 4 5 6 7 8 9 0 {bksp}","q w e r t y u i o p","a s d f g h j k l {enter}","{shift} z x c v b n m {lock}"],shift:["1 2 3 4 5 6 7 8 9 0 {bksp}","Q W E R T Y U I O P","A S D F G H J K L {enter}","{shift} Z X C V B N M {lock}"]},layoutName:s?"shift":"default",display:{"{bksp}":"⌫","{enter}":"⏎","{lock}":s?"⇪":"⇧","{shift}":"Shift"},theme:"hg-theme-default hg-layout-default myTheme"}),Mo={apiKey:"AIzaSyB1JES7FtWNBoz9obp-5Z6HifP5XCsUsOI",authDomain:"gambar-78b2b.firebaseapp.com",projectId:"gambar-78b2b",storageBucket:"gambar-78b2b.appspot.com",messagingSenderId:"694976070405",appId:"1:694976070405:web:eef580e9823e39e64dad6c",measurementId:"G-YX2KKT4KRH"};fi.initializeApp(Mo);const fe=/Unauthorized|Invalid token|Invalid signature|Token Tidak Ditemukan/i,ce=async()=>{const a=Z("userdata");try{const e=await Co();ja("userdata",{...a,access_token:e.access_token,refresh_token:e.refresh_token}),setTimeout(()=>{window.location.reload()},3e3)}catch(e){/Refresh Token is Expire/i.test(`${e}`)?ue():ce()}},ue=async()=>{setTimeout(()=>{localStorage.clear(),window.location.reload()},3e3)};async function q(a,e){const i=Z("userdata"),s=`${Ga}/${a}`,o=new Date().toISOString(),n=de(o),r={headers:{timestamp:o,signature:n,Accept:"application/json",Authorization:i.access_token?`Bearer ${i.access_token}`:void 0},params:e};return new Promise((l,d)=>{Ra.get(s,r).then(u=>{l(u.data)}).catch(async u=>{if(Ra.isAxiosError(u)){const m=u;if(m.response){const{data:g}=m.response,k=g&&g.message?g.message:"Unknown error";/Token is Expired/i.test(k)&&ce(),fe.test(k)&&ue(),d(`${k}`)}else m.request,d(m.message)}else d("Tidak Terhubung Ke Server")})})}async function na(a,e){const i=`${Ga}/${a}`,s=new Date().toISOString(),o=de(s),n=Eo(),r=Z("userdata"),l={headers:{timestamp:s,signature:o,user_id:r==null?void 0:r.user_id,Accept:"application/json","secret-key":n,Authorization:a!=="auth/login"?`Bearer ${r.access_token||""}`:void 0}};return new Promise((d,u)=>{Ra.post(i,Ka(e),l).then(m=>{d(m.data)}).catch(async m=>{if(Ra.isAxiosError(m)){const g=m;if(g.response){const{data:k}=g.response,h=k&&k.message?k.message:"Unknown error";/Token is Expired/i.test(h)&&ce(),fe.test(h)&&ue(),u(`${h}`)}else g.request,u(g.message||"Terjadi kesalahan saat mengirim data")}else u("Tidak Terhubung Ke Server")})})}async function ya(a,e){const i=`${Ga}/${a}`,s=new Date().toISOString(),o=de(s),n=Z("userdata"),r={headers:{timestamp:s,signature:o,Accept:"application/json",user_id:n==null?void 0:n.user_id,Authorization:`Bearer ${(n==null?void 0:n.access_token)||""}`}};return new Promise((l,d)=>{Ra.put(i,Ka(e),r).then(u=>{l(u.data)}).catch(async u=>{if(Ra.isAxiosError(u)){const m=u;if(m.response){const{data:g}=m.response,k=g&&g.message?g.message:"Unknown error";/Token is Expired/i.test(k)&&ce(),fe.test(k)&&ue(),d(`${k}`)}else m.request,d(m.message||"Terjadi kesalahan saat mengirim data")}else d("Tidak Terhubung Ke Server")})})}async function va(a,e){const i=`${Ga}/${a}`,s=new Date().toISOString(),o=de(s),n=Z("userdata"),r={headers:{timestamp:s,signature:o,Accept:"application/json",user_id:n==null?void 0:n.user_id,Authorization:`Bearer ${(n==null?void 0:n.access_token)||""}`},params:e};return new Promise((l,d)=>{Ra.delete(i,r).then(u=>{l(u.data)}).catch(async u=>{if(Ra.isAxiosError(u)){const m=u;if(m.response){const{data:g}=m.response,k=g&&g.message?g.message:"Unknown error";/Token is Expired/i.test(k)&&ce(),fe.test(k)&&ue(),d(`${k}`)}else m.request,d(m.message||"Terjadi kesalahan saat mengirim data")}else d("Tidak Terhubung Ke Server")})})}const Co=async()=>{const a=`${Ga}/auth/refresh`,e=new Date().toISOString(),i=de(e),s=Z("userdata"),o={headers:{timestamp:e,signature:i,Accept:"application/json",user_id:s.user_id,Authorization:`Bearer ${(s==null?void 0:s.access_token)||""}`}},n={user_id:Z("userdata").user_id,refresh_token:Z("userdata").refresh_token};return(await Ra.post(a,Ka(n),o)).data},Ca=Cn();let wa=!1;const Kn=a=>{const{title:e,textBody:i,html:s,icon:o}=a;return new Promise((n,r)=>{vn.fire({title:e,text:i,html:s,icon:o,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(l=>{l.isConfirmed?n(!0):r(!1)})})},$n=a=>{const{title:e,textBody:i,html:s,icon:o,time:n}=a;return new Promise((r,l)=>{vn.fire({title:e,text:i,html:s,timer:n,icon:o}).then(d=>{d.isConfirmed?r(!0):l(!1)})})},K=(a,e="top-right")=>{if(wa)return;wa=!0;const i={position:e,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};return setTimeout(()=>{wa=!1},5e3),Ca==="xs"||Ca==="md"||Ca==="sm"?Re.success(a):Ke.success(a,i)},za=(a,e="top-right")=>{if(wa)return;wa=!0;const i={position:e,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};return setTimeout(()=>{wa=!1},5e3),Ca==="xs"||Ca==="md"||Ca==="sm"?Re.error(a):Ke.error(a,i)},S=(a,e="top-right")=>{if(wa)return;wa=!0;const i={position:e,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};return setTimeout(()=>{wa=!1},5e3),Ca==="xs"||Ca==="md"||Ca==="sm"?Re(a,{icon:"ℹ️"}):Ke.info(a,i)},sa=({input:a,type:e,readOnly:i,placeholder:s,value:o,id:n})=>t.jsx("input",{...a,autoComplete:"off",type:e,id:n,className:"form-control",readOnly:i,defaultValue:o,placeholder:s}),j=({input:a,label:e,type:i,readOnly:s,placeholder:o,id:n,ref:r,customeCss:l,min:d,max:u,minLength:m,maxLength:g,stylelabel:k,iconOptional:h,optionalLabel:_,titleTooltip:N,noUpperCase:y,meta:L,enableenter:w,inputGroup:T,left:A,right:R,handleClick:F,textIconGroup:b,isNumber:I,accept:M})=>{var f,W;const z=(L==null?void 0:L.touched)&&(L==null?void 0:L.error);return t.jsxs("div",{className:"mb-3",children:[e&&t.jsxs("label",{className:"form-floating mb-2",style:k,children:[e||t.jsx(t.Fragment,{children:" "})," ",_&&t.jsx(t.Fragment,{children:t.jsxs("span",{style:{color:"#b8b8b8"},children:["(",_,")"]})}),h&&t.jsxs(t.Fragment,{children:[" ",t.jsx(Ua,{placement:"right",title:N,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),t.jsxs("div",{className:T?"input-group":"",children:[T&&A&&t.jsx("span",{onClick:()=>F&&F(),className:"input-group-text",children:b}),t.jsx("input",{...a,onKeyPress:$=>{!w&&$.key==="Enter"&&$.preventDefault()},ref:r,autoComplete:"off",id:n,type:i,accept:i==="file"?M:"",value:i==="file"?(f=a==null?void 0:a.target)==null?void 0:f.files:y||i==="date"?a==null?void 0:a.value:I||typeof(a==null?void 0:a.value)=="number"?Number(a==null?void 0:a.value):(W=a==null?void 0:a.value)==null?void 0:W.toUpperCase(),className:`form-control  ${z?"is-invalid":""} ${L.valid?s===void 0&&"is-valid":""} ${l||""}`,readOnly:s,minLength:m,maxLength:g,min:d,max:u,placeholder:o,style:{textTransform:y?"none":"uppercase",lineHeight:"1.9"}}),T&&R&&t.jsx("span",{onClick:()=>F&&F(),style:{cursor:F?"pointer":"auto"},className:"input-group-text",children:b}),z&&t.jsxs("div",{className:"invalid-feedback",children:[L==null?void 0:L.error,"."]})]})]})},ea=({label:a,meta:e,options:i,optionalLabel:s,iconOptional:o,titleTooltip:n,input:r,noUpperCase:l,placeholder:d,async:u,disabled:m,asyncOptions:g})=>{const k=_=>{var y;const N=_?typeof _.value=="number"||l?_.value:(y=_.value)==null?void 0:y.toUpperCase():"";r.onChange(N)},h=(e==null?void 0:e.touched)&&(e==null?void 0:e.error);return t.jsxs("div",{className:"form-group",children:[a&&t.jsxs("label",{className:"mb-2",children:[a,s&&t.jsxs("span",{style:{color:"#b8b8b8"},children:[" ( ",s," )"]}),o&&t.jsxs(t.Fragment,{children:[" ",t.jsx(Ua,{placement:"right",title:n,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),u?t.jsx(Ti,{onChange:k,loadOptions:g,cacheOptions:!1,placeholder:d==null?void 0:d.toUpperCase(),isClearable:!0,closeMenuOnSelect:!0,menuPortalTarget:document.body,menuPosition:"fixed",styles:{menu:_=>({..._,zIndex:9999,textTransform:l?"none":"uppercase",minHeight:"30px"}),control:(_,{isFocused:N})=>{const y=!!r.value;return{..._,boxShadow:"none",borderColor:h?"#ff5b57":N||y?"#00acac":"#d9d9d9","&:hover":{borderColor:h?"#ff5b57":N||y?"#00acac":"#d9d9d9"}}}}}):t.jsx(Li,{isDisabled:m,options:i,placeholder:d==null?void 0:d.toUpperCase(),isClearable:!0,closeMenuOnSelect:!0,value:i.find(_=>_.value===r.value)||null,onChange:k,styles:{menu:_=>({..._,zIndex:9999,textTransform:l?"none":"uppercase",minHeight:"30px"}),control:(_,{isFocused:N})=>{const y=!!r.value;return{..._,boxShadow:"none",borderColor:h?"#ff5b57":N||y?"#00acac":"#d9d9d9","&:hover":{borderColor:h?"#ff5b57":N||y?"#00acac":"#d9d9d9"}}}},className:`${h?"is-invalid":""} ${e.valid?"is-valid":""}`}),h&&t.jsxs("div",{className:"invalid-feedback",children:[e==null?void 0:e.error,"."]})]})},Ma=a=>a&&a.replace(/[^\d]/g,""),da=({label:a,placeholder:e,input:i,isRp:s,type:o,noUpperCase:n,readOnly:r,meta:l,id:d,customeCss:u,optionalLabel:m,stylelabel:g,iconOptional:k,titleTooltip:h,inputGroup:_,left:N,textIconGroup:y,right:L,value:w,onClick:T,handleClick:A})=>{const R=I=>{i.onChange(I.floatValue||0)},F=I=>{T&&T(Number(Ma(I.target.value||"0"))||0)},b=(l==null?void 0:l.touched)&&(l==null?void 0:l.error);return t.jsxs("div",{className:`mb-3 ${o==="hidden"?"d-none":"d-block"}`,children:[a&&t.jsxs("label",{className:"form-floating mb-2",style:g,children:[a||t.jsx(t.Fragment,{children:" "})," ",m&&t.jsx(t.Fragment,{children:t.jsxs("span",{style:{color:"#b8b8b8"},children:["(",m,")"]})}),k&&t.jsxs(t.Fragment,{children:[" ",t.jsx(Ua,{placement:"right",title:h,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),t.jsxs("div",{className:_?"input-group":"",children:[_&&N&&t.jsx("span",{onClick:()=>A&&A(),className:"input-group-text",children:y}),t.jsx(ne,{id:d,allowLeadingZeros:!0,readOnly:r,thousandSeparator:s?",":"",onValueChange:R,placeholder:e,style:{textTransform:n?"none":"uppercase",lineHeight:"1.9"},className:`form-control ${b&&"is-invalid "} ${l.valid&&"is-valid"} ${u||""} `,value:w||i.value,onClick:F,onFocus:I=>I.target.select()}),_&&L&&t.jsx("span",{onClick:()=>A&&A(),style:{cursor:A?"pointer":"auto"},className:"input-group-text",children:y}),b&&t.jsxs("div",{className:"invalid-feedback",children:[l==null?void 0:l.error,"."]})]})]})},me=({label:a,readOnly:e,placeholder:i,id:s,customeCss:o,minLength:n,input:r,maxLength:l,stylelabel:d,iconOptional:u,optionalLabel:m,titleTooltip:g,noUpperCase:k,meta:h,enableenter:_,inputGroup:N,left:y,right:L,handleClick:w,textIconGroup:T,height:A,width:R})=>{var b;const F=(h==null?void 0:h.touched)&&(h==null?void 0:h.error);return t.jsxs("div",{className:"mb-3",children:[a&&t.jsxs("label",{className:"form-floating mb-2",style:d,children:[a||t.jsx(t.Fragment,{children:" "}),m&&t.jsxs("span",{style:{color:"#b8b8b8"},children:["(",m,")"]}),u&&t.jsxs(t.Fragment,{children:[" ",t.jsx(Ua,{placement:"right",title:g,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),t.jsxs("div",{className:N?"input-group":"",children:[N&&y&&t.jsx("span",{onClick:w,className:"input-group-text",id:s,style:{cursor:w?"pointer":"auto"},children:T}),t.jsx("textarea",{...r,onKeyPress:I=>{!_&&I.key==="Enter"&&I.preventDefault()},autoComplete:"off",id:s,className:`form-control ${F?"is-invalid":""} ${h.valid&&e===void 0?"is-valid":""} ${o||""}`,readOnly:e,minLength:n,maxLength:l,placeholder:i,rows:A,cols:R,value:k?r==null?void 0:r.value:(b=r==null?void 0:r.value)==null?void 0:b.toUpperCase(),style:{textTransform:k?"none":"uppercase",lineHeight:"1.9"}}),N&&L&&t.jsx("span",{onClick:w,className:"input-group-text",id:s,style:{cursor:w?"pointer":"auto"},children:T}),F&&t.jsxs("div",{className:"invalid-feedback",children:[h==null?void 0:h.error,"."]})]})]})};vi("id",Pi);const wo=({input:a,label:e,readOnly:i,placeholder:s,id:o,customeCss:n,min:r,max:l,stylelabel:d,iconOptional:u,optionalLabel:m,titleTooltip:g,meta:k,inputGroup:h,left:_,right:N,handleClick:y,textIconGroup:L,includeDates:w})=>{const T=(k==null?void 0:k.touched)&&(k==null?void 0:k.error),A=()=>(console.log(a),t.jsx("div",{className:"customDatePickerWidth",children:t.jsx(Ni,{id:o,selected:a!=null&&a.value?new Date(a==null?void 0:a.value):null,onChange:R=>{R?(console.log(R),a==null||a.onChange(R)):a==null||a.onChange(null)},className:`form-control ${T?"is-invalid":""} ${n||""}`,readOnly:i,includeDates:w,placeholderText:s,minDate:r?new Date(r):void 0,maxDate:l?new Date(l):void 0,locale:"id"})}));return t.jsxs("div",{className:"mb-3",children:[e&&t.jsxs("label",{className:"form-floating mb-2",style:d,children:[e||t.jsx(t.Fragment,{children:" "})," ",m&&t.jsx(t.Fragment,{children:t.jsxs("span",{style:{color:"#b8b8b8"},children:["(",m,")"]})}),u&&t.jsxs(t.Fragment,{children:[" ",t.jsx(Ua,{placement:"right",title:g,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),t.jsxs("div",{className:h?"input-group":"",children:[h&&_&&t.jsx("span",{onClick:()=>y&&y(),className:"input-group-text",children:L}),A(),h&&N&&t.jsx("span",{onClick:()=>y&&y(),style:{cursor:y?"pointer":"auto"},className:"input-group-text",children:L}),T&&t.jsxs("div",{className:"invalid-feedback",children:[k==null?void 0:k.error,"."]})]})]})},$t=async({title:a,columns:e,data:i,grouping:s,date:o,grandTotalSetting:n,dataToko:r,customizeExcel:l,customizeExcelisBeforeTable:d})=>{const u=new Si.Workbook;e=e.filter(A=>{var R;return!((R=A.options)!=null&&R.disabledColumn)});const m=u.addWorksheet(a),g=e.length,k=m.addRow([]);k.getCell(1).value=a,k.getCell(1).alignment={horizontal:"center"},m.mergeCells(`A${k.number}:${String.fromCharCode(64+g)}${k.number}`),k.eachCell(A=>{A.font={color:{argb:"000000"},bold:!0,size:12}});const h=m.addRow([]);h.getCell(1).value=(r==null?void 0:r.nama_toko)||Z("dataSystem").nama_toko||"",h.getCell(1).alignment={horizontal:"center"},m.mergeCells(`A${h.number}:${String.fromCharCode(64+g)}${h.number}`),h.eachCell(A=>{A.font={color:{argb:"000000"},bold:!0,size:12}});const _=m.addRow([]);if(_.getCell(1).value=(r==null?void 0:r.alamat_toko)||Z("dataSystem").alamat_toko||"",_.getCell(1).alignment={horizontal:"center"},m.mergeCells(`A${_.number}:${String.fromCharCode(64+g)}${_.number}`),_.eachCell(A=>{A.font={color:{argb:"000000"},bold:!0,size:12}}),o){const A=m.addRow([]);A.getCell(1).value=`Tanggal : ${Y(String((o==null?void 0:o.start_date)||(o==null?void 0:o.tgl_system)||new Date),!0)} ${o!=null&&o.end_date?`S/D ${Y(String(o==null?void 0:o.end_date),!0)}`:""}`,A.getCell(1).alignment={horizontal:"center"},m.mergeCells(`A${A.number}:${String.fromCharCode(64+g)}${A.number}`),A.eachCell(R=>{R.font={color:{argb:"000000"},bold:!0,size:12}})}d&&d(m),m.addRow(e).eachCell(A=>{var F,b,I,M;A.fill={type:"pattern",pattern:"solid",fgColor:{argb:"E8E5E5"},bgColor:{argb:"E8E5E5"}},A.font={color:{argb:"000000"},bold:!0};const R=A.value;A.value&&(A.alignment={horizontal:`${(F=R==null?void 0:R.options)!=null&&F.halign?(b=R==null?void 0:R.options)==null?void 0:b.halign:((I=R==null?void 0:R.options)==null?void 0:I.format)==="RP"||((M=R==null?void 0:R.options)==null?void 0:M.format)==="GR"?"right":"left"}`},A.value=R.label)});const y={};if(i.forEach(A=>{if(s.length>0){const R=s.map(I=>({value:A[I]!==void 0?`${Ro(I)} : `+A[I]:""})),F=m.addRow(R.map(I=>I.value));F.eachCell({includeEmpty:!0},I=>{I.border={top:{style:"thin",color:{argb:"FF000000"}},bottom:{style:"thin",color:{argb:"FF000000"}}}}),m.mergeCells(`A${F.number}:${String.fromCharCode(64+Number(e.length))}${F.number}`);const b={};if(A.detail.forEach(I=>{const M=e.map(f=>{var xa,Ta,Na,La,Aa,Da,qa,Wa,Ya,Xa,Za,Qa;const W=((xa=f==null?void 0:f.options)==null?void 0:xa.format)==="DATETIME"?I[f.key]===void 0?oe(I[f.key]):"":((Ta=f==null?void 0:f.options)==null?void 0:Ta.format)==="DATE"?I[f.key]!==void 0?Y(I[f.key],!0):"":I[f.key],$={horizontal:(Na=f==null?void 0:f.options)!=null&&Na.halign?(La=f==null?void 0:f.options)==null?void 0:La.halign:((Aa=f==null?void 0:f.options)==null?void 0:Aa.format)==="RP"||((Da=f==null?void 0:f.options)==null?void 0:Da.format)==="GR"?"right":"left"},ta=(qa=f==null?void 0:f.options)!=null&&qa.render?(Ya=(Wa=f==null?void 0:f.options)==null?void 0:Wa.render(W,I).styles)==null?void 0:Ya.fillColor:"",oa={fgColor:ta==null?void 0:ta.replace("#",""),bgColor:ta==null?void 0:ta.replace("#","")},ca=f.key;y[ca]=(y[ca]||0)+Number(W),b[ca]=(b[ca]||0)+Number(W);const ua=!!((Xa=f==null?void 0:f.options)!=null&&Xa.render);return{value:W,alignment:$,fill:oa,isRender:ua,numFmt:((Za=f==null?void 0:f.options)==null?void 0:Za.format)==="RP"?"#,##0":((Qa=f==null?void 0:f.options)==null?void 0:Qa.format)==="GR"?"#,##0.000":void 0}}),z=m.addRow(M.map(f=>f.value));M.forEach((f,W)=>{const $=z.getCell(W+1);$.alignment=f.alignment,f.isRender&&($.fill={type:"pattern",pattern:"solid",fgColor:{argb:`${f.fill.fgColor}`},bgColor:{argb:`${f.fill.bgColor}`}}),f.numFmt&&($.numFmt=f.numFmt)})}),!(n!=null&&n.disableSubtotalTotal)){const I=m.addRow(e.map(()=>null));e.forEach((M,z)=>{var f,W,$;if(((f=M==null?void 0:M.options)==null?void 0:f.format)==="RP"||((W=M==null?void 0:M.options)==null?void 0:W.format)==="GR"){const oa=i.length+4-1,ca=`SUM(${String.fromCharCode(65+z)}4:${String.fromCharCode(65+z)}${oa})`,ua=I.getCell(z+1);I.getCell(1).value="SUB TOTAL",I.getCell(1).alignment={horizontal:"center"},ua.numFmt=(($=M==null?void 0:M.options)==null?void 0:$.format)==="GR"?"#,##0.000":"#,##0",ua.value={formula:ca},I.getCell(z+1).value=M!=null&&M.options.disabledFooter?"":b[M.key]}else I.getCell(z+1).value=""}),I.eachCell(M=>{M.fill={type:"pattern",pattern:"solid",fgColor:{argb:"E8E5E5"},bgColor:{argb:"E8E5E5"}},M.font={color:{argb:"000000"},bold:!0}})}}else{const R=e.map(b=>{var f,W,$,ta,oa,ca,ua,xa;const I=((f=b==null?void 0:b.options)==null?void 0:f.format)==="DATETIME"?A[b.key]!==void 0?oe(A[b.key]):"":((W=b==null?void 0:b.options)==null?void 0:W.format)==="DATE"?A[b.key]!==void 0?Y(A[b.key],!0):"":A[b.key],M={horizontal:($=b==null?void 0:b.options)!=null&&$.halign?(ta=b==null?void 0:b.options)==null?void 0:ta.halign:((oa=b==null?void 0:b.options)==null?void 0:oa.format)==="RP"||((ca=b==null?void 0:b.options)==null?void 0:ca.format)==="GR"?"right":"left"},z=b.key;return y[z]=(y[z]||0)+Number(I),{value:I,alignment:M,numFmt:((ua=b==null?void 0:b.options)==null?void 0:ua.format)==="RP"?"#,##0":((xa=b==null?void 0:b.options)==null?void 0:xa.format)==="GR"?"#,##0.000":void 0}}),F=m.addRow(R.map(b=>b.value));R.forEach((b,I)=>{const M=F.getCell(I+1);M.alignment=b.alignment,b.numFmt&&(M.numFmt=b.numFmt)})}}),!(n!=null&&n.disableSubtotalTotal)){const A=m.addRow(e.map(()=>null));e.forEach((R,F)=>{var b,I,M;if(((b=R==null?void 0:R.options)==null?void 0:b.format)==="RP"||((I=R==null?void 0:R.options)==null?void 0:I.format)==="GR"){const f=i.length+4-1,W=`SUM(${String.fromCharCode(65+F)}4:${String.fromCharCode(65+F)}${f})`,$=A.getCell(F+1);A.getCell(1).value="GRAND TOTAL",A.getCell(1).alignment={horizontal:"center"},$.numFmt=((M=R==null?void 0:R.options)==null?void 0:M.format)==="GR"?"#,##0.000":"#,##0",$.value={formula:W},A.getCell(F+1).value=R!=null&&R.options.disabledFooter?"":y[R.key]}else A.getCell(F+1).value=""}),n!=null&&n.colSpan&&m.mergeCells(`A${A.number}:${String.fromCharCode(64+Number(n==null?void 0:n.colSpan))}${A.number}`),A.eachCell(R=>{R.fill={type:"pattern",pattern:"solid",fgColor:{argb:"E8E5E5"},bgColor:{argb:"E8E5E5"}},R.font={color:{argb:"000000"},bold:!0}})}l&&l(m);const L=await u.xlsx.writeBuffer(),w=new Blob([L],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),T=document.createElement("a");T.href=URL.createObjectURL(w),T.download=`${a}.xlsx`,document.body.appendChild(T),T.click(),document.body.removeChild(T)},Ro=a=>a.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "),Ft=({title:a,columns:e,data:i,grouping:s,formatPdf:o,date:n,grandTotalSetting:r,dataToko:l,customizePdf:d,addRowPdf:u})=>{const m=new xe(o.orientation,o.unit,[o.width||297,o.height||210]),g=[];let k=30;e=e.filter(b=>{var I;return!((I=b.options)!=null&&I.disabledColumn)});const h=m.internal.pageSize.getWidth();m.setFontSize(10),m.text((l==null?void 0:l.nama_toko)||Z("dataSystem").nama_toko,15,18);const _=(l==null?void 0:l.alamat_toko)||Z("dataSystem").nama_toko,N=m.splitTextToSize(_,100);m.text(N,15,22),m.text(a,h-15,18,{align:"right"}),n&&m.text(`Tanggal : ${Y(String((n==null?void 0:n.start_date)||(n==null?void 0:n.tgl_system)),!0)} ${n!=null&&n.end_date?`S/D ${Y(String(n==null?void 0:n.end_date),!0)}`:""}`,h-15,22,{align:"right"}),m.setProperties({title:a});const y=e.map(b=>{var I,M,z,f;return{content:b.label,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:(I=b==null?void 0:b.options)!=null&&I.halign?(M=b==null?void 0:b.options)==null?void 0:M.halign:((z=b==null?void 0:b.options)==null?void 0:z.format)==="RP"||((f=b==null?void 0:b.options)==null?void 0:f.format)==="GR"?"right":"left"}}});g.push(y);const L={};i.forEach(b=>{if(s.length>0){const I=s.map(f=>({content:b[f]!==void 0?`${Ko(f)} : `+b[f]:"",colSpan:e.length,styles:{lineColor:"#000",lineWidth:{top:.1,right:0,bottom:.3,left:0}}}));g.push(I);const M={};b.detail.forEach(f=>{const W=e.map($=>{var ca,ua,xa,Ta,Na,La,Aa;const ta=f[$.key],oa=$.key;return L[oa]=(L[oa]||0)+Number(ta),M[oa]=(M[oa]||0)+Number(ta),(ca=$.options)!=null&&ca.render?$.options.render(ta,f):{content:(()=>{var Da;switch((Da=$==null?void 0:$.options)==null?void 0:Da.format){case"RP":return f[$.key]!==void 0?Number(f[$.key]||0).toLocaleString("kr-ko"):"";case"GR":return f[$.key]!==void 0?Number(f[$.key]||0).toFixed(3):"";case"DATETIME":return f[$.key]!==void 0?oe(f[$.key]||new Date):"";case"DATE":return f[$.key]!==void 0?Y(f[$.key]||new Date,!0):"";default:return f[$.key]!==void 0?f[$.key].toString():""}})(),styles:{textColor:((ua=$.options)==null?void 0:ua.textColor)||"#000",fillColor:((xa=$.options)==null?void 0:xa.bgColor)||"#ffffff",halign:(Ta=$==null?void 0:$.options)!=null&&Ta.halign?(Na=$==null?void 0:$.options)==null?void 0:Na.halign:((La=$==null?void 0:$.options)==null?void 0:La.format)==="RP"||((Aa=$==null?void 0:$.options)==null?void 0:Aa.format)==="GR"||typeof f[$.key]=="number"?"right":"left"}}});g.push(W)});const z=[];if(e.forEach(f=>{var $,ta,oa,ca,ua,xa,Ta;const W=M[f.key];if((($=f==null?void 0:f.options)==null?void 0:$.format)==="RP"||((ta=f==null?void 0:f.options)==null?void 0:ta.format)==="GR"){const Na={content:(oa=f==null?void 0:f.options)!=null&&oa.disabledFooter?"":(()=>{var La;switch((La=f==null?void 0:f.options)==null?void 0:La.format){case"RP":return W.toLocaleString("kr-ko");case"GR":return W.toFixed(3);default:return W.toString()}})(),styles:{halign:(ca=f==null?void 0:f.options)!=null&&ca.halign?(ua=f==null?void 0:f.options)==null?void 0:ua.halign:((xa=f==null?void 0:f.options)==null?void 0:xa.format)==="RP"||((Ta=f==null?void 0:f.options)==null?void 0:Ta.format)==="GR"?"right":"left",textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold"}};z.push(Na)}else z.push({content:"",styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold"}})}),!(r!=null&&r.disableSubtotalTotal)){const f=r!=null&&r.colSpan?Number((r==null?void 0:r.colSpan)||0)+1:0;z[0]={content:"SUB TOTAL",colSpan:f,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:"center"}},r!=null&&r.colSpan&&z.splice(1,r==null?void 0:r.colSpan),g.push(z)}}else{const I=e.map(M=>{var W,$,ta,oa,ca;const z=b[M.key],f=M.key;return L[f]=(L[f]||0)+Number(z),(W=M.options)!=null&&W.render?M.options.render(z,b):{content:(()=>{var ua;switch((ua=M==null?void 0:M.options)==null?void 0:ua.format){case"RP":return b[M.key]!==void 0?Number(b[M.key]||0).toLocaleString("kr-ko"):"";case"GR":return b[M.key]!==void 0?Number(b[M.key]||0).toFixed(3):"";case"DATETIME":return b[M.key]!==void 0?oe(b[M.key]||new Date):"";case"DATE":return b[M.key]!==void 0?Y(b[M.key]||new Date,!0):"";default:return b[M.key]!==void 0?b[M.key].toString():""}})(),styles:{halign:($=M==null?void 0:M.options)!=null&&$.halign?(ta=M==null?void 0:M.options)==null?void 0:ta.halign:((oa=M==null?void 0:M.options)==null?void 0:oa.format)==="RP"||((ca=M==null?void 0:M.options)==null?void 0:ca.format)==="GR"||typeof b[M.key]=="number"?"right":"left"}}});g.push(I)}});const w=[];e.forEach(b=>{var M,z,f,W,$,ta,oa;const I=L[b.key];if(((M=b==null?void 0:b.options)==null?void 0:M.format)==="RP"||((z=b==null?void 0:b.options)==null?void 0:z.format)==="GR"){const ca={content:(f=b==null?void 0:b.options)!=null&&f.disabledFooter?"":(()=>{var ua;switch((ua=b==null?void 0:b.options)==null?void 0:ua.format){case"RP":return I.toLocaleString("kr-ko");case"GR":return I.toFixed(3);default:return I.toString()}})(),styles:{halign:(W=b==null?void 0:b.options)!=null&&W.halign?($=b==null?void 0:b.options)==null?void 0:$.halign:((ta=b==null?void 0:b.options)==null?void 0:ta.format)==="RP"||((oa=b==null?void 0:b.options)==null?void 0:oa.format)==="GR"?"right":"left",textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold"}};w.push(ca)}else w.push({content:"",styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold"}})});const T=r!=null&&r.colSpan?Number((r==null?void 0:r.colSpan)||0)+1:0;r!=null&&r.disableGrandTotal||(w[0]={content:"GRAND TOTAL",colSpan:T,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:"center"}},r!=null&&r.colSpan&&w.splice(1,r==null?void 0:r.colSpan),g.push(w)),typeof u=="function"&&u(g),g.push([{content:`Print Date : ${oe(`${new Date}`)}`,colSpan:e.length,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"italic"}}]),m.autoTable({head:[],body:g,startY:k,theme:o.theme||"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:o.fontSIze||8,lineColor:"#000",lineWidth:{top:.1,right:.1,bottom:.1,left:.1}},headStyles:{fontSize:o.fontSIze||8,textColor:"#000",fillColor:"#E8E5E5"}}),k=m.lastAutoTable.finalY+3;const A=m.internal.getNumberOfPages(),R=m.internal.pageSize.width,F=m.internal.pageSize.height;m.setFontSize(10);for(let b=1;b<A+1;b++){const I=R/2,M=F-10;m.setPage(b),m.text(`${b} of ${A}`,I,M,{align:"center"})}typeof d=="function"&&d(m,k,$e),m.save(`${a}.pdf`)},Ko=a=>a.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "),fa=({title:a,columns:e,data:i,grouping:s,formatPdf:o,date:n,type:r,grandTotalSetting:l,dataToko:d,customizePdf:u,customizeExcel:m,addRowPdf:g,customizeExcelisBeforeTable:k})=>{r==="PDF"?Ft({formatPdf:o,date:n,title:a,data:i,columns:e,grouping:s,grandTotalSetting:l,dataToko:d,customizePdf:u,addRowPdf:g}):r==="EXCEL"?$t({date:n,title:a,data:i,columns:e,grouping:s,grandTotalSetting:l,dataToko:d,customizeExcel:m,customizeExcelisBeforeTable:k}):($t({date:n,title:a,data:i,columns:e,grouping:s,grandTotalSetting:l,dataToko:d,customizeExcel:m,customizeExcelisBeforeTable:k}),Ft({formatPdf:o,date:n,title:a,data:i,columns:e,grouping:s,grandTotalSetting:l,dataToko:d,customizePdf:u,addRowPdf:g}))},Fn=new Date().toLocaleDateString("id-ID",{timeZone:"Asia/Jakarta",year:"numeric",month:"2-digit",day:"2-digit"});function $o(){const a=new Date,e=a.getFullYear(),i=a.getMonth(),s=new Date(e,i,1),o=new Date(e,i+1,0),n=r=>{const l=String(r.getDate()).padStart(2,"0"),d=String(r.getMonth()+1).padStart(2,"0");return`${r.getFullYear()}-${d}-${l}`};return{start:n(s),end:n(o)}}function Ie(a,e){const i=new Date(a);i.setHours(0),i.setMinutes(0),i.setSeconds(0);const s=new Date(e);s.setHours(0),s.setMinutes(0),s.setSeconds(0);const o=s.getTime()-i.getTime();return Math.floor(o/(1e3*3600*24))}const Me=()=>{const a=new Date,e=a.getDay(),i=new Date(a);i.setDate(a.getDate()-(e===0?6:e-1));const s=[];for(let o=0;o<7;o++){const n=new Date(i);n.setDate(i.getDate()+o),s.push(n)}return s},Fo=a=>{const e=new Date(a),i=e.getDay(),s=new Date(e);s.setDate(e.getDate()-i);const o=[];for(let n=0;n<7;n++){const r=new Date(s);r.setDate(s.getDate()+n),o.push(r)}return o},[Bo,Uo,Oo]=Fn.split("/"),U=`${Oo}-${Uo}-${Bo}`;Fn.toString().substring(0,7);const P={dataMaster:{user:"user",toko:"toko",jabatan:"jabatan",hariLibur:"hari-libur",pegawai:"pegawai",updatePinPegawai:"pegawai/service/change-pin"},paramter:{bonusSales:"parameter-bonus-sales",targetSales:"parameter-target-sales",targetToko:"parameter-target-toko",parameterCuti:"parameter-gap-cuti",parameterKonversiCuti:"parameter-konversi-cuti",parameterShiftKerja:"parameter-shift-kerja",parameterLembur:"parameter-lembur",parameterAbsenTerlambat:"absen-terlambat",parameterIzinKeluarMasuk:"limit-minute-out"},externalApi:{dataSales:"external/sales",omzetSales:"external/sales/monthly-omzet"},timeKeeping:{kehadiran:"time-keeping/service/absen-kehadiran",istirahat:"time-keeping/service/absen-istirahat",break:"time-keeping/service/absen-break",sholat:"time-keeping/service/absen-sholat",validationPin:"pegawai/service/pin-validation",dataTimeKeeping:"time-keeping",izinKeluar:"time-keeping/service/absen-izin-keluar-masuk"},transaksi:{ubahLibur:"ubah-libur",tukarLibur:"tukar-libur",cuti:"cuti-request",batalcuti:"cuti-request/batal-cuti",pelanggaranPegawai:"pelanggaran-pegawai",kasbon:"kasbon",payroll:"payroll",payrollSummary:"payroll/pegawai-summary",potonganLain:"potongan-lain-lain",omzetSales:"omzet-sales/bulk",lembur:"transaksi-lembur",pengajuanIzinPergi:"pengajuan-izin-pergi",pengajuanIzinPulangCepat:"pengajuan-izin-pulang-cepat",getNoKasbon:"kasbon/get-no-kasbon",getDetailKasbon:"kasbon/get-kasbon",reviewKasbon:"kasbon/review-kasbon",validasiKasbonApprove:"kasbon/action-approve",validasiKasbonReject:"kasbon/action-reject",tambahSaldoKasbon:"kasbon/tambah-saldo-kasbon"},report:{timeKeeping:"time-keeping/report/pegawai-time-keeping",cuti:"cuti-request/report/pengajuan-cuti",pelanggaranPegawai:"pelanggaran-pegawai/report",kasbon:"kasbon/report",kasbonView:"kasbon/lihat-kasbon",potonganLain:"potongan-lain-lain/report",payroll:"payroll/report",globalPayroll:"payroll/report-global",getReportLembur:"transaksi-lembur/report",getReportAbsenTerlambat:"time-keeping/report/absen-terlambat",getReportCashBon:"cash-kasbon/report",getLaporanBonusAbsensi:"payroll/report-bonus-absen",payrollbank:"bonus-absensi/report"},login:"auth/login",otorisasi:"user/otorisasi",dashboard:{hbd:"dashboard/member-hbd",cuti:"dashboard/unreviewed-cuti-request"},utility:{memberCard:"member-card/cetak",getModule:"setup-system/get-module",createModule:"setup-system/create-module"}},Go=a=>({type:ga.IS_LOADING,payload:a}),zo=a=>({type:ga.SCREEN_SIZE,payload:a}),Bn=()=>({type:ga.IS_LOADING,payload:{screen:!1,table:!1,button:!1}}),Ho=a=>({type:ga.SHOW_BUTTON_DELETE,payload:a}),Jo=a=>({type:ga.IS_EDIT,payload:a}),Vo=a=>({type:ga.GET_DATA_EDIT,payload:a}),qo=a=>({type:ga.GET_KODE_TOKO,payload:a}),Wo=a=>({type:ga.LOADING_TABEL,payload:a}),Yo=a=>async e=>{e({type:ga.SHOW_MODAL,payload:a})},H=a=>async e=>{e({type:ga.SIMPAN_DATA_TMP,payload:a})},Xo=()=>async a=>{a({type:ga.SHOW_MODAL,payload:{isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""}})},Zo=(a,e)=>async i=>{S(e||"Laporan Tidak Tersedia"),i(H({data:[],namaForm:a})),i(Bn())},Qo=a=>async e=>{e({type:ga.DATA_NOTA,payload:a})},as=()=>async a=>{try{a(c.setLoading({screen:!0}));const e=await q(P.utility.getModule);a({type:ga.GET_MODULE,payload:{data:e.data}}),a(c.stopLoading())}catch(e){a({type:ga.GET_MODULE,payload:{data:[]}}),a(c.stopLoading()),S(`${e}`)}},c={simpanDataTmp:H,setLaporanKosong:Zo,getDataEdit:Vo,setDataNota:Qo,setLoading:Go,isEdit:Jo,showModal:Yo,hideModal:Xo,loadingTabel:Wo,stopLoading:Bn,showButtonDelete:Ho,setScreenSize:zo,getModule:as,setKodeToko:qo};var Ue=(a=>(a.GET_DATA_HARI_LIBUR="GET_DATA_HARI_LIBUR",a))(Ue||{});const Bt=(a,e)=>({type:Ue.GET_DATA_HARI_LIBUR,payload:{data:a,total:e}}),es=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.dataMaster.hariLibur,i);e(Bt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Bt([],0)),e(c.stopLoading()),S(`${i}`)}};var Oe=(a=>(a.GET_DATA_JABATAN="GET_DATA_JABATAN",a))(Oe||{});const Ut=(a,e)=>({type:Oe.GET_DATA_JABATAN,payload:{data:a,total:e}}),ts=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.dataMaster.jabatan,i);e(Ut(s.data,s.count)),e(c.stopLoading())}catch(i){e(Ut([],0)),e(c.stopLoading()),S(`${i}`)}};var Ge=(a=>(a.GET_DATA_PEGAWAI="GET_DATA_PEGAWAI",a))(Ge||{});const Ot=(a,e)=>({type:Ge.GET_DATA_PEGAWAI,payload:{data:a,total:e}}),ns=a=>async(e,i)=>{try{const s=i(),o={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit,kode_pegawai:a==null?void 0:a.kode_pegawai};je?o.kode_toko=s.utility.getKodeToko!==null?s.utility.getKodeToko:void 0:o.kode_toko=`${_a}`,e(c.setLoading({table:!0}));const n=await q(P.dataMaster.pegawai,o);e(Ot(n.data,n.count)),e(c.stopLoading())}catch(s){e(Ot([],0)),e(c.stopLoading()),S(`${s}`)}};var ze=(a=>(a.GET_DATA_TOKO="GET_DATA_TOKO",a))(ze||{});const Gt=(a,e)=>({type:ze.GET_DATA_TOKO,payload:{data:a,total:e}}),is=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.dataMaster.toko,i);ja("dataToko",s.data),e(Gt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Gt([],0)),e(c.stopLoading()),S(`${i}`)}},zt=(a,e)=>({type:He.GET_DATA_USER,payload:{data:a,total:e}}),os=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.kode_toko=`${_a}`,e(c.setLoading({table:!0}));const s=await q(P.dataMaster.user,i);e(zt(s.data,s.count)),e(c.stopLoading())}catch(i){e(zt([],0)),e(c.stopLoading()),S(`${i}`)}};var He=(a=>(a.GET_DATA_USER="GET_DATA_USER",a))(He||{});const aa={getDataJabatan:ts,getDataUser:os,getDataHariLibur:es,getDataPegawai:ns,getDataToko:is},Un={IS_LOGIN:"IS_LOGIN"},ss=a=>({type:Un.IS_LOGIN,payload:a}),On={isLogin:ss};var Je=(a=>(a.GET_PARAMETER_ABSESN_TERLAMBAT="GET_PARAMETER_ABSESN_TERLAMBAT",a))(Je||{});const Ht=(a,e)=>({type:Je.GET_PARAMETER_ABSESN_TERLAMBAT,payload:{data:a,total:e}}),rs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.parameterAbsenTerlambat,i);e(Ht(s.data,s.count)),e(c.stopLoading())}catch(i){e(Ht([],0)),e(c.stopLoading()),S(`${i}`)}};var Ve=(a=>(a.GET_PARAMETER_BONUS="GET_PARAMETER_BONUS",a))(Ve||{});const Jt=(a,e)=>({type:Ve.GET_PARAMETER_BONUS,payload:{data:a,total:e}}),ls=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.bonusSales,i);e(Jt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Jt([],0)),e(c.stopLoading()),S(`${i}`)}};var qe=(a=>(a.GET_PARAMETER_CUTI="GET_PARAMETER_CUTI",a))(qe||{});const Vt=(a,e)=>({type:qe.GET_PARAMETER_CUTI,payload:{data:a,total:e}}),ds=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.parameterCuti,i);e(Vt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Vt([],0)),e(c.stopLoading()),S(`${i}`)}};var We=(a=>(a.GET_PARAMETER_KELUAR_MASUK="GET_PARAMETER_KELUAR_MASUK",a))(We||{});const qt=(a,e)=>({type:We.GET_PARAMETER_KELUAR_MASUK,payload:{data:a,total:e}}),cs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.parameterIzinKeluarMasuk,i);e(qt(s.data,s.count)),e(c.stopLoading())}catch(i){e(qt([],0)),e(c.stopLoading()),S(`${i}`)}};var Ye=(a=>(a.GET_PARAMETER_KONVERSI_CUTI="GET_PARAMETER_KONVERSI_CUTI",a))(Ye||{});const Wt=(a,e)=>({type:Ye.GET_PARAMETER_KONVERSI_CUTI,payload:{data:a,total:e}}),us=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.parameterKonversiCuti,i);e(Wt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Wt([],0)),e(c.stopLoading()),S(`${i}`)}};var Xe=(a=>(a.GET_PARAMETER_LEMBUR="GET_PARAMETER_LEMBUR",a))(Xe||{});const Yt=(a,e)=>({type:Xe.GET_PARAMETER_LEMBUR,payload:{data:a,total:e}}),ms=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.parameterLembur,i);e(Yt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Yt([],0)),e(c.stopLoading()),S(`${i}`)}};var Ze=(a=>(a.GET_PARAMETER_SHIFT_KERJA="GET_PARAMETER_SHIFT_KERJA",a))(Ze||{});const Xt=(a,e)=>({type:Ze.GET_PARAMETER_SHIFT_KERJA,payload:{data:a,total:e}}),ps=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.parameterShiftKerja,i);e(Xt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Xt([],0)),e(c.stopLoading()),S(`${i}`)}};var Qe=(a=>(a.GET_PARAMETER_TARGET_SALES="GET_PARAMETER_TARGET_SALES",a))(Qe||{});const Zt=(a,e)=>({type:Qe.GET_PARAMETER_TARGET_SALES,payload:{data:a,total:e}}),gs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.targetSales,i);e(Zt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Zt([],0)),e(c.stopLoading()),S(`${i}`)}};var at=(a=>(a.GET_PARAMETER_TARGET_TOKO="GET_PARAMETER_TARGET_TOKO",a))(at||{});const Qt=(a,e)=>({type:at.GET_PARAMETER_TARGET_TOKO,payload:{data:a,total:e}}),hs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.paramter.targetToko,i);e(Qt(s.data,s.count)),e(c.stopLoading())}catch(i){e(Qt([],0)),e(c.stopLoading()),S(`${i}`)}},ra={getParameterAbsenTerlambat:rs,getParameterBonusSales:ls,getParameterTargetSales:gs,getParameterTargetToko:hs,getParameterCuti:ds,getParameterShiftKerja:ps,getParameterKonversiCuti:us,getParameterLembur:ms,getParameterIzinKeluarMasuk:cs};var Gn=(a=>(a.GET_DATA_TIME_KEEPING="GET_DATA_TIME_KEEPING",a))(Gn||{}),se=(a=>(a.GET_DATA_KAS_BON="GET_DATA_KAS_BON",a.GET_ALL_DATA_KAS_BON="GET_ALL_DATA_KAS_BON",a))(se||{});const an=(a,e)=>({type:se.GET_DATA_KAS_BON,payload:{data:a,total:e}}),en=(a,e)=>({type:se.GET_ALL_DATA_KAS_BON,payload:{data:a,total:e}}),_s=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.status_kasbon=a==null?void 0:a.status_kasbon,i.kode_toko=_a,e(c.setLoading({table:!0}));const s=await q(P.report.kasbonView,i);e(en(s.data,s.count)),e(c.stopLoading())}catch(i){e(en([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="Data Kasbon"?S("Data Kasbon Kosong"):S(`${i}`)}},bs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||U,i.end_date=(a==null?void 0:a.end_date)||U,i.kode_toko=_a,e(c.setLoading({table:!0}));const s=await q(P.report.kasbon,i);e(an(s.data,s.count)),e(c.stopLoading())}catch(i){e(an([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="Data Kasbon"?S("Data Kasbon Kosong"):S(`${i}`)}};var et=(a=>(a.GET_DATA_PELANGGARAN_PEGAWAI="GET_DATA_PELANGGARAN_PEGAWAI",a))(et||{});const tn=(a,e)=>({type:et.GET_DATA_PELANGGARAN_PEGAWAI,payload:{data:a,total:e}}),ks=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||U,i.end_date=(a==null?void 0:a.end_date)||U,i.kode_toko=_a,e(c.setLoading({table:!0}));const s=await q(P.report.pelanggaranPegawai,i);e(tn(s.data,s.count)),e(c.stopLoading())}catch(i){e(tn([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="DataPelanggaran"?S("Data Pelanggaran Pegawai Kosong"):S(`${i}`)}};var tt=(a=>(a.GET_DATA_CUTI="GET_DATA_CUTI",a))(tt||{});const nn=(a,e)=>({type:tt.GET_DATA_CUTI,payload:{data:a,total:e}}),ys=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||U,i.end_date=(a==null?void 0:a.end_date)||U,i.kode_toko=_a,e(c.setLoading({table:!0}));const s=await q(P.report.cuti,i);e(nn(s.data,s.count)),e(c.stopLoading())}catch(i){e(nn([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="Data Pengajuan Cuti"?S("Data Pengajuan Cuti Kosong"):S(`${i}`)}};var nt=(a=>(a.GET_DATA_PENGAJUAN_IZIN_PERGI="GET_DATA_PENGAJUAN_IZIN_PERGI",a))(nt||{});const on=(a,e)=>({type:nt.GET_DATA_PENGAJUAN_IZIN_PERGI,payload:{data:a,total:e}}),xs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||U,i.end_date=(a==null?void 0:a.end_date)||U,i.kode_pegawai=a==null?void 0:a.kode_pegawai,i.kode_toko=a==null?void 0:a.kode_toko,e(c.setLoading({table:!0}));const s=await q(P.transaksi.pengajuanIzinPergi,i);e(on(s.data,s.count)),e(c.stopLoading()),K("Data Tersedia")}catch(i){e(on([],0)),e(c.stopLoading()),S(`${i}`)}};var it=(a=>(a.GET_DATA_PENGAJUAN_IZIN_PULANG_CEPAT="GET_DATA_PENGAJUAN_IZIN_PULANG_CEPAT",a))(it||{});const sn=(a,e)=>({type:it.GET_DATA_PENGAJUAN_IZIN_PULANG_CEPAT,payload:{data:a,total:e}}),js=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||U,i.end_date=(a==null?void 0:a.end_date)||U,i.kode_pegawai=a==null?void 0:a.kode_pegawai,i.kode_toko=a==null?void 0:a.kode_toko,e(c.setLoading({table:!0}));const s=await q(P.transaksi.pengajuanIzinPulangCepat,i);e(sn(s.data,s.count)),e(c.stopLoading()),K("Data Tersedia")}catch(i){e(sn([],0)),e(c.stopLoading()),S(`${i}`)}};var ot=(a=>(a.GET_POTONGAN_LAIN="GET_POTONGAN_LAIN",a))(ot||{});const rn=(a,e)=>({type:ot.GET_POTONGAN_LAIN,payload:{data:a,total:e}}),fs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||U,i.end_date=(a==null?void 0:a.end_date)||U,i.kode_toko=_a,e(c.setLoading({table:!0}));const s=await q(P.report.potonganLain,i);e(rn(s.data,s.count)),e(c.stopLoading())}catch(i){e(rn([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="Data Potongan"?S("Data Potongan Lain Kosong"):S(`${i}`)}};var st=(a=>(a.GET_REVIEW_DATA_CUTI="GET_REVIEW_DATA_CUTI",a))(st||{});const ln=(a,e)=>({type:st.GET_REVIEW_DATA_CUTI,payload:{data:a,total:e}}),Ts=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=a!=null&&a.start_date?Y((a==null?void 0:a.start_date)||U):void 0,i.end_date=a!=null&&a.end_date?Y((a==null?void 0:a.end_date)||U):void 0,i.status_validasi=a==null?void 0:a.status_validasi,i.kode_toko=a==null?void 0:a.kode_toko,e(c.setLoading({table:!0}));const s=await q(P.dashboard.cuti,i);s.data.length===0&&S("Data Review Cuti Tidak Tersedia"),e(ln(s.data,s.count)),e(c.stopLoading())}catch(i){e(ln([],0)),e(c.stopLoading()),S(`${i}`)}};var rt=(a=>(a.GET_REVIEW_DATA_KASBON="GET_REVIEW_DATA_KASBON",a))(rt||{});const dn=(a,e)=>({type:rt.GET_REVIEW_DATA_KASBON,payload:{data:a,total:e}}),Ls=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=Y((a==null?void 0:a.start_date)||U),i.end_date=Y((a==null?void 0:a.end_date)||U),i.status_validasi=a==null?void 0:a.status_validasi,i.kode_toko=(a==null?void 0:a.kode_toko)!=="SEMUA"?a==null?void 0:a.kode_toko:void 0,e(c.setLoading({table:!0}));const s=await q(P.transaksi.reviewKasbon,i);if(s.data.length===0)return S("Data Review Kasbon Tidak Tersedia"),e(c.stopLoading()),!1;K("Data Tersedia"),e(dn(s.data,s.count)),e(c.stopLoading())}catch(i){e(dn([],0)),e(c.stopLoading()),S(`${i}`)}};var lt=(a=>(a.GET_REVIEW_DATA_UBAH_LIBUR="GET_REVIEW_DATA_UBAH_LIBUR",a))(lt||{});const cn=(a,e)=>({type:lt.GET_REVIEW_DATA_UBAH_LIBUR,payload:{data:a,total:e}}),vs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=Y((a==null?void 0:a.start_date)||U),i.end_date=Y((a==null?void 0:a.end_date)||U),i.status_valid=a==null?void 0:a.status_validasi,i.kode_toko=a==null?void 0:a.kode_toko,e(c.setLoading({table:!0}));const s=await q(P.transaksi.ubahLibur+"/review",i);s.data.length===0&&S("Data Review Ubah Libur Tidak Tersedia"),e(cn(s.data,s.count)),K("Berhasil mengambil Data"),e(c.stopLoading())}catch{e(cn([],0)),e(c.stopLoading())}};var dt=(a=>(a.GET_TUKAR_LIBUR="GET_TUKAR_LIBUR",a))(dt||{});const un=(a,e)=>({type:dt.GET_TUKAR_LIBUR,payload:{data:a,total:e}}),Ns=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||U,i.end_date=(a==null?void 0:a.end_date)||U,(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.transaksi.tukarLibur+"/report/tukar-libur",i);e(un(s.data,s.count)),e(c.stopLoading())}catch(i){e(un([],0)),e(c.stopLoading()),S(`${i}`)}};var ct=(a=>(a.GET_UBAH_LIBUR="GET_UBAH_LIBUR",a))(ct||{});const mn=(a,e)=>({type:ct.GET_UBAH_LIBUR,payload:{data:a,total:e}}),Ps=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||U,i.end_date=(a==null?void 0:a.end_date)||U,(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const s=await q(P.transaksi.ubahLibur);e(mn(s.data,s.count)),e(c.stopLoading())}catch(i){e(mn([],0)),e(c.stopLoading()),S(`${i}`)}},Q={getAllKasbon:_s,getReviewKasbon:Ls,getPengajuanCuti:ys,getReviewPengajuanCuti:Ts,getPelanggaranPegawai:ks,getDataKasBon:bs,getPotonganLain:fs,getPengajuanIzinPergi:xs,getPengajuanIzinPulangCepat:js,getTukarLibur:Ns,getUbahLibur:Ps,getReviewPengajuanUbahLibur:vs};function Ss(){return{getIsLogin:!1}}const Es=(a=Ss(),e)=>{switch(e.type){case Un.IS_LOGIN:return{...a,getIsLogin:e.payload};default:return a}},As={handleSetPageSidebar:!0,handleSetPageHeader:!0,handleSetContent:!0,handleSetFooter:!0,appSidebarEndMobileToggled:!1,appSidebarMinify:!1},Ds=(a=As,e)=>{switch(e.type){case Pa.SIDEBAR:return{...a,handleSetPageSidebar:e.payload};case Pa.HEADER:return{...a,handleSetPageHeader:e.payload};case Pa.CONTENT:return{...a,handleSetContent:e.payload};case Pa.FOOTER:return{...a,handleSetFooter:e.payload};case Pa.TOOGLESIDEBAR:return{...a,appSidebarEndMobileToggled:e.payload};case Pa.SIDERBARMINIFY:return{...a,appSidebarMinify:e.payload};default:return a}};function Is(){return{getLoading:{table:!1,button:!1,screen:!1},getModal:{isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""},hideModal:{isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""},setLoadingTabel:!1,getShowButtonDelete:!1,getDataEdit:[],getDataTmp:{data:[]},getNota:{data:[]},getModule:{data:[]},getScreenSize:"lg",getKodeToko:null}}const Ms=(a=Is(),e)=>{switch(e.type){case ga.GET_KODE_TOKO:return{...a,getKodeToko:e.payload};case ga.SHOW_BUTTON_DELETE:return{...a,getShowButtonDelete:e.payload};case ga.LOADING_TABEL:return{...a,setLoadingTabel:e.payload};case ga.GET_DATA_EDIT:return{...a,getDataEdit:e.payload};case ga.IS_LOADING:return{...a,getLoading:e.payload};case ga.HIDE_MODAL:return{...a,hideModal:e.payload};case ga.SHOW_MODAL:return{...a,getModal:e.payload};case ga.SIMPAN_DATA_TMP:return{...a,getDataTmp:e.payload};case ga.GET_MODULE:return{...a,getModule:e.payload};case ga.SCREEN_SIZE:return{...a,getScreenSize:e.payload};case ga.DATA_NOTA:return{...a,getNota:e.payload};default:return a}},Cs={data:[],total:0},ws=(a=Cs,e)=>{switch(e.type){case Ue.GET_DATA_HARI_LIBUR:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Rs={data:[],total:0},Ks=(a=Rs,e)=>{switch(e.type){case Oe.GET_DATA_JABATAN:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},$s={data:[],total:0},Fs=(a=$s,e)=>{switch(e.type){case Ge.GET_DATA_PEGAWAI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Bs={data:[],total:0},Us=(a=Bs,e)=>{switch(e.type){case ze.GET_DATA_TOKO:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Os={data:[],total:0},Gs=(a=Os,e)=>{switch(e.type){case He.GET_DATA_USER:return{...a,data:e.payload.data,total:e.payload.total};default:return a}},zs={data:[],total:0},Hs=(a=zs,e)=>{switch(e.type){case Ve.GET_PARAMETER_BONUS:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Js={data:[],total:0},Vs=(a=Js,e)=>{switch(e.type){case qe.GET_PARAMETER_CUTI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},qs={data:[],total:0},Ws=(a=qs,e)=>{switch(e.type){case Ye.GET_PARAMETER_KONVERSI_CUTI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Ys={data:[],total:0},Xs=(a=Ys,e)=>{switch(e.type){case Xe.GET_PARAMETER_LEMBUR:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Zs={data:[],total:0},Qs=(a=Zs,e)=>{switch(e.type){case Ze.GET_PARAMETER_SHIFT_KERJA:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},ar={data:[],total:0},er=(a=ar,e)=>{switch(e.type){case Qe.GET_PARAMETER_TARGET_SALES:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},tr={data:[],total:0},nr=(a=tr,e)=>{switch(e.type){case at.GET_PARAMETER_TARGET_TOKO:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},ir={data:[],total:0},or=(a=ir,e)=>{switch(e.type){case Je.GET_PARAMETER_ABSESN_TERLAMBAT:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},sr={data:[],total:0},rr=(a=sr,e)=>{switch(e.type){case We.GET_PARAMETER_KELUAR_MASUK:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},lr={data:[],total:0},dr=(a=lr,e)=>{switch(e.type){case Gn.GET_DATA_TIME_KEEPING:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},cr={data:[],total:0},ur=(a=cr,e)=>{switch(e.type){case se.GET_DATA_KAS_BON:return{...a,data:e.payload.data||[],total:e.payload.total};case se.GET_ALL_DATA_KAS_BON:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},mr={data:[],total:0},pr=(a=mr,e)=>{switch(e.type){case et.GET_DATA_PELANGGARAN_PEGAWAI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},gr={data:[],total:0},hr=(a=gr,e)=>{switch(e.type){case tt.GET_DATA_CUTI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},_r={data:[],total:0},br=(a=_r,e)=>{switch(e.type){case nt.GET_DATA_PENGAJUAN_IZIN_PERGI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},kr={data:[],total:0},yr=(a=kr,e)=>{switch(e.type){case it.GET_DATA_PENGAJUAN_IZIN_PULANG_CEPAT:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},xr={data:[],total:0},jr=(a=xr,e)=>{switch(e.type){case ot.GET_POTONGAN_LAIN:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},fr={data:[],total:0},Tr=(a=fr,e)=>{switch(e.type){case st.GET_REVIEW_DATA_CUTI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Lr={data:[],total:0},vr=(a=Lr,e)=>{switch(e.type){case rt.GET_REVIEW_DATA_KASBON:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Nr={data:[],total:0},Pr=(a=Nr,e)=>{switch(e.type){case dt.GET_TUKAR_LIBUR:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Sr={data:[],total:0},Er=(a=Sr,e)=>{switch(e.type){case ct.GET_UBAH_LIBUR:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Ar={data:[],total:0},Dr=(a=Ar,e)=>{switch(e.type){case lt.GET_REVIEW_DATA_UBAH_LIBUR:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},pa=()=>({simpanDataTmp:(s,o)=>async n=>{n(c.simpanDataTmp({data:o,namaForm:s}))},showModal:s=>async o=>{o(c.showModal({isModalShow:!0,isEdit:s.isEdit,title:s.title,data:s.data||[],namaForm:s.namaForm}))},hideModal:()=>async s=>{s(c.showModal({isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""}))}}),zn=ae({form:Ai,utility:Ms,helper:Es,theme:Ds,dataMaster:ae({dataJabatan:Ks,dataUser:Gs,dataHariLibur:ws,dataPegawai:Fs,dataToko:Us}),parameter:ae({dataBonusSales:Hs,parameterTargetSales:er,parameterTargetToko:nr,parameterCuti:Vs,parameterShiftKerja:Qs,parameterKonversiCuti:Ws,parameterLembur:Xs,parameterTerlambat:or,parameterIzinKeluarMasuk:rr}),timeKeeping:ae({dataTimeKeeping:dr}),transaksi:ae({dataPengajuanCuti:hr,reviewPengajuanCuti:Tr,pelanggaranPegawai:pr,kasBon:ur,potonganLain:jr,tukarLibur:Pr,pengajuanIzinPergi:br,pengajuanIzinPulangCepat:yr,reviewKasbonReducer:vr,ubahLibur:Er,reviewUbahLibur:Dr})});Ei(zn);const D=re,Ir={in:a=>a,out:a=>a},Mr={blacklist:["form","utility","dataMaster","timeKeeping","transaksi","parameter"],key:"root",storage:Ki,transforms:[Ir]},Cr=Ci(Mr,zn),wr=Di(Ri),Hn=Ii(Cr,Mi.composeWithDevTools(wr)),Rr=wi(Hn),pn=()=>{const a=D(o=>o.utility),e=D(o=>o.helper),i=D(o=>o.theme),s=E();return x.useEffect(()=>{const o=Cn();a.getScreenSize!==o&&s(c.setScreenSize(o))},[]),t.jsxs($i.Fragment,{children:[e.getIsLogin?t.jsxs("div",{className:"app "+(i.appSidebarEndMobileToggled?"app-sidebar-mobile-toggled ":"")+(i.appSidebarMinify?"app-sidebar-minified ":""),children:[i.handleSetPageHeader&&t.jsx(fh,{}),i.handleSetPageSidebar&&t.jsx(Ph,{}),i.handleSetContent&&t.jsx(jn,{})]}):i.handleSetContent&&t.jsx(jn,{}),t.jsx(Lo,{loading:a.getLoading.screen}),t.jsx(Fi,{}),t.jsx(Bi,{position:"top-center",reverseOrder:!1})]})},gn="/assets/mp3/tryagain.mp3",Kr="/assets/mp3/trash.mp3",$r="/assets/mp3/beep.mp3",Fr=()=>{const a=E(),[e,i]=x.useState(!0);x.useEffect(()=>{a(ba.handleSetPageSidebar(!1)),a(ba.handleSetPageHeader(!1));const b=Ui(),I=document.getElementById("nota_ganerate");return I&&(I.value=b),ja("uid",b),wn("uid"),()=>{a(ba.handleSetPageHeader(!0)),a(ba.handleSetPageSidebar(!0))}},[a]);const[s,o]=x.useState(new Date),[n,r]=x.useState("Kehadiran"),[l,d]=x.useState(!1);x.useEffect(()=>{const b=setInterval(()=>{o(new Date)},1e3);return()=>clearInterval(b)},[]);const u=s.getHours().toString().padStart(2,"0"),m=s.getMinutes().toString().padStart(2,"0"),g=s.getSeconds().toString().padStart(2,"0"),k=x.useRef(null),[h,_]=x.useState({pin:"",kode_pegawai:""}),[N,y]=x.useState("kode_pegawai"),L=b=>{if(b==="{lock}"||b==="{shift}")return d(!l),k.current.setOptions({layoutName:l?"default":"shift"}),!1;if(b==="{enter}"){if(h.kode_pegawai==="")return te("Kode Pegawai Belum Diisi"),S("Kode Pegawai Belum Diisi"),!1;if(h.pin==="")return te("Pin Belum Diisi"),S("Pin Belum Diisi"),!1;pe(Kr),h.pin!==""&&h.kode_pegawai!==""&&Kn({title:`Konfirmasi Time Keeping <b>${n}</b>`,html:`Jam  <b>${n}</b> anda ${u}:${m}:${g}`,icon:"info"}).then(async()=>{try{a(c.setLoading({screen:!0})),await na(P.timeKeeping.validationPin,h),w()}catch(I){te(`${I}`),S(`${I}`),a(c.stopLoading()),T()}}).catch(()=>{pe(gn)})}},w=async b=>{try{a(c.setLoading({screen:!0}));let I="";n==="Kehadiran"?I=P.timeKeeping.kehadiran:n==="Break"?I=P.timeKeeping.break:n==="Istirahat"?I=P.timeKeeping.istirahat:n==="Sholat"?I=P.timeKeeping.sholat:I=P.timeKeeping.izinKeluar;const M=`${new Date().getHours().toString().padStart(2,"0")}:${new Date().getMinutes().toString().padStart(2,"0")}`,z={kode_pegawai:h.kode_pegawai||(b==null?void 0:b.kode_pegawai),kode_toko:_a,jam:`${M}`,tgl_system:U},f=await na(I,z),W=await q(P.dataMaster.pegawai,{kode_pegawai:z.kode_pegawai,first:!0}),$=f.message.includes("Pulang"),ta=f.message.includes("Kehadiran"),oa=f.message.includes("Izin Masuk");T(),te(`OK, ${W.data.nama_pegawai}, Time Keeping ${$?"Pulang":ta?"Kehadiran":oa?"Izin Masuk":n} berhasil`),a(c.stopLoading()),$n({title:`Time Keeping <b>${$?"Pulang":ta?"Kehadiran":oa?"Izin Masuk":n}</b> Berhasil`,html:`Kode Pegawai  <b>${W.data.kode_pegawai}</b><br/>Nama  <b>${W.data.nama_pegawai}</b> <br/>Jam : ${M}`,icon:"success",time:1e6}).then(()=>{T()}).catch(()=>{T()}),T()}catch(I){te(`${I}`),S(`${I}`),a(c.stopLoading()),T()}};x.useEffect(()=>{const b=Nn(Ga.replace("/api/v1",""));return b.connect(),b.on("connect",async()=>{b.emit("join-room",`${_a}`),b.on("fingerprint-validation",I=>{I.is_valid?Z("uid")===I.uid&&w(I):(pe(gn),S(`Fingerprint Time Keeping ${n} Gagal`))})}),()=>{b.disconnect()}},[n]);const T=()=>{_({pin:"",kode_pegawai:""}),ha("kode_pegawai"),y("kode_pegawai"),a(v("timeKeeping","pin","")),a(v("timeKeeping","kode_pegawai","")),a(ia("timeKeeping")),a(c.stopLoading())},A=b=>{r(b),_({kode_pegawai:"",pin:""}),a(v("timeKeeping","pin","")),a(v("timeKeeping","kode_pegawai","")),setTimeout(()=>{ha("kode_pegawai")},100)},R=b=>{y(b),k.current.setInput(h[b])},F=b=>{pe($r),_(I=>({...I,[N]:b})),a(N==="kode_pegawai"?v("timeKeeping","kode_pegawai",b):v("timeKeeping","pin",b)),k.current.setInput(b)};return t.jsx("div",{children:t.jsxs("div",{className:"pos pos-with-menu ",style:{paddingLeft:"13rem"},id:"pos",children:[t.jsxs("div",{className:"pos-menu",style:{width:"12rem"},children:[t.jsx("div",{className:"logo",children:t.jsxs(Fe,{to:"#",children:[t.jsx("div",{className:"logo-img",children:t.jsx("i",{className:"fa fa-clock"})}),t.jsx("div",{className:"logo-text",children:"TIME KEEPING"})]})}),t.jsx("div",{className:"nav-container",children:t.jsxs("ul",{className:"nav nav-tabs",children:[t.jsx("li",{className:"nav-item",style:{width:"100%"},children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Kehadiran"?"active":""}`,onClick:()=>A("Kehadiran"),style:{fontSize:"1.6rem"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsxs("div",{className:"nav-text",style:{whiteSpace:"normal"},children:[" ","Kehadiran"," "]})]})}),t.jsx("li",{className:"nav-item",children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Break"?"active":""}`,onClick:()=>A("Break"),style:{fontSize:"2rem"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsxs("div",{className:"nav-text",style:{whiteSpace:"normal"},children:[" ","Break"," "]})]})}),t.jsx("li",{className:"nav-item",children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Sholat"?"active":""}`,onClick:()=>A("Sholat"),style:{fontSize:"2rem"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsx("div",{className:"nav-text",children:" Sholat "})]})}),t.jsx("li",{className:"nav-item",children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Istirahat"?"active":""}`,onClick:()=>A("Istirahat"),style:{fontSize:"2rem",flexWrap:"wrap"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsxs("div",{className:"nav-text",style:{whiteSpace:"normal"},children:[" ","Istirahat"," "]})]})}),t.jsx("li",{className:"nav-item",children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Izin Keluar"?"active":""}`,onClick:()=>A("Izin Keluar"),style:{fontSize:"1.5rem",flexWrap:"wrap"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsxs("div",{className:"nav-text",style:{whiteSpace:"normal"},children:[" ","Izin Keluar"," "]})]})})]})})]}),t.jsx("div",{className:"pos-content",children:t.jsx("div",{className:"pos-content-container",children:t.jsx("div",{className:"product not-available",style:{height:"95vh"},children:t.jsxs("div",{className:"not-available-text",style:{flexDirection:"column"},children:[t.jsx("h1",{style:{fontSize:"50px"},children:n}),t.jsxs("h1",{style:{fontSize:"100px"},children:[u,":",m,":",g]}),t.jsx("div",{children:t.jsx(p,{type:"text",label:"",name:"kode_pegawai",enableenter:!0,noUpperCase:!0,id:"kode_pegawai",nouperCase:!0,placeholder:"Masukan Kode Pegawai",component:j,right:!0,inputGroup:!0,onFocus:()=>R("kode_pegawai"),textIconGroup:t.jsx("i",{className:"fa fa-user"}),onChange:b=>{const I=b.target.value;_(M=>({...M,kode_pegawai:I})),N==="kode_pegawai"&&k.current.setInput(I)},handleClick:()=>i(!e)})}),t.jsx("div",{children:t.jsx(p,{type:"text",label:"",name:"pin",enableenter:!0,noUpperCase:!0,value:h.pin,id:"pin",nouperCase:!0,placeholder:"Masukan PIN",component:j,right:!0,inputGroup:!0,onChange:b=>{const I=b.target.value;_(M=>({...M,pin:I})),N==="pin"&&k.current.setInput(I)},onFocus:()=>R("pin"),textIconGroup:e?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:e?"password-hide":"",handleClick:()=>i(!e)})}),t.jsx("div",{style:{width:"600px"},children:t.jsx(Io,{onChange:F,onKeyPress:L,keyboardRef:k,capsLock:l})})]})})})})]})})},Br=G({form:"timeKeeping"})(Fr),Ur=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Datang",key:"jam_datang",options:{halign:"center",render:(a,e)=>({content:e.status_datang==="LIBUR"||e.status_datang==="TIDAK_HADIR"?O(e.status_datang):e.jam_datang,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_datang,type:"jam_datang"})}})}},{label:"Jam Pulang",key:"jam_pulang",options:{halign:"center",render:(a,e)=>({content:e.status_pulang==="LIBUR"||e.status_pulang==="TIDAK_HADIR"?O(e.status_pulang):e.jam_pulang,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_pulang,type:"jam_pulang"})}})}},{label:"Status Datang",key:"status_datang",options:{halign:"center",render:(a,e)=>({content:O(a),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_datang,type:"isoma"})}})}},{label:"Status Pulang",key:"status_pulang",options:{halign:"center",render:(a,e)=>({content:O(a),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_pulang,type:"isoma"})}})}}],Or=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jam Datang",dataIndex:"jam_datang",key:"jam_datang",render:(a,e)=>({props:{style:{background:B({status:e.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:e.status_datang==="LIBUR"||e.status_datang==="TIDAK_HADIR"?O(e.status_datang):e.jam_datang})})},{title:"Jam Pulang",dataIndex:"jam_pulang",key:"jam_pulang",render:(a,e)=>({props:{style:{background:B({status:e.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:e.status_pulang==="LIBUR"||e.status_pulang==="TIDAK_HADIR"?O(e.status_pulang):e.jam_pulang})})},{title:"Status Datang",dataIndex:"status_datang",key:"status_datang",render:(a,e)=>({props:{style:{background:B({status:e.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:O(a)})})},{title:"Status Pulang",dataIndex:"status_pulang",key:"status_pulang",render:(a,e)=>({props:{style:{background:B({status:e.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:O(a)})})}],Gr=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Mulai Break ",key:"jam_break_start",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.jam_break_start,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_break,type:"isoma"})}})}},{label:"Jam Akhir Break",key:"jam_break_end",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.jam_break_end,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_break,type:"isoma"})}})}},{label:"Total Menit",key:"total_break",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.total_break,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_break,type:"isoma"})}})}},{label:"Status Break",key:"status_break",options:{halign:"center",render:(a,e)=>({content:O(e.status_break),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_break,type:"isoma"})}})}}],zr=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Start",dataIndex:"jam_break_start",key:"jam_break_start",render:(a,e)=>({props:{style:{background:B({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.jam_break_start})})},{title:"Stop",dataIndex:"jam_break_end",key:"jam_break_end",render:(a,e)=>({props:{style:{background:B({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.jam_break_end})})},{title:"Total Menit",dataIndex:"total_break",key:"total_break",render:(a,e)=>({props:{style:{background:B({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.total_break})})},{title:"Status",dataIndex:"status_break",key:"status_break",render:(a,e)=>({props:{style:{background:B({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:O(e.status_break)})})}],Hr=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Mulai Istirahat ",key:"jam_istirahat_start",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.jam_istirahat_start,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_istirahat,type:"isoma"})}})}},{label:"Jam Akhir Istirahat",key:"jam_istirahat_end",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.jam_istirahat_end,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_istirahat,type:"isoma"})}})}},{label:"Total Menit",key:"total_istirahat",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.total_istirahat,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_istirahat,type:"isoma"})}})}},{label:"Status Istirahat",key:"status_istirahat",options:{halign:"center",render:(a,e)=>({content:O(a),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_istirahat,type:"isoma"})}})}}],Jr=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Start",dataIndex:"jam_istirahat_start",key:"jam_istirahat_start",render:(a,e)=>({props:{style:{background:B({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.jam_istirahat_start})})},{title:"Stop",dataIndex:"jam_istirahat_end",key:"jam_istirahat_end",render:(a,e)=>({props:{style:{background:B({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.jam_istirahat_end})})},{title:"Total Menit",dataIndex:"total_istirahat",key:"total_istirahat",render:(a,e)=>({props:{style:{background:B({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.total_istirahat})})},{title:"Status",dataIndex:"status_istirahat",key:"status_istirahat",render:(a,e)=>({props:{style:{background:B({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:O(a)})})}],Vr=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Mulai Sholat",key:"jam_sholat_start",options:{halign:"center",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.jam_sholat_start,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_sholat,type:"isoma"})}})}},{label:"Jam Akhir Sholat",key:"jam_sholat_end",options:{halign:"center",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.jam_sholat_end,styles:{textColor:"#000",fillColor:B({status:e.status_sholat,type:"isoma"}),halign:"center"}})}},{label:"Total Menit",key:"total_sholat",options:{halign:"right",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.total_sholat,styles:{textColor:"#000",fillColor:B({status:e.status_sholat,type:"isoma"})}})}},{label:"Status Sholat",key:"status_sholat",options:{halign:"center",render:(a,e)=>({content:O(e.status_sholat),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_sholat,type:"isoma"})}})}}],qr=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Start",dataIndex:"jam_sholat_start",key:"jam_sholat_start",render:(a,e)=>({props:{style:{background:B({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.jam_sholat_start})})},{title:"Stop",dataIndex:"jam_sholat_end",key:"jam_sholat_end",render:(a,e)=>({props:{style:{background:B({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.jam_sholat_end})})},{title:"Total Menit",dataIndex:"total_sholat",key:"total_sholat",render:(a,e)=>({props:{style:{background:B({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.total_sholat})})},{title:"Status",dataIndex:"status_sholat",key:"status_sholat",render:(a,e)=>({props:{style:{background:B({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:O(a)})})}],Wr=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Datang",key:"jam_datang",options:{halign:"center",render:(a,e)=>({content:e.status_datang==="LIBUR"||e.status_datang==="TIDAK_HADIR"?O(e.status_datang):e.jam_datang,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_datang,type:"jam_datang"})}})}},{label:"Jam Pulang",key:"jam_pulang",options:{halign:"center",render:(a,e)=>({content:e.status_pulang==="LIBUR"||e.status_pulang==="TIDAK_HADIR"?O(e.status_pulang):e.jam_pulang,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_pulang,type:"jam_pulang"})}})}},{label:"Status Datang",key:"status_datang",options:{halign:"center",render:(a,e)=>({content:O(a),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_datang,type:"isoma"})}})}},{label:"Status Pulang",key:"status_pulang",options:{halign:"center",render:(a,e)=>({content:O(a),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_pulang,type:"isoma"})}})}},{label:"Jam Mulai Istirahat ",key:"jam_istirahat_start",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.jam_istirahat_start,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_istirahat,type:"isoma"})}})}},{label:"Jam Akhir Istirahat",key:"jam_istirahat_end",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.jam_istirahat_end,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_istirahat,type:"isoma"})}})}},{label:"Total Menit",key:"total_istirahat",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.total_istirahat,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_istirahat,type:"isoma"})}})}},{label:"Status Istirahat",key:"status_istirahat",options:{halign:"center",render:(a,e)=>({content:O(a),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_istirahat,type:"isoma"})}})}},{label:"Jam Mulai Break ",key:"jam_break_start",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.jam_break_start,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_break,type:"isoma"})}})}},{label:"Jam Akhir Break",key:"jam_break_end",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.jam_break_end,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_break,type:"isoma"})}})}},{label:"Total Menit",key:"total_break",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.total_break,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_break,type:"isoma"})}})}},{label:"Status Break",key:"status_break",options:{halign:"center",render:(a,e)=>({content:O(e.status_break),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_break,type:"isoma"})}})}},{label:"Jam Mulai Sholat",key:"jam_sholat_start",options:{halign:"center",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.jam_sholat_start,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_sholat,type:"isoma"})}})}},{label:"Jam Akhir Sholat",key:"jam_sholat_end",options:{halign:"center",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.jam_sholat_end,styles:{textColor:"#000",fillColor:B({status:e.status_sholat,type:"isoma"}),halign:"center"}})}},{label:"Total Menit",key:"total_sholat",options:{halign:"right",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.total_sholat,styles:{textColor:"#000",fillColor:B({status:e.status_sholat,type:"isoma"})}})}},{label:"Status Sholat",key:"status_sholat",options:{halign:"center",render:(a,e)=>({content:O(e.status_sholat),styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_sholat,type:"isoma"})}})}},{label:"Izin Pergi Keluar",key:"jam_izin_keluar",options:{halign:"center",render:(a,e)=>({content:e.jam_izin_keluar,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_izin_keluar_masuk,type:"isoma"})}})}},{label:"Izin Pergi Masuk",key:"jam_izin_masuk",options:{halign:"center",render:(a,e)=>({content:e.jam_izin_masuk,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_izin_keluar_masuk,type:"isoma"})}})}},{label:"Durasi",key:"durasi",options:{halign:"center",render:(a,e)=>({content:a,styles:{halign:"center",textColor:"#000",fillColor:B({status:e.status_izin_keluar_masuk,type:"isoma"})}})}},{label:"Keterangan",key:"keterangan",options:{halign:"center",render:()=>({content:"",styles:{halign:"center",textColor:"#000",fillColor:"#ffffff"}})}}],Yr=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jam Datang",dataIndex:"jam_datang",key:"jam_datang",render:(a,e)=>({props:{style:{background:B({status:e.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:e.status_datang==="LIBUR"||e.status_datang==="TIDAK_HADIR"?O(e.status_datang):e.jam_datang})})},{title:"Jam Pulang",dataIndex:"jam_pulang",key:"jam_pulang",render:(a,e)=>({props:{style:{background:B({status:e.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:e.status_pulang==="LIBUR"||e.status_pulang==="TIDAK_HADIR"?O(e.status_pulang):e.jam_pulang})})},{title:"Status Datang",dataIndex:"status_datang",key:"status_datang",render:(a,e)=>({props:{style:{background:B({status:e.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:O(a)})})},{title:"Status Pulang",dataIndex:"status_pulang",key:"status_pulang",render:(a,e)=>({props:{style:{background:B({status:e.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:O(a)})})},{title:"Jam Mulai Istirahat",dataIndex:"jam_istirahat_start",key:"jam_istirahat_start",render:(a,e)=>({props:{style:{background:B({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.jam_istirahat_start})})},{title:"Jam Akhir Istirahat",dataIndex:"jam_istirahat_end",key:"jam_istirahat_end",render:(a,e)=>({props:{style:{background:B({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.jam_istirahat_end})})},{title:"Total Menit",dataIndex:"total_istirahat",key:"total_istirahat",render:(a,e)=>({props:{style:{background:B({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?O(e.status_istirahat):e.total_istirahat})})},{title:"Status Istirahat",dataIndex:"status_istirahat",key:"status_istirahat",render:(a,e)=>({props:{style:{background:B({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:O(a)})})},{title:"Jam Mulai Break",dataIndex:"jam_break_start",key:"jam_break_start",render:(a,e)=>({props:{style:{background:B({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.jam_break_start})})},{title:"Jam Akhir Break",dataIndex:"jam_break_end",key:"jam_break_end",render:(a,e)=>({props:{style:{background:B({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.jam_break_end})})},{title:"Total Menit",dataIndex:"total_break",key:"total_break",render:(a,e)=>({props:{style:{background:B({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?O(e.status_break):e.total_break})})},{title:"Status Break",dataIndex:"status_break",key:"status_break",render:(a,e)=>({props:{style:{background:B({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:O(a)})})},{title:"Jam Mulai Sholat",dataIndex:"jam_sholat_start",key:"jam_sholat_start",render:(a,e)=>({props:{style:{background:B({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.jam_sholat_start})})},{title:"Jam Akhir Sholat",dataIndex:"jam_sholat_end",key:"jam_sholat_end",render:(a,e)=>({props:{style:{background:B({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.jam_sholat_end})})},{title:"Total Menit",dataIndex:"total_sholat",key:"total_sholat",render:(a,e)=>({props:{style:{background:B({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?O(e.status_sholat):e.total_sholat})})},{title:"Status Sholat",dataIndex:"status_sholat",key:"status_sholat",render:(a,e)=>({props:{style:{background:B({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:O(a)})})},{title:"Izin Pergi Keluar",dataIndex:"jam_izin_keluar",key:"jam_izin_keluar",render:(a,e)=>({props:{style:{background:B({status:e.status_izin_keluar_masuk,type:"isoma"})}},children:t.jsx("div",{children:O(a)})})},{title:"Izin Pergi Masuk",dataIndex:"jam_izin_masuk",key:"jam_izin_masuk",render:(a,e)=>({props:{style:{background:B({status:e.status_izin_keluar_masuk,type:"isoma"})}},children:t.jsx("div",{children:O(a)})})},{title:"Durasi Izin",dataIndex:"durasi",key:"durasi",render:(a,e)=>({props:{style:{background:B({status:e.status_izin_keluar_masuk,type:"isoma"})}},children:t.jsxs("div",{children:[Rn(e.jam_izin_masuk,e.jam_izin_keluar)," ","Menit"]})})}],Xr=(a,e,i)=>{const s=Ia(e.kode_toko),o=e.type_time_keeping,n=(l,d)=>l==="LIBUR"||l==="TIDAK_HADIR"?O(l):d,r=a.reduce((l,d)=>{const u=l.findIndex(m=>m.tgl_system===d.tgl_system);return u<0?l.push({tgl_system:d.tgl_system,detail:[d]}):l[u].detail.push(d),l},[]);fa({formatPdf:{orientation:o==="SEMUA"?"l":"p",unit:"mm",theme:"grid"},type:i,date:e,title:`LAPORAN TIME KEEPING ${o==="SEMUA"?"":o}`,data:r.map((l,d)=>({...l,no:d+1,detail:l.detail.map(u=>({...u,jam_datang:n(u.status_pulang,u.jam_datang),jam_pulang:n(u.status_pulang,u.jam_pulang),total_sholat:n(u.total_sholat,u.total_sholat),jam_sholat_start:n(u.total_sholat,u.jam_sholat_start),jam_sholat_end:n(u.total_sholat,u.jam_sholat_end),total_break:n(u.status_break,u.total_break),jam_break_start:n(u.status_break,u.jam_break_start),jam_break_end:n(u.status_break,u.jam_break_end),total_istirahat:n(u.status_istirahat,u.total_istirahat),jam_istirahat_start:n(u.status_istirahat,u.jam_istirahat_start),jam_istirahat_end:n(u.status_istirahat,u.jam_istirahat_end),status_break:O(u.status_break),status_istirahat:O(u.status_istirahat),status_sholat:O(u.status_sholat),status_datang:O(u.status_datang),status_pulang:O(u.status_pulang),durasi:`${Rn(u.jam_izin_masuk,u.jam_izin_keluar)} Menit`}))})),dataToko:{alamat_toko:String(s==null?void 0:s.alamat_toko),nama_toko:String(s==null?void 0:s.nama_toko)},columns:o==="KEHADIRAN"?Ur:o==="BREAK"?Gr:o==="ISTIRAHAT"?Hr:o==="SHOLAT"?Vr:Wr,grouping:["tgl_system"],grandTotalSetting:{colSpan:6,disableSubtotalTotal:!0,disableGrandTotal:!0}})},Te=()=>({exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanTimeKeeping.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;Xr(l,r,i)},cariLaporan:i=>async(s,o)=>{var r;const n=i==="DASHBOARD";try{const l=o(),d=n?(r=l.form.dashboardTimeKeeping)==null?void 0:r.values:l.form.LaporanTimeKeeping.values;s(c.setLoading({screen:!0}));const u={start_date:Y(d.start_date),end_date:Y(d.end_date),kode_toko:d.kode_toko||`${_a}`,kode_pegawai:d==null?void 0:d.kode_pegawai,type_shift:d.type_shift==="SEMUA"?void 0:d.type_shift},m=await q(P.report.timeKeeping,u);if(m.data.length===0)return s(c.setLaporanKosong("LaporanTimeKeeping",`${n?"Data":"Laporan"} Time Keeping Tidak Tersedia`)),!1;const g={data:m.data,namaForm:`${i}`};s(H(g)),K(`${n?"Data":"Laporan"} Tersedia`),s(c.stopLoading())}catch(l){s(c.setLaporanKosong(`${n?"Data":"Laporan"} Time Keeping Tidak Tersedia`,`${l}`))}}}),Zr=a=>{const e={};if(a.start_date||(e.start_date="Tanggal Libur harus diisi"),a.end_date||(e.end_date="Deskripsi harus diisi"),a.start_date&&a.end_date){const i=new Date(a.start_date),s=new Date(a.end_date),o=7*24*60*60*1e3;s.getTime()-i.getTime()>o&&(e.start_date="Rentang tanggal tidak boleh lebih dari satu minggu",e.end_date="Rentang tanggal tidak boleh lebih dari satu minggu")}return e},Qr=()=>{const a=Te();return{editJam:()=>async(i,s)=>{var n;const o=(n=s().form.FormEditJam)==null?void 0:n.values;try{i(c.setLoading({screen:!0})),await ya(`time-keeping/service/edit/${o._id}`,{jam_datang:o.jam_datang,jam_pulang:o.jam_pulang,jam_break_start:o.jam_break_start,jam_break_end:o.jam_break_end,jam_istirahat_start:o.jam_istirahat_start,jam_istirahat_end:o.jam_istirahat_end,jam_sholat_start:o.jam_sholat_start,jam_sholat_end:o.jam_sholat_end}),K("Data Berhasil Diedit"),i(c.stopLoading()),i(c.hideModal()),i(a.cariLaporan("DASHBOARD"))}catch(r){S(r),i(c.stopLoading())}}}},al=a=>{const e={};return a.tgl_system||(e.tgl_system="Tanggal harus diisi"),a.jam_datang||(e.jam_datang="Jam Datang harus diisi"),a.jam_pulang||(e.jam_pulang="Jam Pulang harus diisi"),a.jam_break_start||(e.jam_break_start="Jam Awal Break harus diisi"),a.jam_break_end||(e.jam_break_end="Jam Akhir Break harus diisi"),a.jam_istirahat_start||(e.jam_istirahat_start="Jam Awal Istirahat harus diisi"),a.jam_istirahat_end||(e.jam_istirahat_end="Jam Akhir Istirahat harus diisi"),a.jam_sholat_start||(e.jam_sholat_start="Jam Awal Sholat harus diisi"),a.jam_sholat_end||(e.jam_sholat_end="Jam Akhir Sholat harus diisi"),e},el=a=>{const{handleSubmit:e}=a,i=E(),s=Qr(),o=()=>{i(s.editJam())};return t.jsxs("form",{onSubmit:e(o),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal",name:"tgl_system",component:j,placeholder:"Tanggal",type:"date",readOnly:!0})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Kode Pegawai",name:"kode_pegawai",component:j,placeholder:"Kode Pegawai",readOnly:!0})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",component:j,placeholder:"Kode Toko",readOnly:!0})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",component:j,placeholder:"Nama Pegawai",readOnly:!0})}),t.jsx("hr",{}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Datang",name:"jam_datang",component:j,placeholder:"Datang",type:"time"})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Pulang",name:"jam_pulang",component:j,placeholder:"Pulang",type:"time"})}),t.jsx("hr",{}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Mulai Break/Menit",name:"jam_break_start",component:j,placeholder:"Jam Mulai",type:"time"})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Akhir Break/Menit",name:"jam_break_end",component:j,placeholder:"Jam Akhir",type:"time"})}),t.jsx("hr",{}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Mulai Istirahat",name:"jam_istirahat_start",component:j,placeholder:"Jam Mulai",type:"time"})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Akhir Istirahat",name:"jam_istirahat_end",component:j,placeholder:"Jam Akhir",type:"time"})}),t.jsx("hr",{}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Mulai Sholat",name:"jam_sholat_start",component:j,placeholder:"Jam Mulai",type:"time"})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Akhir Sholat",name:"jam_sholat_end",component:j,placeholder:"Jam Akhir",type:"time"})}),t.jsx("div",{className:"col-12 mt-4",children:t.jsx(C,{color:"primary",type:"submit",block:!0,children:"Simpan"})})]})]})},tl=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T,A,R,F,b,I,M,z,f,W,$,ta,oa,ca,ua,xa,Ta,Na,La,Aa,Da;return{initialValues:{_id:(s=(i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.data)==null?void 0:s._id,tgl_system:(r=(n=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:n.data)==null?void 0:r.tgl_system,kode_pegawai:(u=(d=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:d.data)==null?void 0:u.kode_pegawai,nama_pegawai:(k=(g=(m=a==null?void 0:a.utility)==null?void 0:m.getModal)==null?void 0:g.data)==null?void 0:k.nama_pegawai,kode_toko:(N=(_=(h=a==null?void 0:a.utility)==null?void 0:h.getModal)==null?void 0:_.data)==null?void 0:N.kode_toko,jam_datang:(w=(L=(y=a==null?void 0:a.utility)==null?void 0:y.getModal)==null?void 0:L.data)==null?void 0:w.jam_datang,jam_pulang:(R=(A=(T=a==null?void 0:a.utility)==null?void 0:T.getModal)==null?void 0:A.data)==null?void 0:R.jam_pulang,jam_break_start:(I=(b=(F=a==null?void 0:a.utility)==null?void 0:F.getModal)==null?void 0:b.data)==null?void 0:I.jam_break_start,jam_break_end:(f=(z=(M=a==null?void 0:a.utility)==null?void 0:M.getModal)==null?void 0:z.data)==null?void 0:f.jam_break_end,jam_istirahat_start:(ta=($=(W=a==null?void 0:a.utility)==null?void 0:W.getModal)==null?void 0:$.data)==null?void 0:ta.jam_istirahat_start,jam_istirahat_end:(ua=(ca=(oa=a==null?void 0:a.utility)==null?void 0:oa.getModal)==null?void 0:ca.data)==null?void 0:ua.jam_istirahat_end,jam_sholat_start:(Na=(Ta=(xa=a==null?void 0:a.utility)==null?void 0:xa.getModal)==null?void 0:Ta.data)==null?void 0:Na.jam_sholat_start,jam_sholat_end:(Da=(Aa=(La=a==null?void 0:a.utility)==null?void 0:La.getModal)==null?void 0:Aa.data)==null?void 0:Da.jam_sholat_end}}},nl=la(tl),il={form:"FormEditJam",enableReinitialize:!0,validate:al},ol=nl(G(il)(el)),sl=a=>{const e=E(),{handleSubmit:i,title:s}=a,o=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Datang",dataIndex:"jam_datang",key:"jam_datang",render:(m,g)=>({props:{style:{background:B({status:g.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:g.status_datang==="LIBUR"?"LIBUR":g.status_datang==="CUTI"?"CUTI":m})})},{title:"Pulang",dataIndex:"jam_pulang",key:"jam_pulang",render:(m,g)=>({props:{style:{background:B({status:g.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:g.status_pulang==="LIBUR"?"LIBUR":g.status_pulang==="CUTI"?"CUTI":m})})},{title:"Break / Menit",dataIndex:"total_break",key:"total_break",render:(m,g)=>({props:{style:{background:B({status:g.status_break,type:"isoma"})}},children:t.jsx("div",{children:g.status_break==="LIBUR"?"LIBUR":g.status_break==="CUTI"?"CUTI":m})})},{title:"Istirahat / Menit",dataIndex:"total_istirahat",key:"total_istirahat",render:(m,g)=>({props:{style:{background:B({status:g.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:g.status_istirahat==="LIBUR"?"LIBUR":g.status_istirahat==="CUTI"?"CUTI":m})})},{title:"Sholat / Menit",dataIndex:"total_sholat",key:"total_sholat",render:(m,g)=>({props:{style:{background:B({status:g.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:g.status_sholat==="LIBUR"?"LIBUR":g.status_sholat==="CUTI"?"CUTI":m})})},{title:"Grand Total",dataIndex:"total_sholat",key:"total_sholat",render:(m,g)=>g.total_sholat+g.total_break+g.total_istirahat},{title:"Action",key:"actions",render:(m,g)=>t.jsx("div",{children:t.jsx(C,{color:"primary",onClick:()=>e(c.showModal({isEdit:!1,isModalShow:!0,data:g,title:"Edit Jam",namaForm:"dashboardTimeKeeping"})),children:t.jsx("i",{className:"fa fa-edit"})})})}],n=Te();x.useEffect(()=>(r(),()=>{e(c.simpanDataTmp({data:[]}))}),[e]);const r=async()=>{await Ba(1e3),e(H({data:[]})),e(v("dashboardTimeKeeping","start_date",U)),e(v("dashboardTimeKeeping","end_date",U)),setTimeout(()=>{e(n.cariLaporan("DASHBOARD"))},300)},l=()=>{e(n.cariLaporan("DASHBOARD"))},d=D(m=>m.utility.getDataTmp),u=D(m=>m.utility.getModal);return t.jsxs(V,{title:`${s||"Dashboard Time Keeping"}`,children:[t.jsx("form",{onSubmit:i(l),children:t.jsxs("div",{className:"row",children:[t.jsx(Ea,{className:"col-3"}),t.jsx(ka,{className:"col-3",namaForm:"dashboardTimeKeeping"}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tgl Awal",name:"start_date",component:j,placeholder:"Pilih Tanggal",type:"date"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tgl Akhir",name:"end_date",component:j,placeholder:"Pilih Tanggal",type:"date"})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{block:!0,type:"submit",color:"primary",children:"Cari Data"})})]})}),t.jsx(X,{dataSource:d.namaForm==="DASHBOARD"?d.data:[],columns:o.filter(m=>Be==="CABANG"||!s?m.key!=="actions":!0),rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0}),t.jsx(ma,{title:u.title,namaForm:`${u.namaForm}`,children:t.jsx(ol,{})})]})},rl={form:"dashboardTimeKeeping",enableReinitialize:!0,validate:Zr},Jn=G(rl)(sl),ll=()=>{const a=E(),e=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Alasan",dataIndex:"leave_description",key:"leave_description"},{title:"Toko",dataIndex:"kode_toko",key:"kode_toko"}];x.useEffect(()=>{a(Q.getReviewPengajuanCuti({namaForm:"DASHBOARD",status_validasi:"OPEN"}))},[a]);const i=D(s=>s.transaksi.reviewPengajuanCuti);return t.jsx(V,{title:"Dashboard Pengajuan Cuti",children:t.jsx(X,{dataSource:i.data,columns:e,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})})},dl=G({form:"dashboardReviewCuti"})(ll),cl=()=>{const a=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Ultah",dataIndex:"tgl_lahir",key:"tgl_lahir"},{title:"Toko",dataIndex:"kode_toko",key:"kode_toko"}];x.useEffect(()=>{s()},[]);const[e,i]=x.useState([]),s=async()=>{try{const o=await q(P.dashboard.hbd,{tgl_system:U,kode_toko:je?void 0:`${_a}`});i(o.data)}catch{i([])}};return t.jsx(V,{title:"Dashboard Ulang Tahun",children:t.jsx(X,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})})},ul=G({form:"DashbaordUlangTahun"})(cl),ml=()=>{const a=E();return x.useEffect(()=>{a(aa.getDataToko())},[a]),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(ul,{})}),t.jsx("div",{className:"col-6",children:t.jsx(dl,{})}),t.jsx("div",{className:"col-12",children:t.jsx(Jn,{})})]})},pl=a=>{const e={};return a.user_id||(e.user_id="User Id harus diisi"),a.password||(e.password="Password harus diisi"),e},gl="/assets/images/white-concrete-wall.webp",hl=[{path:"/app/dashboard",icon:"fa fa-home",title:"Dashboard",is_show:!0},{path:"#",icon:"fa fa-database",title:"Data Master",is_show:!1,children:[{path:"/app/data-pegawai",title:"Data Pegawai",is_show:!1},{path:"/app/data-jabatan",title:"Data Jabatan",is_show:!1},{path:"/app/data-hari-libur",title:"Data Hari Libur Toko",is_show:!1},{path:"/app/data-user",title:"Data User",is_show:!1}]},{path:"#",icon:"fa fa-database",title:"Parameter",is_show:!1,children:[{path:"/app/parameter-bonus",title:"Bonus Sales",is_show:!1},{path:"/app/parameter-lembur",title:"Parameter Lembur",is_show:!1},{path:"/app/parameter-target-sales",title:"Target Sales",is_show:!1},{path:"/app/parameter-target-toko",title:"Target Toko",is_show:!1},{path:"/app/parameter-cuti",title:"Parameter Cuti",is_show:!1},{path:"/app/parameter-koversi-cuti",title:"Parameter Konversi Cuti",is_show:!1},{path:"/app/parameter-shift-kerja",title:"Parameter Shift Kerja",is_show:!1},{path:"/app/parameter-absen-terlambat",title:"Parameter Absen Terlambat",is_show:!1},{path:"/app/parameter-izin-keluar-masuk",title:"Parameter Izin Keluar Masuk",is_show:!1}]},{path:"/app/time-keeping",icon:"fa fa-business-time",title:"Time Keeping",is_show:!1},{path:"#",icon:"fa fa-calendar-check",title:"Transaksi",is_show:!1,children:[{path:"/app/ubah-libur",title:"Pengajuan Ubah Libur",is_show:!1},{path:"/app/payroll",title:"Payroll",is_show:!1},{path:"/app/review-cuti",title:"Review Cuti",is_show:!1},{path:"/app/review-ubah-libur",title:"Review Ubah Libur",is_show:!1},{path:"/app/review-kasbon",title:"Review Kasbon",is_show:!1},{path:"/app/sinkron-data-pegawai",title:"Sinkron Data Pegawai",is_show:!1},{path:"/app/transaksi-lembur",title:"Lembur",is_show:!1},{path:"/app/cek-bonus-absen-pegawai",title:"Cek bonus absen pegawai",is_show:!1},{path:"/app/lihat-pengajuan-cuti",title:"Lihat Pengajuan Cuti",is_show:!1},{path:"/app/lihat-kasbon",title:"Lihat Kasbon",is_show:!1}]},{path:"#",icon:"fa fa-folder-open",title:"Laporan",is_show:!1,children:[{path:"/app/laporan-time-keeping",title:"Laporan Time Keeping",is_show:!1},{path:"/app/laporan-pengajuan-cuti",title:"Laporan Pengajuan Cuti",is_show:!1},{path:"/app/laporan-kas-bon",title:"Laporan Kas Bon"},{path:"/app/laporan-potongan-lain-lain",title:"Laporan Potongan Lain",is_show:!1},{path:"/app/laporan-payroll",title:"Laporan Payroll",is_show:!1},{path:"/app/laporan-payroll-bank",title:"Laporan Payroll Bank",is_show:!1},{path:"/app/laporan-pelangaran-pegawai",title:"Laporan Pelanggaran Pegawai",is_show:!1},{path:"/app/laporan-global-payroll",title:"Laporan Global Payroll",is_show:!1},{path:"/app/laporan-data-pegawai",title:"Laporan Data Pegawai",is_show:!1},{path:"/app/laporan-lembur",title:"Laporan Lembur",is_show:!1},{path:"/app/laporan-pengajuan-izin-pulang-cepat",title:"Laporan Pengajuan Izin Pulang Cepat",is_show:!1},{path:"/app/laporan-absen-terlambat",title:"Laporan Absen Terlambat",is_show:!1},{path:"/app/laporan-piutang-kas-bon",title:"Laporan Piutang Kasbon",is_show:!1},{path:"/app/laporan-bonus-absensi",title:"Laporan Bonus Absensi",is_show:!1}]},{path:"#",icon:"fa fa-folder-open",title:"Utility",is_show:!1,children:[{path:"/app/setting-member",title:"Setting Member",is_show:!1},{path:"/app/cetak-member",title:"Cetak Member",is_show:!1}]}],_l=[{path:"/app/dashboard",icon:"fa fa-home",title:"Dashboard",is_show:!0},{icon:"fa fa-users",path:"/app/data-user",title:"Data User",is_show:!1},{path:"/app/time-keeping",icon:"fa fa-business-time",title:"Time Keeping",is_show:!1},{path:"#",icon:"fa fa-calendar-check",title:"Transaksi",is_show:!1,children:[{path:"/app/pengajuan-cuti",title:"Pengajuan Cuti",is_show:!1},{path:"/app/kas-bon",title:"Kas Bon",is_show:!1},{path:"/app/potongan-lain-lain",title:"Potongan Lain Lain",is_show:!1},{path:"/app/ubah-libur",title:"Pengajuan Ubah Libur",is_show:!1},{path:"/app/pelanggaran-pegawai",title:"Pelanggaran Pegawai",is_show:!1},{path:"/app/pengajuan-izin-pergi",title:"Pengajuan Izin Pergi",is_show:!1},{path:"/app/pengajuan-izin-pulang-cepat",title:"Pengajuan Izin Pulang Cepat",is_show:!1},{path:"/app/tukar-libur",title:"Pengajuan Tukar Libur",is_show:!1},{path:"/app/bayar-cicilan",title:"Bayar Cicilan",is_show:!1},{path:"/app/tambah-saldo-kasbon",title:"Tambah Saldo Kasbon",is_show:!1}]}],Ha=Be==="PUSAT"?hl:_l,bl={major:"1",minor:"0",patch:"0",revision:"25091701"},ge={buildVersion:bl},kl=()=>async(a,e)=>{var i,s;try{const n=(s=(i=e().form)==null?void 0:i.loginForm)==null?void 0:s.values,r=await na(P.login,n);ja("userdata",r.data),r.data.level==="SU"||r.data.level==="OWNER"?ja("hakAkses",Ha):await yl(r.data),a(On.isLogin(!0)),setTimeout(()=>{a(c.stopLoading()),window.location.reload()},500)}catch(o){S(`${o}`),a(c.stopLoading())}},yl=a=>new Promise(async(e,i)=>{if(JSON.parse(a.hak_akses_json||"[]").length>0){const s=[];JSON.parse(a.hak_akses_json||"[]").forEach(n=>{var r;if(n.is_show)if(n.children){const l=(r=n.children)==null?void 0:r.map(u=>{const m=Array.isArray(u.children)?u.children.filter(g=>g.is_show):void 0;return{...u,children:m}}),d={...n,children:l==null?void 0:l.filter(u=>u.is_show)};s.push(d)}else{const l={icon:n.icon,is_show:n.is_show,path:n.path,title:n.title,user_id:a.user_id};s.push(l)}});const o=s.map(n=>{var l,d;(l=n.children)!=null&&l.length||delete n.children;const r=(d=n.children)==null?void 0:d.map(u=>{var m;return(m=u.children)!=null&&m.length||delete u.children,u});return{...n,children:r}});ja("hakAkses",o),e(!0)}else za("Hak Akses Belum Di Setting"),i(!1)}),xl=a=>{const e=E(),i=D(l=>l.helper),[s,o]=x.useState(!0);x.useEffect(()=>(e(ba.handleSetPageSidebar(!1)),e(ba.handleSetPageHeader(!1)),()=>{e(ba.handleSetPageHeader(!0)),e(ba.handleSetPageSidebar(!0))}),[e]);const{handleSubmit:n}=a,r=async()=>{e(c.setLoading({screen:!0})),e(kl())};return i.getIsLogin?t.jsx(Pn,{to:"/app/dashboard"}):t.jsxs("div",{className:"login login-v2 fw-bold",children:[t.jsxs("div",{className:"login-cover",children:[t.jsx("div",{className:"login-cover-img",style:{backgroundImage:"url("+gl+")"}}),t.jsx("div",{className:"login-cover-bg"})]}),t.jsxs("div",{className:"login-container",children:[t.jsxs("div",{className:"login-header",children:[t.jsx("div",{className:"brand",children:t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx("span",{className:"logo"})," ",t.jsx("b",{children:"Login Us "})]})}),t.jsx("div",{className:"icon",children:t.jsx("i",{className:"fa fa-lock"})})]}),t.jsx("div",{className:"login-content",children:t.jsxs("form",{onSubmit:n(r),children:[t.jsx("div",{className:"mb-20px",children:t.jsx(p,{label:"User Id",name:"user_id",type:"text",noUpperCase:!0,placeholder:"Masukan User Id",component:j})}),t.jsx("div",{className:"mb-20px",children:t.jsx(p,{type:"text",label:"Passsword",name:"password",enableenter:!0,noUpperCase:!0,id:"password",nouperCase:!0,placeholder:"Masukan Password",component:j,right:!0,inputGroup:!0,textIconGroup:s?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:s?"password-hide":"",handleClick:()=>o(!s)})}),t.jsx("div",{className:"mb-20px",children:t.jsx(C,{disabled:a.pristine||a.submitting,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Login"})}),t.jsxs("div",{className:"text-center",children:["© All Right Reserved Time Keeping Management Solution ",t.jsx("br",{}),"Version ",ge.buildVersion.major,".",ge.buildVersion.minor,".",ge.buildVersion.patch,".",ge.buildVersion.revision]})]})})]})]})},hn=G({form:"loginForm",validate:pl})(xl),ie=()=>{const a=E(),e=D(i=>i.helper.getIsLogin);return x.useEffect(()=>(a(ba.handleSetPageSidebar(!1)),a(ba.handleSetPageHeader(!1)),()=>{a(ba.handleSetPageHeader(!0)),a(ba.handleSetPageSidebar(!0))}),[a]),t.jsxs("div",{className:"error",children:[t.jsx("div",{className:"error-code",children:"404"}),t.jsxs("div",{className:"error-content",children:[t.jsx("div",{className:"error-message",children:"We couldn't find it..."}),t.jsxs("div",{className:"error-desc mb-4",children:["The page you're looking for doesn't exist. ",t.jsx("br",{}),"Perhaps, there pages will help find what you're looking for."]}),t.jsx("div",{children:t.jsx(Fe,{to:e?"/app/dashboard":"/",className:"btn btn-success px-3",children:"Go Home"})})]})]})},jl=async({title:a,data:e})=>{const i=new xe;i.setProperties({title:a});const s=e.nota.map(n=>e.notasetting.map(r=>({...r,value:n[r.name.replace(/(_copy)?/g,"")]||r.value})));for(let n=0;n<s.length;n++)s[n].forEach(async l=>{const d=l.position_x*.2645833333,u=l.position_y*.2645833333,m=l.width*.2645833333,g=l.height*.2645833333,k=Number(l.rotate*-1);if(l.jenis==="text")i.setFont("helvetica",l.font_style||"normal"),i.setFontSize(l.font_size||10),i.text(i.splitTextToSize(l.value,m),d,u,{angle:k});else if(l.jenis==="line")i.line(d,u+15,d+m,u+15);else if(l.jenis!=="gambar"){const h=document.createElement("canvas"),_=l.jenis==="qrcode"?"qrcode":"code128";Oi.toCanvas(h,{bcid:_,text:String(l.isi),scale:3,height:10,includetext:!1,textxalign:"center"});const N=h.toDataURL();i.addImage(N,"JPEG",d,u,m,g,"","MEDIUM",Number(l.rotate*-1))}}),n<s.length-1&&i.addPage();const o=i.output("bloburl");window.open(o)},fl=(a,e)=>async i=>{let s=0,o=0,n=0,r=0;if(i(ut(e)),document.getElementById(a.id+"header")){const g=document.getElementById(a.id+"header");g&&(g.onmousedown=l)}else a.onmousedown=l;document.onkeydown=u;function l(g){g=g||window.event,g.preventDefault(),n=g.clientX,r=g.clientY,document.onmouseup=m,document.onmousemove=d}function d(g){g=g||window.event,g.preventDefault(),s=n-g.clientX,o=r-g.clientY,n=g.clientX,r=g.clientY,a.style.top=a.offsetTop-o+"px",a.style.left=a.offsetLeft-s+"px",a.style.backgroundColor="red";const k=a.getAttribute("id"),h=Z("list_component"),_=h.findIndex(N=>N.name===k);h[_].position_y=a.offsetTop-o,h[_].position_x=a.offsetLeft-s,ja("list_component",h)}function u(g){const k=a.offsetTop,h=a.offsetLeft,_=1;g.key==="ArrowUp"?a.style.top=k-_+"px":g.key==="ArrowDown"?a.style.top=k+_+"px":g.key==="ArrowLeft"?a.style.left=h-_+"px":g.key==="ArrowRight"&&(a.style.left=h+_+"px");const N=a.getAttribute("id"),y=Z("list_component"),L=y.findIndex(w=>w.name===N);y[L].position_y=a.offsetTop,y[L].position_x=a.offsetLeft,ja("list_component",y)}function m(){document.onmouseup=null,document.onmousemove=null}},Oa=a=>async e=>{var i;e(c.setLoading({screen:!0}));try{const s=await q("member-card");if(ja("list_component",[]),s.data){ja("list_component",s.data),ja("filed",a),e(v("SettingMember","style_font","")),e(v("SettingMember","style_font",((i=s.data[0])==null?void 0:i.font_family)||null));const o=document.getElementById("filed_nota");o&&(o.innerHTML=`<h5>NOTA ${a.replaceAll("_"," ")} DESKTOP </h5>`),e(c.stopLoading()),e(c.setDataNota({data:s.data})),e(v("SettingMember","cari","")),e(c.showModal({isModalShow:!1,isEdit:!1,data:a||[],namaForm:"",title:""})),ja("info","BOLEHSETTING")}}catch(s){s===422&&(e(c.showModal({isModalShow:!1,isEdit:!0,data:a||[],namaForm:"",title:""})),ja("info","SEDANGDISETTING")),S(`${s}`),e(c.stopLoading())}},ut=a=>async e=>{const i=Z("filed")||"HUTANG",o=Z("list_component").map(n=>{if(a===n.name){console.log(n);const r={...n,height:Number(n.height),isi:n.value,jenis:n.jenis,name:n.name,position_x:Number(n.position_x),position_y:Number(n.position_y),rotate:n.rotate,font_size:Number(n.font_size||0),is_show:!0,width:Number(n.width),type:i,is_deletable:(n==null?void 0:n.is_deletable)||!1};e(v("SettingMember","name",n.name)),e(v("SettingMember","width",n.width)),e(v("SettingMember","rotate",n.rotate)),e(v("SettingMember","font_size",n.font_size)),e(v("SettingMember","height",n.height)),e(v("SettingMember","jenis",n.jenis)),e(v("SettingMember","value",n.value)),e(v("SettingMember","font_style",n.font_style)),n=r}return n});ja("list_component",o),e(c.setDataNota({data:o}))},Tl=a=>async e=>{const i=Z("list_component"),s=Z("filed");await Kn({title:"Anda Yakin Ingin Menghapus Data Ini",icon:"info"}).then(()=>{const o=i.map(n=>a===n.name?{...n,is_show:!1,type:s}:n);ja("list_component",o),e(c.setDataNota({data:o})),e(v("SettingMember","name","")),e(v("SettingMember","width","")),e(v("SettingMember","rotate","")),e(v("SettingMember","font_size","")),e(v("SettingMember","height","")),e(v("SettingMember","jenis_text","")),e(v("SettingMember","value",""))}).catch(o=>{console.log("Error",o)})},Ll=()=>async(a,e)=>{var i;try{const s=(i=e().form.ModalTambahLabel)==null?void 0:i.values;a(c.setLoading({screen:!0}));const o={name:s!=null&&s.label.toLowerCase().includes("label")?s==null?void 0:s.label:(s==null?void 0:s.label)+"_label",value:(s==null?void 0:s.value)||"",type:Z("filed"),jenis:"text",position_y:350,position_x:350,is_show:!0,width:100,height:25,rotate:0,font_size:10};(await na("nota",o)).data&&(a(c.hideModal()),K("Label Berhasil Di Tambahkan"),a(Oa(Z("filed"))),a(ut(o.name)),setTimeout(()=>{a(c.stopLoading())},300))}catch(s){a(c.stopLoading()),K(`${s}`)}},vl=()=>async(a,e)=>{var i,s;try{const n=(i=e().form.SettingMember)==null?void 0:i.values,r=Z("list_component");if(n.jenis===void 0)return za("Nota label belum dipilih"),!1;a(c.setLoading({screen:!0}));const l=r.map(u=>{var m;return n.name===u.name?{...u,isi:(u==null?void 0:u.isi)||"",position_y:Number((u==null?void 0:u.position_y)||350),position_x:Number((u==null?void 0:u.position_x)||350),value:n==null?void 0:n.value,height:Number(n==null?void 0:n.height),font_style:n.font_style,jenis:n.jenis,font_size:Number((n==null?void 0:n.font_size)||0),rotate:Number(n==null?void 0:n.rotate),width:Number(n.width),is_show:!0,type:Z("filed")}:{...u,is_show:u.is_show||!1,isi:(u==null?void 0:u.isi)||"",rotate:(u==null?void 0:u.rotate)||0,font_family:((m=n==null?void 0:n.font_family)==null?void 0:m.length)===0?"times_new_roman":(n==null?void 0:n.font_family)||"-"}}),d={font:((s=n==null?void 0:n.font_family)==null?void 0:s.length)===0?"times_new_roman":n==null?void 0:n.font_family,type:Z("filed"),detail_nota:l};await na("member-card",d),K("Nota Berhasil Disimpan"),a(Oa(Z("filed"))),a(c.stopLoading())}catch(o){S(`${o}`),a(c.stopLoading())}},Nl=a=>async e=>{try{const i={name:a,type:String(Z("filed"))};await va("nota",i),K("Label berhasil di hapus"),e(Oa(Z("filed")))}catch(i){e(Oa(Z("filed"))),S(`${i}`)}},Pl=(a,e,i)=>async s=>{try{const o={name:String(a||"")+"_copy",value:String(e||0)+"_copy",jenis:i,type:Z("filed"),position_y:350,position_x:350,is_show:!0,width:100,height:25,rotate:0,font_size:10};(await na("nota",o)).data&&(K("Data Berhasil Di Copy"),s(Oa(Z("filed"))))}catch(o){s(Oa(Z("filed"))),S(`${o}`)}},Sl=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=async()=>{o(Ll())};return t.jsx("form",{onSubmit:e(n),autoComplete:"off",children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12",children:t.jsx(p,{name:"label",label:"Label",nouperCase:!0,normalize:Po,placeholder:"Masukkan Label",component:j,noUpperCase:!0})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{name:"value",label:"value",placeholder:"Masukkan Isi",component:j,noUpperCase:!0})}),t.jsx("div",{className:"col-12",children:t.jsx("button",{id:"simpan",name:"simpan",type:"submit",disabled:i||s,className:"btn btn-primary btn-block",children:"Simpan Data"})})]})})},El={form:"ModalTambahLabel",enableReinitialize:!0},Al=G(El)(Sl),Dl=()=>{const a=E(),e=Z("list_component");x.useEffect(()=>{a(ba.handleSetPageSidebar(!1)),a(ba.handleSetPageHeader(!1)),document.body.style.overflowX="hidden",document.body.style.overflowY="auto",a(c.setDataNota({data:e}));const r=Z("font");if(document.getElementById("filed_nota")){const d="KARTU_MEMBER";a(Oa(d)),a(v("SettingMember","pilihnota",d)),a(v("SettingMember","style_font",r??"")),No("list_component")}return()=>{a(ba.handleSetPageHeader(!0)),a(ba.handleSetPageSidebar(!0)),document.body.style.overflowX="",document.body.style.overflowY=""}},[a]);const i=D(r=>r.utility.getModal.isEdit),s=D(r=>r.utility.getNota),o=r=>{const l=new RegExp(`${r}`,"i");if(r==="")a(c.setDataNota({data:e}));else{const d=e.filter(u=>l.test(u.name)||l.test(u.value));a(c.setDataNota({data:d}))}},n=D(r=>r.utility);return t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-7",children:t.jsx("div",{className:"container-nota",children:e.map((r,l)=>r.is_show&&t.jsx("div",{style:{width:r.width,height:r.height,position:"absolute",backgroundColor:"red",cursor:"grab",left:r.position_x+"px",top:r.position_y+"px",transform:`rotate(${r.rotate}deg)`,fontSize:"10px"},id:`${r.name}`,className:"kotakNota",onDoubleClick:()=>a(Tl(`${r.name}`)),onClick:()=>a(fl(document.getElementById(`${r.name}`),`${r.name}`)),children:r.name},l))})}),t.jsxs("div",{className:"col-4",children:[t.jsxs("div",{className:"text-center",id:"filed_nota",children:[" ","Nota"," "]}),t.jsx("div",{className:"row mt-4",children:t.jsx("div",{className:"col-lg-12",children:t.jsx(p,{name:"cari",label:"Cari Nota",noUpperCase:!0,placeholder:"Cari Field",onChange:r=>o(r.target.value),component:j})})}),t.jsx("div",{className:"mt-3",children:t.jsx("ul",{className:"list-group",id:"list_component",style:{overflow:"scroll",height:"200px"},children:s.data.map((r,l)=>{var d;return t.jsx("li",{className:"list-group-item",children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-9",children:t.jsxs("button",{disabled:i,onClick:()=>a(ut(r.name)),className:"btn btn-default btn-sm text-nowrap",children:[" ",(d=r==null?void 0:r.value)==null?void 0:d.slice(0,20)," (",r.name,")"," "]})}),t.jsxs("div",{className:"col-3 text-end",children:[t.jsx("button",{disabled:i,className:"btn btn-default btn-sm",onClick:()=>a(Pl(r.name,r.value,r==null?void 0:r.jenis)),children:t.jsx("i",{className:"fa fa-copy fa-lg",children:" "})})," ",t.jsx("button",{disabled:i,onClick:()=>a(Nl(r.name)),className:`btn btn-default btn-sm ${r.is_deletable?"":"d-none"}`,children:t.jsx("i",{className:"fa fa-trash fa-lg",children:" "})})]})]})},l)})})}),s.data.length!==0&&t.jsxs("div",{className:"row mt-3",children:[t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"nama_text",name:"name",label:"Nama Text",readOnly:!0,noUpperCase:!0,placeholder:"Nama Text",component:j})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"font_style",name:"font_style",label:"Font Style",noUpperCase:!0,placeholder:"Font Style",options:[{value:"normal",label:"Normal"},{value:"bold",label:"Bold"}],component:ea})}),t.jsx(p,{id:"url_image",name:"url_image",type:"hidden",component:sa}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"jenis",name:"jenis",label:"Jenis",placeholder:"Jenis",noUpperCase:!0,options:[{value:"text",label:"Text"},{value:"line",label:"Line"},{value:"gambar",label:"Gambarr"},{value:"barcode",label:"Barcode"},{value:"qrcode",label:"Qr Code"}],disabled:i,component:ea})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"isi_field_value",name:"value",label:"Isi",noUpperCase:!0,placeholder:"Isi",readOnly:i,component:j})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"width",name:"width",label:"Width",normalize:Ma,placeholder:"Width",readOnly:i,isNumber:!0,component:j})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"rotate",name:"rotate",label:"Rotate",placeholder:"Rotate",readOnly:i,component:j})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"height",name:"height",label:"Height",isNumber:!0,normalize:Ma,placeholder:"Height",readOnly:i,component:j})}),t.jsx("div",{className:"col-lg-4 ",children:t.jsx(p,{id:"font_size",name:"font_size",nouperCase:!0,isNumber:!0,label:"Font Size",normalize:Ma,placeholder:"Font Size",readOnly:i,component:j})}),t.jsx("div",{className:"col-lg-4 mt-4",children:t.jsxs("button",{id:"simpan",name:"simpan",disabled:i,onClick:()=>a(vl()),className:"btn btn-success btn-block",children:[n.getLoading.screen?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-4"})," "]}):"","Simpan Data"]})})]})]}),t.jsx(ma,{namaForm:"Tambah Label",title:"Tambah Label",children:t.jsx(Al,{})})]})},Il=G({form:"SettingMember"})(Dl),Ml=pa(),mt=()=>{const a=()=>async(d,u)=>{var k;const m=u(),g=(k=m.form.ModalPegawai)==null?void 0:k.values;m.utility.getModal.isEdit?d(i(g)):d(e(g))},e=d=>async u=>{try{u(c.setLoading({screen:!0})),await na(P.dataMaster.pegawai,{...d,daily_sholat_minute:+d.daily_sholat_minute,daily_rest_minute:+d.daily_rest_minute,daily_break_minute:+d.daily_break_minute}),K("Data Berhasil Disimpan"),u(aa.getDataPegawai()),u(c.stopLoading()),u(c.hideModal()),u(ia("ModalPegawai")),u(o(d))}catch(m){S(`${m}`),u(c.stopLoading())}},i=d=>async u=>{try{u(c.setLoading({screen:!0})),await ya(`${P.dataMaster.pegawai}/${d._id}`,{...d,daily_sholat_minute:+d.daily_sholat_minute,daily_rest_minute:+d.daily_rest_minute,daily_break_minute:+d.daily_break_minute}),K("Data Berhasil Diedit"),u(aa.getDataPegawai()),u(c.stopLoading()),u(ia("ModalPegawai")),u(c.hideModal())}catch(m){S(`${m}`),u(c.stopLoading())}},s=d=>async u=>{try{u(c.setLoading({button:!0})),await va(`${P.dataMaster.pegawai}/${d}`),u(aa.getDataPegawai()),K("Data Berhasil Dihapus"),u(c.stopLoading())}catch(m){u(c.stopLoading()),S(`${m||"Data Gagal Hapus"}`)}},o=d=>async u=>{const m=document.getElementById("nota_ganerate");m&&(m.value=`${d.kode_toko}~${d.kode_pegawai}`),wn("reg_fingerprint"),u(Ml.showModal({isEdit:!0,title:"Fingerprint",namaForm:"Fingerprint",data:d}))};return{prosesData:a,removeData:s,cariDataSales:()=>async(d,u)=>{var k;await Ba();const g=(k=u().form.ModalPegawai)==null?void 0:k.values;if(g!=null&&g.kode_toko)try{d(c.setLoading({screen:!0}));const h=await q(P.externalApi.dataSales,{kode_toko:g==null?void 0:g.kode_toko});d(c.simpanDataTmp({data:h.data})),d(c.stopLoading())}catch(h){d(c.stopLoading()),S(`${h}`),d(c.simpanDataTmp({data:[]}))}else d(c.simpanDataTmp({data:[]}))},updatePin:()=>async(d,u)=>{var m;try{const k=(m=u().form.ModalUpdatePin)==null?void 0:m.values;d(c.setLoading({screen:!0})),await na(P.dataMaster.updatePinPegawai,{kode_pegawai:k.kode_pegawai,pin:k.pin}),K("Ganti Pin Berhasil"),d(c.stopLoading()),d(c.hideModal())}catch(g){d(c.stopLoading()),S(`${g}`)}},cetakMember:d=>async u=>{try{u(c.setLoading({screen:!0}));const m=await q(P.utility.memberCard,{kode_pegawai:d.kode_pegawai});jl({title:"Cetak Kartu Pegawai",data:{nota:[m.data.dataPegawai],notasetting:m.data.kartuPegawai}}),u(c.stopLoading())}catch(m){u(c.stopLoading()),console.log(m)}},showFingerPrint:o}},pt=a=>{const{form:e,changeKodePegawai:i,hidden:s}=a,o=E(),n=pa(),r=mt();x.useEffect(()=>{o(aa.getDataPegawai())},[o]);const l=[{title:"Actions",key:"actions",align:"center",render:(m,g)=>t.jsx(t.Fragment,{children:t.jsx(Gi,{placement:"bottomLeft",arrow:!0,dropdownRender:()=>t.jsx("ul",{className:"ant-dropdown-menu ant-dropdown-menu-root ant-dropdown-menu-vertical ant-dropdown-menu-light css-dev-only-do-not-override-1n7nwfa",role:"menu","data-menu-list":"true",children:e==="CetakKartuPegawai"?t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsx(ee,{onClick:()=>o(r.cetakMember(g)),children:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa fa-print"})," Cetak Kartu Pegawai"]})})}):t.jsxs(t.Fragment,{children:[t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsx(ee,{onClick:()=>o(n.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormPegawai",data:g})),children:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa fa-edit"})," Edit Pegawai"]})})}),t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsx(ee,{onClick:()=>o(r.showFingerPrint(g)),children:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa fa-fingerprint"})," Edit Fingerprint"]})})}),t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsxs(ee,{onClick:()=>o(n.showModal({isEdit:!1,title:"Update Pin",namaForm:"FormUpdatePin",data:g})),children:[t.jsx("i",{className:"fa fa-key"})," Edit Pin"]})}),t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsxs(ee,{usePopconfirm:!0,placement:"right",onClick:()=>o(r.removeData(g._id)),children:[t.jsx("i",{className:"fa fa-trash"})," Hapus Data"]})})]})}),children:t.jsx(le,{children:"..."})})})},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"No Rekening",dataIndex:"no_rekening",key:"no_rekening",render(m,g){return t.jsxs("div",{children:[g.no_rekening," - ",g.kode_bank]})}},{title:"Kode Sales",dataIndex:"kode_sales",key:"kode_sales"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tgl Lahir",dataIndex:"tgl_lahir",key:"tgl_lahir",render(m){return t.jsxs("div",{children:[" ",Y(m,!0)==="Invalid date"?"":Y(m,!0)," "]})}},{title:"Tanggal Join",dataIndex:"tgl_join",key:"tgl_join",render(m){return t.jsxs("div",{children:[" ",Y(m,!0)," "]})}},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Hari Libur",dataIndex:"hari_libur",key:"hari_libur"},{title:"Shift",dataIndex:"type_shift",key:"type_shift"},{title:"Lama Istirahat",dataIndex:"daily_rest_minute",key:"daily_rest_minute"},{title:"Lama Sholat",dataIndex:"daily_sholat_minute",key:"daily_sholat_minute"},{title:"Lama Break",dataIndex:"daily_break_minute",key:"daily_break_minute"},{title:"Jatah Cuti",dataIndex:"cuti_tahunan",key:"cuti_tahunan"},{title:"Cuti Terpakai",dataIndex:"cuti_terpakai",key:"cuti_terpakai"},{title:"Gaji Pokok",dataIndex:"gaji_pokok",key:"gaji_pokok",render(m){var g;return t.jsx("div",{children:(g=Number(m||0))==null?void 0:g.toLocaleString("kr-ko")})}},{title:"Tunjangan Jabatan",dataIndex:"tunjangan_jabatan",key:"tunjangan_jabatan",render(m){var g;return t.jsx("div",{children:(g=Number(m||0))==null?void 0:g.toLocaleString("kr-ko")})}}],d=D(m=>m.dataMaster.dataPegawai),u={onChange:(m,g)=>{g&&(i==null||i(g))},getCheckboxProps:m=>({disabled:m.kode_pegawai==="Disabled User",name:m.kode_pegawai})};return t.jsx(X,{addButtonTitle:e==="pencarian_pegawai"||e==="CetakKartuPegawai"?void 0:"Tambah Data",dataSource:d.data,columns:l.filter(m=>!(e==="pencarian_pegawai"&&(s!=null&&s.gajiPokok&&m.dataIndex==="gaji_pokok"||m.key==="actions"))),rowKey:"kode_pegawai",scrollX:!0,width:2300,rowSelection:e==="pencarian_pegawai"&&{type:"radio",...u},onAddButtonClick:()=>o(n.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormPegawai"}))})},Cl=a=>{const e={};return a.gaji_pokok===void 0&&(e.gaji_pokok="Gaji Pokok harus diisi"),a.hari_libur||(e.hari_libur="Hari Libur harus diisi"),a.jabatan||(e.jabatan="Jabatan harus dipilih"),a.daily_break_minute||(e.daily_break_minute="Jam Break harus diisi"),a.daily_rest_minute||(e.daily_rest_minute="Jam Istirahat harus diisi"),a.daily_sholat_minute||(e.daily_sholat_minute="Jam Sholat harus diisi"),a.cuti_tahunan===void 0&&(e.cuti_tahunan="Jatah Cuti harus diisi"),a.kode_sales||(e.kode_sales="Kode Sales harus diisi"),a.nama_pegawai||(e.nama_pegawai="Nama Pegawai harus diisi"),a.pin||(e.pin="Pin harus diisi"),a.type_shift||(e.type_shift="Shift harus dipilih"),a.tgl_lahir||(e.tgl_lahir="Tanggal Lahir harus diisi"),a.tunjangan_jabatan===void 0&&(e.tunjangan_jabatan="Tunjangan Jabatan harus diisi"),a.kode_toko||(e.kode_toko="Kode Toko harus di pilih"),a.hari_libur||(e.hari_libur="Hari Libur harus di pilih"),a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus di pilih"),a.no_rekening||(e.no_rekening="No Rekening harus di isi"),a.tgl_join||(e.tgl_join="Tanggal Join harus di diisi"),e},wl=a=>{var w;const{handleSubmit:e,pristine:i,submitting:s,isEdit:o,kode_toko:n,type_shift:r}=a,l=E(),d=mt(),u=async()=>{l(d.prosesData())},[m,g]=x.useState(!0),[k,h]=x.useState(n);x.useEffect(()=>{const T=document.getElementById("kode_jenis");return T&&T.focus(),o&&(l(d.cariDataSales()),setTimeout(()=>{console.log(r),l(v("ModalPegawai","type_shift",r))},300)),l(aa.getDataJabatan()),l(aa.getDataToko()),l(ra.getParameterShiftKerja()),()=>{l(c.simpanDataTmp({data:[]}))}},[l,o]);const _=D(T=>T.dataMaster.dataJabatan),N=D(T=>T.dataMaster.dataToko),y=(w=D(T=>T.utility.getDataTmp))==null?void 0:w.data,L=D(T=>T.parameter.parameterShiftKerja);return t.jsx("form",{onSubmit:e(u),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",id:"kode_toko",name:"kode_toko",options:N.data.map(T=>({value:T.kode_toko,label:T.nama_toko})),onChange:T=>{h(T),l(d.cariDataSales())},placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Sales",id:"kode_sales",name:"kode_sales",disabled:o,options:y.sort((T,A)=>{var R;return(R=T==null?void 0:T.kode_sales)==null?void 0:R.localeCompare(A==null?void 0:A.kode_sales)}).map(T=>({value:T.kode_sales,label:T.kode_sales})),placeholder:"Pilih Kode Sales",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Pegawai",id:"kode_pegawai",name:"kode_pegawai",type:"text",readOnly:o,placeholder:"Masukan Kode Pegawai",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"No Rekening",name:"no_rekening",type:"number",placeholder:"Masukan No Rekening",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Bank",name:"kode_bank",type:"text",placeholder:"Masukan Kode Bank",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Nama Pegawai",id:"nama_pegawai",name:"nama_pegawai",type:"text",placeholder:"Masukan Nama Pegawai",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tgl Lahir",id:"tgl_lahir",name:"tgl_lahir",type:"date",placeholder:"Masukan Jabatan",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Join",id:"tgl_join",name:"tgl_join",placeholder:"Masukan Tanggal Join",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jabatan",id:"jabatan",name:"jabatan",placeholder:"Pilih Jabatan",options:_.data.map(T=>({value:T.jabatan,label:T.jabatan})),component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Shift",id:"type_shift",name:"type_shift",placeholder:"Pilih Shift",options:L.data.filter(T=>T.kode_toko===k).map(T=>({value:T.type_shift,label:T.type_shift})),component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Hari Libur",id:"hari_libur",name:"hari_libur",placeholder:"Masukan Hari Libur",options:[{value:"MINGGU",label:"MINGGU"},{value:"SENIN",label:"SENIN"},{value:"SELASA",label:"SELASA"},{value:"RABU",label:"RABU"},{value:"KAMIS",label:"KAMIS"},{value:"JUMAT",label:"JUMAT"},{value:"SABTU",label:"SABTU"}],component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Lama Istirahat",id:"daily_rest_minute",name:"daily_rest_minute",placeholder:"Masukan Lama Istirahat",component:j,normalize:Ma,right:!0,inputGroup:!0,textIconGroup:"Menit"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Lama Sholat",id:"daily_sholat_minute",name:"daily_sholat_minute",placeholder:"Masukan Lama Sholat",component:j,normalize:Ma,right:!0,inputGroup:!0,textIconGroup:"Menit"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Lama Break",id:"daily_break_minute",name:"daily_break_minute",placeholder:"Masukan Lama Break",component:j,normalize:Ma,right:!0,inputGroup:!0,textIconGroup:"Menit"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jatah Cuti",id:"cuti_tahunan",name:"cuti_tahunan",placeholder:"Masukan Jatah Cuti",component:da})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Gaji Pokok",id:"gaji_pokok",name:"gaji_pokok",placeholder:"Masukan Gaji Pokok",isRp:!0,component:da})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tunjangan Jabatan",id:"tunjangan_jabatan",name:"tunjangan_jabatan",placeholder:"Masukan Tunjangan Jabatan",isRp:!0,component:da})}),!o&&t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"PIN",id:"pin",name:"pin",placeholder:"Masukan PIN",component:j,normalize:Ma,right:!0,inputGroup:!0,textIconGroup:m?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:m?"password-hide":"",handleClick:()=>g(!m)})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:o?"Edit":"Simpan "})})]})})},Rl=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T,A,R,F,b,I,M,z,f,W,$,ta,oa,ca,ua,xa,Ta,Na,La,Aa,Da,qa,Wa,Ya,Xa,Za,Qa,_t,bt,kt,yt,xt,jt,ft,Tt,Lt,vt,Nt,Pt,St,Et,At,Dt,It,Mt,Ct;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,kode_toko:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l.kode_toko,type_shift:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.type_shift,initialValues:{_id:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h._id,kode_pegawai:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.kode_pegawai,nama_pegawai:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.nama_pegawai,tgl_lahir:(F=(R=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:R.data)==null?void 0:F.tgl_lahir,jabatan:(M=(I=(b=a==null?void 0:a.utility)==null?void 0:b.getModal)==null?void 0:I.data)==null?void 0:M.jabatan,type_shift:(W=(f=(z=a==null?void 0:a.utility)==null?void 0:z.getModal)==null?void 0:f.data)==null?void 0:W.type_shift,daily_rest_minute:(oa=(ta=($=a==null?void 0:a.utility)==null?void 0:$.getModal)==null?void 0:ta.data)==null?void 0:oa.daily_rest_minute,daily_sholat_minute:(xa=(ua=(ca=a==null?void 0:a.utility)==null?void 0:ca.getModal)==null?void 0:ua.data)==null?void 0:xa.daily_sholat_minute,daily_break_minute:(La=(Na=(Ta=a==null?void 0:a.utility)==null?void 0:Ta.getModal)==null?void 0:Na.data)==null?void 0:La.daily_break_minute,cuti_tahunan:(qa=(Da=(Aa=a==null?void 0:a.utility)==null?void 0:Aa.getModal)==null?void 0:Da.data)==null?void 0:qa.cuti_tahunan,gaji_pokok:(Xa=(Ya=(Wa=a==null?void 0:a.utility)==null?void 0:Wa.getModal)==null?void 0:Ya.data)==null?void 0:Xa.gaji_pokok,tunjangan_jabatan:(_t=(Qa=(Za=a==null?void 0:a.utility)==null?void 0:Za.getModal)==null?void 0:Qa.data)==null?void 0:_t.tunjangan_jabatan,kode_sales:(yt=(kt=(bt=a==null?void 0:a.utility)==null?void 0:bt.getModal)==null?void 0:kt.data)==null?void 0:yt.kode_sales,kode_toko:(ft=(jt=(xt=a==null?void 0:a.utility)==null?void 0:xt.getModal)==null?void 0:jt.data)==null?void 0:ft.kode_toko,hari_libur:(vt=(Lt=(Tt=a==null?void 0:a.utility)==null?void 0:Tt.getModal)==null?void 0:Lt.data)==null?void 0:vt.hari_libur,tgl_join:(St=(Pt=(Nt=a==null?void 0:a.utility)==null?void 0:Nt.getModal)==null?void 0:Pt.data)==null?void 0:St.tgl_join,kode_bank:(Dt=(At=(Et=a==null?void 0:a.utility)==null?void 0:Et.getModal)==null?void 0:At.data)==null?void 0:Dt.kode_bank,no_rekening:(Ct=(Mt=(It=a==null?void 0:a.utility)==null?void 0:It.getModal)==null?void 0:Mt.data)==null?void 0:Ct.no_rekening}}:{isEdit:!1}},Kl=la(Rl),$l={form:"ModalPegawai",enableReinitialize:!0,validate:Cl},Fl=Kl(G($l)(wl)),Bl=()=>{var o,n;const a=(n=(o=D(r=>r.utility))==null?void 0:o.getModal)==null?void 0:n.data,[e,i]=x.useState(!1),s=E();return x.useEffect(()=>{if(a.kode_toko&&a.kode_pegawai){const r=Nn(Ga.replace("/api/v1",""));return r.connect(),r.on("connect",()=>{r.emit("join-room",`${a.kode_toko}~${a.kode_pegawai}`),r.on("fingerprint-register",async l=>{console.log(l),l.is_valid?(i(!0),await Ba(1e3),s(c.hideModal())):i(!1)})}),()=>{r.disconnect()}}},[a]),t.jsx("div",{children:t.jsxs("div",{className:"text-center",style:{marginTop:100,marginBottom:50},children:[t.jsx("i",{className:`fa-solid fa-fingerprint fa-lg ${e?"":"fa-bounce"}`,style:{fontSize:"10em",color:`${e?"#218838":"#000000"}`}}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("br",{}),e?"Fingerprint Berhasil Di Scan":"Silahkan Scan Fingerprint"]})})},Ul=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),[n,r]=x.useState(!0),l=mt(),d=()=>{o(l.updatePin())};return x.useEffect(()=>{ha("pin_change")},[]),t.jsx("form",{onSubmit:e(d),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Kode Pegawai",name:"kode_pegawai",placeholder:"Masukan Kode Pegawai",component:j,readOnly:!0})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",placeholder:"Masukan Kode Pegawai",component:j,readOnly:!0})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"PIN",id:"pin_change",name:"pin",placeholder:"Masukan PIN Baru",component:j,normalize:Ma,right:!0,inputGroup:!0,textIconGroup:n?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:n?"password-hide":"",handleClick:()=>r(!n)})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Update Pin"})})]})})},Ol=a=>{var e,i,s,o,n,r,l,d,u;return{initialValues:{_id:(s=(i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.data)==null?void 0:s._id,kode_pegawai:(r=(n=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:n.data)==null?void 0:r.kode_pegawai,nama_pegawai:(u=(d=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:d.data)==null?void 0:u.nama_pegawai}}},Gl=la(Ol),zl={form:"ModalUpdatePin",enableReinitialize:!0},Hl=Gl(G(zl)(Ul)),Jl=()=>{const a=D(i=>i.utility),e=a.getModal.title==="Fingerprint"||a.getModal.title==="Update Pin"?500:1e3;return t.jsxs(V,{title:"Master Pegawai",children:[t.jsx(pt,{}),t.jsx(ma,{namaForm:"FormMasterKodePabrikan",title:`${a.getModal.title}`,width:e,children:a.getModal.title==="Fingerprint"?t.jsx(Bl,{}):a.getModal.title==="Update Pin"?t.jsx(Hl,{}):t.jsx(Fl,{})})]})},Vn=()=>{const a=(n,r)=>async(l,d)=>{d().utility.getModal.isEdit?l(i(n,r)):l(e(n,r))},e=(n,r)=>async l=>{try{l(c.setLoading({screen:!0})),await na(P.dataMaster.user,{...n,hak_akses_json:JSON.stringify(r),kode_toko:`${_a}`}),l(aa.getDataUser()),K("Data Berhasil Disimpan"),l(c.hideModal()),l(c.stopLoading()),l(ia("FormDataUser")),l(c.simpanDataTmp({data:Ha}))}catch(d){l(c.stopLoading()),S(`${d||"Data Gagal Disimpan"}`)}},i=(n,r)=>async l=>{try{await ya(`${P.dataMaster.user}/${n._id}`,{...n,hak_akses_json:JSON.stringify(r),kode_toko:`${_a}`}),l(aa.getDataUser()),K("Data Berhasil Diedit"),l(ia("FormDataUser")),l(c.hideModal()),l(c.simpanDataTmp({data:Ha}))}catch(d){l(c.stopLoading()),S(`${d||"Data Gagal Diedit"}`)}};return{nextPageWithSearch:n=>async r=>{r(aa.getDataUser({skip:n==null?void 0:n.skip,limit:n==null?void 0:n.limit,q:n==null?void 0:n.q}))},prosesData:a,removeData:n=>async r=>{try{r(c.setLoading({button:!0})),await va(`${P.dataMaster.user}/${n}`),r(aa.getDataUser()),K("Data Berhasil Dihapus"),r(c.stopLoading())}catch(l){r(c.stopLoading()),S(`${l||"Data Gagal Hapus"}`)}}}},Vl=()=>{const a=E(),e=pa(),i=Vn();x.useEffect(()=>{a(aa.getDataUser())},[a]);const s=[{title:"User Id",dataIndex:"user_id",key:"user_id"},{title:"Username",dataIndex:"user_name",key:"user_name"},{title:"Level",dataIndex:"level",key:"level"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsxs("div",{className:"text-center",children:[t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:r})),children:t.jsx("i",{className:"fa fa-edit"})})," ",t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})]})}],o=D(n=>n.dataMaster.dataUser);return t.jsx(X,{addButtonTitle:"Tambah Data",dataSource:o.data,columns:s,rowKey:"user_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataUser"}))})},ql=a=>{const e={};return a.user_id||(e.user_id="User Id harus diisi"),a.user_name||(e.user_name="Username harus diisi"),a._id||a.password||(e.password="Password harus diisi"),a.level||(e.level="level harus dipilih"),e},Wl=a=>{var y;const{handleSubmit:e,isEdit:i,idUser:s,hakAkses:o}=a,n=E(),[r,l]=x.useState(!1),d=({treeIndex:L})=>L,u=Vn(),m=D(L=>L.utility),g=async L=>{const w=m.getDataTmp.data;n(u.prosesData(L,w))};x.useEffect(()=>{k(),ha(i?"user_name":"user_id")},[s,n]);const k=async()=>{if(o){const L=JSON.parse(o||"[]"),w=Ha.map(T=>{const A=L.find(R=>R.title===T.title);if(A&&A.is_show!==void 0){let R=[];if(T.children&&(R=T.children.map(F=>{const b=A.children.find(I=>I.title===F.title);return b&&b.is_show!==void 0?{...F,is_show:b.is_show}:F})),T.children&&T.children.length>=3){const F=T.children[2];if(A.children&&A.children.length>=3){const b=A.children[2];b&&b.is_show!==void 0&&(F.is_show=b.is_show)}}return{...T,is_show:A.is_show,children:R}}return T});n(c.simpanDataTmp({data:w})),l(!1)}else n(c.simpanDataTmp({data:Ha})),l(!1)},[h,_]=x.useState(!0),N=(y=m.getDataTmp)==null?void 0:y.data;return t.jsxs("form",{onSubmit:e(g),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:m.getScreenSize==="lg"?"col-5":"col-12",style:{maxWidth:m.getScreenSize==="lg"?"34.666667%":"100%"},children:t.jsx("div",{style:{height:400},children:r?t.jsxs(t.Fragment,{children:[t.jsx(Le,{active:!0}),t.jsx(Le,{active:!0}),t.jsx(Le,{active:!0})]}):t.jsx(zi,{treeData:N,onChange:L=>n(c.simpanDataTmp({data:L})),generateNodeProps:({node:L,path:w})=>({title:t.jsx("div",{children:t.jsxs("div",{className:"input-group",children:[t.jsx("input",{type:"text",className:"form-control",value:L.title,onChange:T=>{const A=T.target.value;n(c.simpanDataTmp({data:ve({treeData:N,path:w,getNodeKey:d,newNode:{...L,title:A}})}))},placeholder:"Recipient's username"}),t.jsx("div",{className:"input-group-append",children:L.is_show?t.jsx(t.Fragment,{children:t.jsxs("button",{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation(),n(c.simpanDataTmp({data:ve({treeData:N,path:w,getNodeKey:d,newNode:{...L,is_show:!1}})}))},className:"btn btn-primary",children:[" ",t.jsx("i",{className:"fa fa-eye"})," "]})}):t.jsx(t.Fragment,{children:t.jsxs("button",{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation(),n(c.simpanDataTmp({data:ve({treeData:N,path:w,getNodeKey:d,newNode:{...L,is_show:!0}})}))},className:"btn btn-secondary",children:[" ",t.jsx("i",{className:"fa fa-eye-slash"})," "]})})})]})})})})})}),t.jsx("div",{className:m.getScreenSize==="lg"?"col-7":"col-12 mt-4",children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx("div",{className:"mb-20px",children:t.jsx(p,{label:"User Id",id:"user_id",name:"user_id",type:"text",noUpperCase:!0,readOnly:i,placeholder:"Masukan User Id",component:j})})}),t.jsx("div",{className:"col-6",children:t.jsx("div",{className:"mb-20px",children:t.jsx(p,{label:"Username",id:"user_name",name:"user_name",type:"text",placeholder:"Masukan Username",component:j})})}),!i&&t.jsx("div",{className:"col-6 ",children:t.jsx("div",{className:"mb-20px",children:t.jsx(p,{type:"text",label:"Passsword",name:"password",enableenter:!0,noUpperCase:!0,id:"password",nouperCase:!0,placeholder:"Masukan Password",component:j,right:!0,inputGroup:!0,textIconGroup:h?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:h?"password-hide":"",handleClick:()=>_(!h)})})}),t.jsx("div",{className:"col-6",children:t.jsx("div",{className:"mb-20px",children:t.jsx(p,{label:"Level",name:"level",type:"text",placeholder:"Pilih Level",component:ea,options:[{value:"SPV",label:"SPV"},{value:"ADMIN",label:"ADMIN"},{value:"OWN",label:"OWNER"},{value:"MANAGER",label:"MANAGER"},{value:"HRD",label:"HRD"}]})})}),t.jsxs("div",{className:`col-6 text-end ${i?"mt-2":""}`,children:[i&&t.jsx(t.Fragment,{children:"  "}),t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-xl",children:i?"Edit":"Simpan "})]})]})})]})]})},Yl=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,hakAkses:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l.hak_akses_json,initialValues:{_id:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m._id,user_id:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.user_id,user_name:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.user_name,level:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.level}}:{hakAkses:"",isEdit:!1}},Xl=la(Yl),Zl={form:"FormDataUser",enableReinitialize:!0,validate:ql},Ql=Xl(G(Zl)(Wl)),ad=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Data User",children:[t.jsx(Vl,{}),t.jsx(ma,{namaForm:"FormDataUser",title:`${a.getModal.title}`,width:1200,children:t.jsx(Ql,{})})]})},qn=()=>{const a=()=>async(o,n)=>{var d;const r=n(),l=(d=r.form.FormDataJabatan)==null?void 0:d.values;r.utility.getModal.isEdit?o(i(l)):o(e(l))},e=o=>async n=>{try{n(c.setLoading({screen:!0})),await na(P.dataMaster.jabatan,o),K("Data Berhasil Disimpan"),n(aa.getDataJabatan()),n(c.stopLoading()),n(c.hideModal()),n(ia("FormDataJabatan"))}catch(r){S(`${r}`),n(c.stopLoading())}},i=o=>async n=>{try{n(c.setLoading({screen:!0})),await ya(`${P.dataMaster.jabatan}/${o._id}`,o),K("Data Berhasil Diedit"),n(aa.getDataJabatan()),n(c.stopLoading()),n(ia("FormDataJabatan")),n(c.hideModal())}catch(r){S(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:o=>async n=>{try{n(c.setLoading({button:!0})),await va(`${P.dataMaster.jabatan}/${o}`),n(aa.getDataJabatan()),K("Data Berhasil Dihapus"),n(c.stopLoading())}catch(r){n(c.stopLoading()),S(`${r||"Data Gagal Hapus"}`)}}}},ed=()=>{const a=E(),e=pa(),i=qn();x.useEffect(()=>{a(aa.getDataJabatan())},[a]);const s=[{title:"Nama Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})})}],o=D(n=>n.dataMaster.dataJabatan);return t.jsx(X,{addButtonTitle:"Tambah Data",dataSource:o.data||[],columns:s,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},td=a=>{const e={};return a.jabatan||(e.jabatan="Jabatan harus diisi"),e},nd=a=>{const{handleSubmit:e,isEdit:i}=a,s=qn(),o=E(),n=()=>{o(s.prosesData())};return x.useEffect(()=>{ha("jabatan")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{id:"jabatan",label:"Jabatan",name:"jabatan",type:"text",placeholder:"Masukan Jabatan",component:j})}),t.jsxs("div",{className:"col-6 text-end mt-4",children:[i&&t.jsx(t.Fragment,{children:"  "}),t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})]})]})]})},id=a=>{var e,i,s,o,n,r,l,d,u,m;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,jabatan:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.jabatan}}:{isEdit:!1}},od=la(id),sd={form:"FormDataJabatan",enableReinitialize:!0,validate:td},rd=od(G(sd)(nd)),ld=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Data Jabatan",children:[t.jsx(ed,{}),t.jsx(ma,{namaForm:"FormDataJabatan",title:`${a.getModal.title}`,width:500,children:t.jsx(rd,{})})]})},Wn=()=>{const a=()=>async(o,n)=>{var d;const r=n(),l=(d=r.form.FormHariLibur)==null?void 0:d.values;r.utility.getModal.isEdit?o(i(l)):o(e(l))},e=o=>async n=>{try{n(c.setLoading({screen:!0})),await na(P.dataMaster.hariLibur,o),K("Data Berhasil Disimpan"),n(c.stopLoading()),n(aa.getDataHariLibur()),n(c.hideModal()),n(ia("FormHariLibur"))}catch(r){S(`${r}`),n(c.stopLoading())}},i=o=>async n=>{try{n(c.setLoading({screen:!0})),await ya(`${P.dataMaster.hariLibur}/${o._id}`,o),K("Data Berhasil Diedit"),n(c.stopLoading()),n(aa.getDataHariLibur()),n(c.hideModal()),n(ia("FormHariLibur"))}catch(r){S(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:o=>async n=>{try{n(c.setLoading({button:!0})),await va(`${P.dataMaster.hariLibur}/${o}`),n(aa.getDataHariLibur()),K("Data Berhasil Dihapus"),n(c.stopLoading()),n(ia("FormHariLibur"))}catch(r){n(c.stopLoading()),S(`${r||"Data Gagal Hapus"}`)}}}},dd=()=>{const a=E(),e=pa(),i=Wn();x.useEffect(()=>{a(aa.getDataHariLibur())},[a]);const s=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Tanggal Libur",dataIndex:"tgl_libur",key:"tgl_libur",render(n){return Y(n,!0)}},{title:"Deskripsi",dataIndex:"deskripsi",key:"deskripsi"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsxs("div",{className:"text-center",children:[t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:r})),children:t.jsx("i",{className:"fa fa-edit"})})," ",t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})]})}],o=D(n=>n.dataMaster.dataHariLibur);return t.jsx(X,{addButtonTitle:"Tambah Data",dataSource:o.data||[],columns:s,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataUser"}))})},cd=a=>{const e={};return a.tgl_libur||(e.tgl_libur="Tanggal Libur harus diisi"),a.deskripsi||(e.deskripsi="Deskripsi harus diisi"),e},ud=a=>{const{handleSubmit:e,isEdit:i,pristine:s,submitting:o}=a,n=E(),r=Wn(),l=async()=>{n(r.prosesData())};return x.useEffect(()=>{ha("tgl_libur"),i||n(v("FormHariLibur","tgl_libur",U))},[n]),t.jsxs("form",{onSubmit:e(l),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(Ea,{disabled:i,className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal Libur",id:"tgl_libur",name:"tgl_libur",type:"date",placeholder:"Masukan Tanggal Libur",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Deskripsi",name:"deskripsi",type:"text",placeholder:"Masukan Deskripsi",component:j})}),t.jsxs("div",{className:"col-6 text-end mt-4",children:[i&&t.jsx(t.Fragment,{children:"  "}),t.jsx(C,{disabled:s||o,color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})]})]})]})},md=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,deskripsi:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.deskripsi,tgl_libur:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.tgl_libur,kode_toko:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.kode_toko}}:{isEdit:!1}},pd=la(md),gd={form:"FormHariLibur",enableReinitialize:!0,validate:cd},hd=pd(G(gd)(ud)),_d=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Data Hari Libur",children:[t.jsx(dd,{}),t.jsx(ma,{namaForm:"FormHariLibur",title:`${a.getModal.title}`,width:500,children:t.jsx(hd,{})})]})},Yn=()=>{const a=()=>async(o,n)=>{var d;const r=n(),l=(d=r.form.FormDataToko)==null?void 0:d.values;r.utility.getModal.isEdit?o(i(l)):o(e(l))},e=o=>async n=>{try{n(c.setLoading({screen:!0})),await na(P.dataMaster.toko,o),K("Data Berhasil Disimpan"),n(aa.getDataToko()),n(c.stopLoading()),n(c.hideModal()),n(ia("FormDataToko"))}catch(r){S(`${r}`),n(c.stopLoading())}},i=o=>async n=>{try{n(c.setLoading({screen:!0})),await ya(`${P.dataMaster.toko}/${o._id}`,o),K("Data Berhasil Diedit"),n(aa.getDataToko()),n(c.stopLoading()),n(ia("FormDataToko")),n(c.hideModal())}catch(r){S(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:o=>async n=>{try{n(c.setLoading({button:!0})),await va(`${P.dataMaster.toko}/${o}`),n(aa.getDataToko()),K("Data Berhasil Dihapus"),n(c.stopLoading())}catch(r){n(c.stopLoading()),S(`${r||"Data Gagal Hapus"}`)}}}},bd=()=>{const a=E(),e=pa(),i=Yn();x.useEffect(()=>{a(aa.getDataToko())},[a]);const s=[{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Alamat Toko",dataIndex:"alamat_toko",key:"alamat_toko"},{title:"Portal",dataIndex:"portal",key:"portal",render(n){return t.jsx(Do,{text:n})}},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})})}],o=D(n=>n.dataMaster.dataToko);return t.jsx(X,{addButtonTitle:"Tambah Data",dataSource:o.data||[],columns:s,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormdataToko"}))})},kd=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus diisi"),a.nama_toko||(e.nama_toko="Nama Toko harus diisi"),a.alamat_toko||(e.alamat_toko="Alamat Toko harus diisi"),a.portal||(e.portal="Portal harus diisi"),e},yd=a=>{const{handleSubmit:e,isEdit:i}=a,s=Yn(),o=E(),n=()=>{o(s.prosesData())};return x.useEffect(()=>{ha("Toko")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{id:"Toko",label:"Kode Toko",name:"kode_toko",type:"text",placeholder:"Masukan Kode Toko",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Toko",name:"nama_toko",type:"text",placeholder:"Masukan Nama Toko",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alamat Toko",name:"alamat_toko",type:"text",placeholder:"Masukan Alamat Toko",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Portal",name:"portal",type:"text",noUpperCase:!0,placeholder:"Masukan Portal",component:j})}),t.jsxs("div",{className:"col-12 text-end mt-4",children:[i&&t.jsx(t.Fragment,{children:"  "}),t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})]})]})]})},xd=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,kode_toko:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.kode_toko,alamat_toko:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.alamat_toko,portal:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.portal,nama_toko:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.nama_toko}}:{isEdit:!1}},jd=la(xd),fd={form:"FormDataToko",enableReinitialize:!0,validate:kd},Td=jd(G(fd)(yd)),Ld=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Data Toko",children:[t.jsx(bd,{}),t.jsx(ma,{namaForm:"FormDataToko",title:`${a.getModal.title}`,width:500,children:t.jsx(Td,{})})]})},vd=()=>{const a=E(),e=pa();x.useEffect(()=>{a(ra.getParameterBonusSales())},[a]);const i=[{title:"Bonus Penjualan",dataIndex:"bonus_jual",key:"bonus_jual",render:o=>{var n;return t.jsx("div",{children:(n=Number(o||0))==null?void 0:n.toLocaleString("kr-ko")})}},{title:"Bonus Pembelian",dataIndex:"bonus_beli",key:"bonus_beli",render:o=>{var n;return t.jsx("div",{children:(n=Number(o||0))==null?void 0:n.toLocaleString("kr-ko")})}},{title:"Bonus Hutang",dataIndex:"bonus_hutang",key:"bonus_hutang",render:o=>{var n;return t.jsx("div",{children:(n=Number(o||0))==null?void 0:n.toLocaleString("kr-ko")})}},{title:"Bonus Pelunasan Hutang",dataIndex:"bonus_pelunasan_hutang",key:"bonus_pelunasan_hutang",render:o=>{var n;return t.jsx("div",{children:(n=Number(o||0))==null?void 0:n.toLocaleString("kr-ko")})}},{title:"Actions",key:"actions",align:"center",render:(o,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=D(o=>o.parameter.dataBonusSales);return t.jsx(X,{addButtonTitle:s.data.length>0?void 0:"Tambah Data",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormParameterBonus"}))})},Nd=a=>{const e={};return a.bonus_beli||(e.bonus_beli="Jabatan harus diisi"),e},Pd=()=>{const a=()=>async(s,o)=>{var l;const r=(l=o().form.FormParameterBonus)==null?void 0:l.values;s(e(r))},e=s=>async o=>{try{o(c.setLoading({screen:!0})),await na(P.paramter.bonusSales,s),K("Data Berhasil Disimpan"),o(ra.getParameterBonusSales()),o(c.stopLoading()),o(c.hideModal())}catch(n){S(`${n}`),o(c.stopLoading())}};return{prosesData:a,removeData:s=>async o=>{try{o(c.setLoading({button:!0})),await va(`${P.paramter.bonusSales}/${s}`),o(ra.getParameterBonusSales()),K("Data Berhasil Dihapus"),o(c.stopLoading())}catch(n){o(c.stopLoading()),S(`${n||"Data Gagal Hapus"}`)}}}},Sd=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=Pd(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("bonus_jual")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Bonus Penjualan",id:"bonus_jual",name:"bonus_jual",type:"text",isRp:!0,placeholder:"Masukan Bonus Penjualan",component:da})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Bonus Pembelian",name:"bonus_beli",type:"text",isRp:!0,placeholder:"Masukan Bonus Pembelian",component:da})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Bonus Hutang",name:"bonus_hutang",type:"text",isRp:!0,placeholder:"Masukan Bonus Hutang",component:da})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Bonus Pelunasan Hutang",name:"bonus_pelunasan_hutang",type:"text",isRp:!0,placeholder:"Masukan Bonus Pelunasan Hutang",component:da})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Ed=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,bonus_jual:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.bonus_jual,bonus_beli:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.bonus_beli,bonus_hutang:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.bonus_hutang,bonus_pelunasan_hutang:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.bonus_pelunasan_hutang}}:{isEdit:!1}},Ad=la(Ed),Dd={form:"FormParameterBonus",enableReinitialize:!0,validate:Nd},Id=Ad(G(Dd)(Sd)),Md=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Parameter Bonus",children:[t.jsx(vd,{}),t.jsx(ma,{namaForm:"FormParameterBonus",title:`${a.getModal.title}`,width:500,children:t.jsx(Id,{})})]})},Cd=()=>{const a=E(),e=pa();x.useEffect(()=>{a(ra.getParameterKonversiCuti())},[a]);const i=[{title:"Total Rp",dataIndex:"total_rp",key:"total_rp",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Actions",key:"actions",align:"center",render:(o,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormKonversiCutia",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=D(o=>o.parameter.parameterKonversiCuti);return t.jsx(X,{addButtonTitle:s.data.length>0?void 0:"Tambah Data",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormKonversiCutia"}))})},wd=()=>{const a=()=>async(s,o)=>{var l;const r=(l=o().form.FormKonversiCuti)==null?void 0:l.values;s(e(r))},e=s=>async o=>{try{o(c.setLoading({screen:!0})),await na(P.paramter.parameterKonversiCuti,s),K("Data Berhasil Disimpan"),o(ra.getParameterKonversiCuti()),o(c.stopLoading()),o(c.hideModal())}catch(n){S(`${n}`),o(c.stopLoading())}};return{prosesData:a,removeData:s=>async o=>{try{o(c.setLoading({button:!0})),await va(`${P.paramter.parameterShiftKerja}/${s}`),o(ra.getParameterKonversiCuti()),K("Data Berhasil Dihapus"),o(c.stopLoading())}catch(n){o(c.stopLoading()),S(`${n||"Data Gagal Hapus"}`)}}}},Rd=a=>{const e={};return a.total_rp||(e.total_rp="Total Rp harus diisi"),e},Kd=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=wd(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("bonus_jual")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Total Rp",id:"total_rp",name:"total_rp",type:"text",isRp:!0,placeholder:"Masukan Total Rp",component:da})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},$d=a=>{var e,i,s,o,n,r,l,d,u,m;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,total_rp:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.total_rp}}:{isEdit:!1}},Fd=la($d),Bd={form:"FormKonversiCuti",enableReinitialize:!0,validate:Rd},Ud=Fd(G(Bd)(Kd)),Od=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Parameter Konversi Cuti",children:[t.jsx(Cd,{}),t.jsx(ma,{namaForm:"FormKonversiCuti",title:`${a.getModal.title}`,width:500,children:t.jsx(Ud,{})})]})},Gd=()=>{const a=E(),e=pa();x.useEffect(()=>{a(ra.getParameterCuti())},[a]);const i=[{title:"Jangka Waktu Pengajuan Cuti",dataIndex:"leave_request_gap_days",key:"leave_request_gap_days"},{title:"Actions",key:"actions",align:"center",render:(o,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=D(o=>o.parameter.parameterCuti);return t.jsx(X,{addButtonTitle:s.data.length>0?void 0:"Tambah Data",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormCuti"}))})},zd=()=>{const a=()=>async(i,s)=>{var r;const n=(r=s().form.FormCuti)==null?void 0:r.values;i(e(n))},e=i=>async s=>{try{s(c.setLoading({screen:!0})),await na(P.paramter.parameterCuti,i),K("Data Berhasil Disimpan"),s(ra.getParameterCuti()),s(c.stopLoading()),s(c.hideModal())}catch(o){S(`${o}`),s(c.stopLoading())}};return{prosesData:a}},Hd=a=>{const e={};return a.leave_request_gap_days||(e.leave_request_gap_days="Jangka Waktu Pengajuan Cuti harus diisi"),e},Jd=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=zd(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("target")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jangka Waktu Pengajuan Cuti",id:"leave_request_gap_days",name:"leave_request_gap_days",type:"text",placeholder:"Masukan Jangka Waktu Pengajuan Cuti",component:da})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Vd=a=>{var e,i,s,o,n,r,l,d,u,m;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,leave_request_gap_days:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.leave_request_gap_days}}:{isEdit:!1}},qd=la(Vd),Wd={form:"FormCuti",enableReinitialize:!0,validate:Hd},Yd=qd(G(Wd)(Jd)),Xd=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Parameter Cuti",children:[t.jsx(Gd,{}),t.jsx(ma,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(Yd,{})})]})},Zd=()=>{const a=E(),e=pa();x.useEffect(()=>{a(ra.getParameterShiftKerja())},[a]);const i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Tipe Shift",dataIndex:"type_shift",key:"type_shift"},{title:"Dari Jam Datang",dataIndex:"start_time",key:"start_time",align:"right"},{title:"Sampai Jam Datang",dataIndex:"due_time",key:"due_time",align:"right"},{title:"Jam Pulang",dataIndex:"work_end_time",key:"work_end_time",align:"right"},{title:"Actions",key:"actions",align:"center",render:(o,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormShiftKerja",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=D(o=>o.parameter.parameterShiftKerja);return t.jsx(X,{addButtonTitle:"Tambah Data",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormShiftKerja"}))})},Xn=()=>{const a=()=>async(o,n)=>{var d;const r=n(),l=(d=r.form.FormShiftKerja)==null?void 0:d.values;r.utility.getModal.isEdit?o(c.showModal({title:"Otorisasi",isModalShow:!0,isEdit:!1,data:l})):o(i(l))},e=o=>async n=>{try{n(c.setLoading({screen:!0})),await ya(`${P.paramter.parameterShiftKerja}/${o._id}`,o),K("Data Berhasil Diedit"),n(c.stopLoading()),n(ra.getParameterShiftKerja()),n(c.hideModal()),n(ia("FormShiftKerja"))}catch(r){S(`${r}`),n(c.stopLoading())}},i=o=>async n=>{try{n(c.setLoading({screen:!0})),await na(P.paramter.parameterShiftKerja,o),K("Data Berhasil Disimpan"),n(ra.getParameterShiftKerja()),n(c.stopLoading()),n(c.hideModal())}catch(r){S(`${r}`),n(c.stopLoading())}};return{edit:e,prosesData:a,cekUser:o=>async(n,r)=>{var l;try{n(c.setLoading({screen:!0})),await na(P.otorisasi,{user_id:o.user_id,password:o.password});const u=(l=r().utility.getModal)==null?void 0:l.data;n(e(u)),n(c.stopLoading())}catch(d){n(c.stopLoading()),S(`${d||"Terjadi Kesalahan Saat Mngirim data"}`)}}}},Qd=a=>{const e={};return a.start_time||(e.start_time="Dari Jam Datang harus diisi"),a.due_time||(e.due_time="Sampai Jam Datang harus diisi"),a.work_end_time||(e.work_end_time="Jam Pulang harus diisi"),a.due_time&&a.due_time===a.start_time&&(e.due_time="Sampai Jam Datang tidak boleh sama dengan Jam Datang"),e},ac=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=Xn(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("target")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(Ea,{className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Type Shift",id:"type_shift",name:"type_shift",type:"text",isRp:!0,placeholder:"Masukan Type Shift",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Dari Jam Datang",id:"start_time",name:"start_time",type:"time",placeholder:"Masukan Dari Jam Datang",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Sampai Jam Datang",id:"due_time",name:"due_time",type:"time",placeholder:"Masukan Sampai Jam Datang",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Pulang",id:"work_end_time",name:"work_end_time",type:"time",placeholder:"Masukan Jam Pulang",component:j})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},ec=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T,A,R,F;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,type_shift:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.type_shift,start_time:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.start_time,due_time:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.due_time,kode_toko:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.kode_toko,work_end_time:(F=(R=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:R.data)==null?void 0:F.work_end_time}}:{isEdit:!1}},tc=la(ec),nc={form:"FormShiftKerja",enableReinitialize:!0,validate:Qd},ic=tc(G(nc)(ac)),oc=()=>{const a=D(s=>s.utility),e=E(),i=Xn();return t.jsxs(V,{title:"Parameter Shift Kerja",children:[t.jsx(Zd,{}),t.jsx(ma,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:a.getModal.title==="Otorisasi"?t.jsx(bh,{onPress:s=>e(i.cekUser(s))}):t.jsx(ic,{})})]})},Zn=()=>{const a=()=>async(o,n)=>{var d;const r=n(),l=(d=r.form.FormTargetSales)==null?void 0:d.values;r.utility.getModal.isEdit?o(e(l)):o(i(l))},e=o=>async n=>{try{n(c.setLoading({screen:!0})),await ya(P.paramter.targetSales+`/${o._id}`,o),K("Data Berhasil Disimpan"),n(ra.getParameterTargetSales()),n(c.stopLoading()),n(c.hideModal())}catch(r){S(`${r}`),n(c.stopLoading())}},i=o=>async n=>{try{n(c.setLoading({screen:!0})),await na(P.paramter.targetSales,o),K("Data Berhasil Disimpan"),n(ra.getParameterTargetSales()),n(c.stopLoading()),n(c.hideModal())}catch(r){S(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:o=>async n=>{try{n(c.setLoading({button:!0})),await va(`${P.paramter.targetSales}/${o}`),n(ra.getParameterTargetSales()),K("Data Berhasil Dihapus"),n(c.stopLoading())}catch(r){n(c.stopLoading()),S(`${r||"Data Gagal Hapus"}`)}}}},sc=()=>{const a=E(),e=pa(),i=Zn();x.useEffect(()=>{a(ra.getParameterTargetSales())},[a]);const s=[{title:"Tipe Target",dataIndex:"tipe_target",key:"tipe_target"},{title:"Target",dataIndex:"target",key:"target",align:"right",render:n=>{var r;return(r=Number(n||0))==null?void 0:r.toLocaleString("kr-ko")}},{title:"Rupiah",dataIndex:"rupiah",key:"rupiah",align:"right",render:n=>{var r;return(r=Number(n||0))==null?void 0:r.toLocaleString("kr-ko")}},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsxs("div",{className:"text-center",children:[t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:r})),children:t.jsx("i",{className:"fa fa-edit"})})," ",t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})]})}],o=D(n=>n.parameter.parameterTargetSales);return t.jsx(X,{addButtonTitle:"Tambah Data",dataSource:o.data||[],columns:s,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormParameterBonus"}))})},Qn=a=>{const e={};return a.target||(e.target="Target harus diisi"),a.tipe_target||(e.tipe_target="Tipe target harus dipilih"),e},rc=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=Zn(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("target")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Type Target",name:"tipe_target",placeholder:"Masukan Type Target",component:ea,disabled:i,options:[{value:"FAKTUR",label:"FAKTUR"}]})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Target",id:"target",name:"target",type:"text",placeholder:"Masukan Target",component:da})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Rupiah",name:"rupiah",type:"text",isRp:!0,placeholder:"Masukan Rupiah",component:da})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},lc=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,target:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.target,rupiah:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.rupiah,tipe_target:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.tipe_target}}:{isEdit:!1}},dc=la(lc),cc={form:"FormTargetSales",enableReinitialize:!0,validate:Qn},uc=dc(G(cc)(rc)),mc=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Parameter Target Sales",children:[t.jsx(sc,{}),t.jsx(ma,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(uc,{})})]})},pc=()=>{const a=E(),e=pa();x.useEffect(()=>{a(ra.getParameterTargetToko())},[a]);const i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Tipe Target",dataIndex:"tipe_target",key:"tipe_target"},{title:"Target",dataIndex:"target",key:"target",align:"right",render:o=>{var n;return(n=Number(o||0))==null?void 0:n.toLocaleString("kr-ko")}},{title:"Rupiah",dataIndex:"rupiah",key:"rupiah",align:"right",render:o=>{var n;return(n=Number(o||0))==null?void 0:n.toLocaleString("kr-ko")}},{title:"Actions",key:"actions",align:"center",render:(o,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=D(o=>o.parameter.parameterTargetToko);return t.jsx(X,{addButtonTitle:"Tambah Data",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormParameterBonus"}))})},gc=()=>{const a=()=>async(i,s)=>{var r;const n=(r=s().form.FormTargetToko)==null?void 0:r.values;i(e(n))},e=i=>async s=>{try{s(c.setLoading({screen:!0})),await na(P.paramter.targetToko,i),K("Data Berhasil Disimpan"),s(ra.getParameterTargetToko()),s(c.stopLoading()),s(c.hideModal())}catch(o){S(`${o}`),s(c.stopLoading())}};return{prosesData:a}},hc=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=gc(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("target"),s(v("FormTargetToko","tipe_target","FAKTUR"))},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(Ea,{disabled:i,className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Type Target",name:"tipe_target",placeholder:"Masukan Type Target",component:ea,options:[{value:"FAKTUR",label:"FAKTUR"}]})}),t.jsx("div",{className:"col-6 mt-2",children:t.jsx(p,{label:"Target",id:"target",name:"target",type:"text",placeholder:"Masukan Target",component:da})}),t.jsx("div",{className:"col-6 mt-2",children:t.jsx(p,{label:"Rupiah",id:"rupiah",name:"rupiah",type:"text",isRp:!0,placeholder:"Masukan Rupiah",component:da})}),t.jsxs("div",{className:" text-end col-12",children:[" ",t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})]})]})]})},_c=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T,A,R,F;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,tipe_target:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l.tipe_target,initialValues:{_id:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m._id,target:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.target,tipe_target:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.tipe_target,kode_toko:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.kode_toko,rupiah:(F=(R=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:R.data)==null?void 0:F.rupiah}}:{isEdit:!1,tipe_target:"FAKTUR"}},bc=la(_c),kc={form:"FormTargetToko",enableReinitialize:!0,validate:Qn},yc=bc(G(kc)(hc)),xc=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Parameter Target Toko",children:[t.jsx(pc,{}),t.jsx(ma,{namaForm:"FormTargetToko",title:`${a.getModal.title}`,width:500,children:t.jsx(yc,{})})]})},ai=()=>{const a=()=>async(n,r)=>{var u;const l=r(),d=(u=l.form.FormLembur)==null?void 0:u.values;l.utility.getModal.isEdit?n(s(d)):n(i(d))},e=()=>async(n,r)=>{var u;Ba(100);const d=(u=r().form.FormLembur)==null?void 0:u.values;if(d!=null&&d.jam_awal&&(d!=null&&d.jam_akhir)){const m=fo(d.jam_awal,d.jam_akhir);console.log(m),n(v("FormLembur","total",m))}},i=n=>async r=>{try{r(c.setLoading({screen:!0})),await na(P.paramter.parameterLembur,n),K("Data Berhasil Disimpan"),r(ra.getParameterLembur()),r(c.stopLoading()),r(c.hideModal())}catch(l){S(`${l}`),r(c.stopLoading())}},s=n=>async r=>{try{r(c.setLoading({screen:!0})),await ya(P.paramter.parameterLembur+`/${n._id}`,n),K("Data Berhasil Disimpan"),r(ra.getParameterLembur()),r(c.stopLoading()),r(c.hideModal())}catch(l){S(`${l}`),r(c.stopLoading())}};return{prosesData:a,hitungTotalJam:e,removeData:n=>async r=>{try{r(c.setLoading({button:!0})),await va(`${P.paramter.parameterLembur}/${n}`),r(ra.getParameterLembur()),K("Data Berhasil Dihapus"),r(c.stopLoading())}catch(l){r(c.stopLoading()),S(`${l||"Data Gagal Hapus"}`)}}}},jc=()=>{const a=E(),e=pa();x.useEffect(()=>{a(ra.getParameterLembur())},[a]);const i=ai(),s=[{title:"Menit",dataIndex:"menit",key:"menit"},{title:"Total Rp",dataIndex:"total_rp",key:"total_rp",render:n=>t.jsx("div",{className:"",children:n.toLocaleString("kr-ko")})},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsxs("div",{className:"text-center",children:[t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:r})),children:t.jsx("i",{className:"fa fa-edit"})})," ",t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})]})}],o=D(n=>n.parameter.parameterLembur);return t.jsx(X,{addButtonTitle:o.data.length>0?void 0:"Tambah Data",dataSource:o.data||[],columns:s,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormLembur"}))})},fc=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus di pilih"),a.jam_awal||(e.jam_awal="Jam Awal harus di isi"),a.jam_akhir||(e.jam_akhir="Jam Akhir harus di isi"),a.total_rp||(e.total_rp="Total harus di isi"),a.jam_akhir<a.jam_awal&&(e.jam_akhir="Jam akhir tidak boleh lebih dari jam awal"),e},Tc=a=>{const{handleSubmit:e,isEdit:i,pristine:s,submitting:o}=a,n=E(),r=ai(),l=async()=>{n(r.prosesData())};return x.useEffect(()=>{ha("target")},[n]),t.jsxs("form",{onSubmit:e(l),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Menit",id:"menit",name:"menit",type:"number",placeholder:"Masukan Menit",component:da})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Total Rupiah",id:"total_rp",name:"total_rp",type:"text",isRp:!0,placeholder:"Masukan Total Rupiah",component:da,inputGroup:!0,textIconGroup:"Rp",right:!0})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",disabled:s||o,block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Lc=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,menit:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.menit,total_rp:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.total_rp}}:{isEdit:!1}},vc=la(Lc),Nc={form:"FormLembur",enableReinitialize:!0,validate:fc},Pc=vc(G(Nc)(Tc)),Sc=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Parameter Lembur",children:[t.jsx(jc,{}),t.jsx(ma,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(Pc,{})})]})},Ec=()=>{const a=E(),e=pa();x.useEffect(()=>{a(ra.getParameterAbsenTerlambat())},[a]);const i=[{title:"Minute",dataIndex:"minute",key:"minute"},{title:"Potongan",dataIndex:"potongan",key:"potongan",render(o){return o.toLocaleString("kr-ko")}},{title:"Actions",key:"actions",align:"center",render:(o,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=D(o=>o.parameter.parameterTerlambat);return t.jsx(X,{addButtonTitle:"Tambah Data",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormAbsenTerlambat"}))})},Ac=a=>{const e={};return a.minute||(e.minute="Minute harus diisi"),a.potongan||(e.potongan="Potongan harus diisi"),e},Dc=()=>{const a=()=>async(s,o)=>{var d,u,m;const n=o(),r=(d=n.form.FormAbsenTerlambat)==null?void 0:d.values,l=(m=(u=n==null?void 0:n.utility)==null?void 0:u.getModal)==null?void 0:m.isEdit;s(l?i(r):e(r))},e=s=>async o=>{try{o(c.setLoading({screen:!0})),await na(P.paramter.parameterAbsenTerlambat,s),K("Data Berhasil Disimpan"),o(ra.getParameterAbsenTerlambat()),o(c.stopLoading()),o(c.hideModal())}catch(n){S(`${n}`),o(c.stopLoading())}},i=s=>async o=>{try{o(c.setLoading({screen:!0})),await ya(`${P.paramter.parameterAbsenTerlambat}/${s._id}`,s),K("Data Berhasil Diupdate"),o(ra.getParameterAbsenTerlambat()),o(c.stopLoading()),o(c.hideModal())}catch(n){S(`${n}`),o(c.stopLoading())}};return{prosesData:a}},Ic=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=Dc(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("target")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Minute",name:"minute",type:"text",readOnly:i,placeholder:"Masukan Minute",component:da})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Potongan",name:"potongan",type:"text",placeholder:"Masukan Potongan",component:da,isRp:!0})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Mc=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,minute:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.minute,potongan:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.potongan}}:{isEdit:!1}},Cc=la(Mc),wc={form:"FormAbsenTerlambat",enableReinitialize:!0,validate:Ac},Rc=Cc(G(wc)(Ic)),Kc=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Parameter Absen",children:[t.jsx(Ec,{}),t.jsx(ma,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(Rc,{})})]})},$c=()=>{const a=()=>async(s,o)=>{var l;const n=o(),r=(l=n.form.FormCuti)==null?void 0:l.values;n.utility.getModal.isEdit?s(e(r)):s(i(r))},e=s=>async o=>{try{o(c.setLoading({screen:!0})),await ya(`${P.paramter.parameterIzinKeluarMasuk}/${s._id}`,s),K("Data Berhasil Diedit"),o(ra.getParameterIzinKeluarMasuk()),o(c.stopLoading()),o(c.hideModal())}catch(n){S(`${n}`),o(c.stopLoading())}},i=s=>async o=>{try{o(c.setLoading({screen:!0})),await na(P.paramter.parameterIzinKeluarMasuk,s),K("Data Berhasil Disimpan"),o(ra.getParameterIzinKeluarMasuk()),o(c.stopLoading()),o(c.hideModal())}catch(n){S(`${n}`),o(c.stopLoading())}};return{prosesData:a}},Fc=a=>{const e={};return a.minute||(e.minute="Minute harus diisi"),e},Bc=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=$c(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("target")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Minutes",id:"minutes",name:"minute",type:"text",placeholder:"Masukan Minutes",component:da})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Uc=a=>{var e,i,s,o,n,r,l,d,u,m;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,minute:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.minute}}:{isEdit:!1}},Oc=la(Uc),Gc={form:"FormCuti",enableReinitialize:!0,validate:Fc},zc=Oc(G(Gc)(Bc)),Hc=()=>{const a=E(),e=pa();x.useEffect(()=>{a(ra.getParameterIzinKeluarMasuk())},[a]);const i=[{title:"Minute",dataIndex:"minute",key:"minute"},{title:"Actions",key:"actions",align:"center",render:(o,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=D(o=>o.parameter.parameterIzinKeluarMasuk);return t.jsx(X,{addButtonTitle:s.data.length>0?void 0:"Tambah Data",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormCuti"}))})},Jc=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Parameter Izin Keluar Masuk",children:[t.jsx(Hc,{}),t.jsx(ma,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(zc,{})})]})},Vc=()=>t.jsx(Jn,{title:"Data Time Keeping"}),qc=a=>{const e={};return a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Akhir harus diisi"),e},Wc=(a,e,i)=>{const s=[{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Gaji Pokok",key:"gaji_pokok",options:{halign:"right",format:"RP"}},{label:"TJ.Jabatan",key:"tunjangan_jabatan",options:{halign:"right",format:"RP"}},{label:"Bonus Sales",key:"bonus_target",options:{halign:"right",format:"RP"}},{label:"Bonus Lembur",key:"bonus_lembur",options:{halign:"right",format:"RP"}},{label:"Bonus Absen",key:"bonus_absen",options:{halign:"right",format:"RP"}},{label:"Bonus Jabatan",key:"bonus_jabatan",options:{halign:"right",format:"RP"}},{label:"Target Sales",key:"target_sales",options:{halign:"right",format:"RP"}},{label:"Kasbon",key:"kasbon",options:{halign:"right",format:"RP"}},{label:"Pot.Lain",key:"potongan_lain",options:{halign:"right",format:"RP"}},{label:"Cuti",key:"cuti",options:{halign:"right",format:"RP"}},{label:"Total",key:"total",options:{halign:"right",format:"RP"}}];fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:{start_date:e.start_period,end_date:e.end_period},title:"LAPORAN GLOBAL PAYROLL",data:a.map((o,n)=>({...o,no:n+1})),dataToko:{alamat_toko:String(Va),nama_toko:String(Ja)},columns:s,grouping:[],grandTotalSetting:{colSpan:0,disableGrandTotal:!1}})},ei=()=>({exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanGlobalPayroll.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;Wc(l,r,i)},cariLaporan:()=>async(i,s)=>{try{const n=s().form.LaporanGlobalPayroll.values;i(c.setLoading({screen:!0}));const r={start_period:Y(`${n.start_period}`).slice(0,7),end_period:Y(`${n.end_period}`).slice(0,7)},l=await q(P.report.globalPayroll,r);if(l.data.length===0)return i(c.setLaporanKosong("Laporan Global Payroll Tidak Tersedia")),!1;const d={data:l.data,namaForm:"Laporan Global Payroll Tidak Tersedia"};i(H(d)),K("Laporan Global Payroll Tersedia"),i(c.stopLoading())}catch(o){i(c.setLaporanKosong("Laporan Global Payroll Tidak Tersedia",`${o}`))}}}),Yc=()=>{const a=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Gaji Pokok",dataIndex:"gaji_pokok",key:"gaji_pokok",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"TJ.Jabatan",dataIndex:"tunjangan_jabatan",key:"tunjangan_jabatan",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Bonus Sales",dataIndex:"bonus_target",key:"bonus_target",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Bonus Lembur",dataIndex:"bonus_lembur",key:"bonus_lembur",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Bonus Absen",dataIndex:"bonus_absen",key:"bonus_absen",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Bonus Jabatan",dataIndex:"bonus_jabatan",key:"bonus_jabatan",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Target Sales",dataIndex:"target_sales",key:"target_sales",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Kasbon",dataIndex:"kasbon",key:"kasbon",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Cuti",dataIndex:"cuti",key:"cuti",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Pot.Lain",dataIndex:"potongan_lain",key:"potongan_lain",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Total",dataIndex:"total",key:"total",render:o=>Number(o||0).toLocaleString("kr-ko")}],e=D(o=>o.utility.getDataTmp.data||[]),i=E(),s=ei();return x.useEffect(()=>(i(H({data:[]})),()=>{i(H({data:[]}))}),[i]),t.jsxs("div",{className:"row mt-4",children:[t.jsx(X,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},Xc=a=>{const{handleSubmit:e}=a,i=E(),s=ei();x.useEffect(()=>{i(v("LaporanGlobalPayroll","start_period",U.slice(0,7))),i(v("LaporanGlobalPayroll","end_period",U.slice(0,7)))},[i]);const o=()=>{i(s.cariLaporan())};return x.useEffect(()=>(i(H({data:[]})),()=>{i(H({data:[]}))}),[i]),t.jsxs(V,{title:"Laporan Global Payroll",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Awal",name:"start_period",type:"month",component:j})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_period",type:"month",component:j})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Yc,{})]})},Zc={form:"LaporanGlobalPayroll",enableReinitialize:!0,validate:qc},Qc=G(Zc)(Xc),au=(a,e,i)=>{const s=Ia(e.kode_toko),o=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Kode Toko",key:"kode_toko",options:{halign:"left"}},{label:"Alasan Kasbon",key:"alasan_kasbon"},{label:"Lama Cicilan",key:"lama_cicilan",options:{halign:"right"}},{label:"Sisa Cicilan",key:"sisa_lama_cicil",options:{halign:"right"}},{label:"Cicilan",key:"cicil_rp",options:{halign:"right",format:"RP"}},{label:"Total Kasbon",key:"total_kasbon",options:{halign:"right",format:"RP"}},{label:"Sisa Kasbon",key:"saldo_rp",options:{halign:"right",format:"RP"}}];fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN KASBON",data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(s==null?void 0:s.alamat_toko),nama_toko:String(s==null?void 0:s.nama_toko)},columns:o,grouping:[],grandTotalSetting:{colSpan:4}})},ti=()=>({exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanKasBon.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;au(l,r,i)},cariLaporan:()=>async(i,s)=>{try{const n=s().form.LaporanKasBon.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},l=await q(P.report.kasbon,r);if(l.data.length===0)return i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia")),!1;const d={data:l.data,namaForm:"Laporan Kasbon Tidak Tersedia"};i(H(d)),K("Laporan Kasbon Tersedia"),i(c.stopLoading())}catch(o){i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia",`${o}`))}}}),eu=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Alasan Kasbon",dataIndex:"alasan_kasbon",key:"alasan_kasbon"},{title:"Lama Cicilan",dataIndex:"lama_cicilan",key:"lama_cicilan",render:o=>Number(o||0)},{title:"Sisa Cicilan",dataIndex:"sisa_lama_cicil",key:"sisa_lama_cicil",render:o=>Number(o||0)},{title:"Cicilan",dataIndex:"cicil_rp",key:"cicil_rp",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Total Kasbon",dataIndex:"total_kasbon",key:"total_kasbon",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Sisa Kasbon",dataIndex:"saldo_rp",key:"saldo_rp",render:o=>Number(o||0).toLocaleString("kr-ko")}],e=D(o=>o.utility.getDataTmp.data||[]),i=E(),s=ti();return t.jsxs("div",{className:"row mt-4",children:[t.jsx(X,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},tu=a=>{const e={};return a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Akhir harus diisi"),a.kode_toko||(e.kode_toko="Kode Toko harus dipilih"),e},nu=a=>{const{handleSubmit:e}=a,i=E(),s=ti();x.useEffect(()=>(i(v("LaporanKasBon","start_date",U)),i(v("LaporanKasBon","end_date",U)),i(aa.getDataToko()),i(H({data:[]})),()=>{i(H({data:[]}))}),[i]);const o=()=>{i(s.cariLaporan())},n=D(r=>r.dataMaster.dataToko||[]);return t.jsxs(V,{title:"Laporan Kas Bon",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(eu,{})]})},iu={form:"LaporanKasBon",enableReinitialize:!0,validate:tu},ou=G(iu)(nu),su=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.start_date||(e.start_date="Bulan Awal harus diisi"),a.end_date||(e.end_date="Bulan Akhir Dari harus diisi"),e},ru=(a,e,i)=>{const s=Ia(e.kode_toko),o=[{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"No Rekening",key:"no_rekening",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Jabatan",key:"jabatan",options:{halign:"right"}},{label:"Periode",key:"periode",options:{halign:"right"}},{label:"Gaji Pokok",key:"gaji_pokok",options:{halign:"right",format:"RP"}},{label:"Bonus Sales",key:"bonus_target",options:{halign:"right",format:"RP"}},{label:"Bonus Absen",key:"bonus_absen",options:{halign:"right",format:"RP"}},{label:"Bonus Lembur",key:"bonus_lembur",options:{halign:"right",format:"RP"}},{label:"Bonus Jabatan",key:"bonus_jabatan",options:{halign:"right",format:"RP"}},{label:"Tunjangan Jabatan",key:"tunjangan_jabatan",options:{halign:"right",format:"RP"}},{label:"Target Sales",key:"target_sales",options:{halign:"right",format:"RP"}},{label:"Kasbon",key:"kasbon",options:{halign:"right",format:"RP"}},{label:"Potongan Lain",key:"potongan_lain",options:{halign:"right",format:"RP"}},{label:"Potongan Absen",key:"potongan_absen",options:{halign:"right",format:"RP"}},{label:"Potongan Gaji",key:"potongan_gaji",options:{halign:"right",format:"RP"}},{label:"Grand Total",key:"grand_total",options:{halign:"right",format:"RP"}}],n=Mn(new Date(String(e.end_period)));fa({formatPdf:{orientation:"l",unit:"mm"},type:i,date:{start_date:e.start_period,end_date:String(n)},title:"LAPORAN PAYROLL",data:a.map((r,l)=>({...r,no:l+1})),dataToko:{alamat_toko:String(s==null?void 0:s.alamat_toko),nama_toko:String(s==null?void 0:s.nama_toko)},columns:o,grouping:[],grandTotalSetting:{colSpan:5}})},ni=(a,e)=>{const i=new xe({orientation:"landscape",unit:"mm",format:"a4"});a.forEach((s,o)=>{o>0&&i.addPage(),i.setFontSize(14);const n=[],r=[];i.text("Kode Pegawai",14,15),i.text(`: ${s.kode_pegawai}`,50,15),i.text("Nama Pegawai",14,23),i.text(`: ${s.nama_pegawai}`,50,23),i.text("Jabatan",14,30),i.text(`: ${s.jabatan}`,50,30);const l=40;n.push([{content:"PENDAPATAN"},{content:"NOMINAL"}]),r.push([{content:"PENDAPATAN"},{content:Number(s.gaji_pokok||0).toLocaleString("kr-ko")}]),r.push([{content:"SALES"},{content:Number(s.bonus_target||0).toLocaleString("kr-ko")}]),r.push([{content:"ABSEN"},{content:Number(s.bonus_absen||0).toLocaleString("kr-ko")}]),r.push([{content:"LEMBUR"},{content:Number(s.bonus_lembur||0).toLocaleString("kr-ko")}]),r.push([{content:"TUNJANGAN JABATAN"},{content:Number(s.bonus_jabatan||0).toLocaleString("kr-ko")}]),r.push([{content:"TARGET SALES"},{content:Number(s.target_sales||0).toLocaleString("kr-ko")}]),r.push([{content:"KASBON"},{content:Number(s.kasbon||0).toLocaleString("kr-ko")}]),r.push([{content:"POTONGAN ABSEN"},{content:Number(s.potongan_absen||0).toLocaleString("kr-ko")}]),r.push([{content:"POTONGAN"},{content:Number(s.potongan_lain||0).toLocaleString("kr-ko")}]),r.push([{content:"POTONGAN GAJI"},{content:Number(s.potongan_gaji||0).toLocaleString("kr-ko")}]),r.push([{content:"TOTAL GAJI",styles:{fontSize:14,textColor:"#000",fillColor:"#E8E5E5"}},{content:Number(s.grand_total||0).toLocaleString("kr-ko"),styles:{fontSize:14,textColor:"#000",fillColor:"#E8E5E5"}}]),$e(i,{head:n,body:r,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:14},headStyles:{fontSize:14,textColor:"#000",fillColor:"#E8E5E5"}})}),i.save(e||"SLIP_GAJI_BATCH.pdf")},lu=()=>({getPayrollSumary:()=>async(s,o)=>{var r,l;await Ba(100);const n=(l=(r=o())==null?void 0:r.form.FormPayroll)==null?void 0:l.values;if(je){if(!n.kode_toko)return S("Kode Toko Harus Di Pilih"),s(v("FormPayroll","kode_pegawai","")),!1;if(!n.periode)return S("Periode Belum Di Pilih"),!1}try{s(c.setLoading({screen:!0,table:!0}));const d=await q(P.transaksi.payrollSummary,{kode_pegawai:n.kode_pegawai,periode:n.periode,start_date:n.start_date,end_date:n.end_date,kode_toko:n.kode_toko||`${_a}`});setTimeout(()=>{s(H({data:d.data.map(u=>{const m=u.status_kehadiran.week>=4?5e4:0,g=u.status_kehadiran.week>=4?4*75e3:u.status_kehadiran.week*75e3;return{...u,total_gaji:0,periode:n.periode,potongan_lain:u.potongan.potongan_lain,kasbon:u.potongan.kasbon,bonus_absen:g+m}})})),s(c.stopLoading())},300)}catch(d){s(H({data:[]})),s(c.stopLoading()),S(`${d}`)}},saveData:()=>async(s,o)=>{await Ba(100);const r=o().utility.getDataTmp.data;try{const l=r.map(d=>{const u=gt(d);return{kode_toko:Z("datatoko").kode_toko,kode_pegawai:d.kode_pegawai,periode:d.periode,bonus_sales:d.bonus_sales,bonus_target:d.bonus_sales,bonus_absen:d.bonus_absen||0,target_sales:d.target_sales||0,bonus_jabatan:d.bonus_jabatan||0,bonus_lembur:d.bonus_lembur||0,kasbon:d.kasbon||0,potongan_lain:d.potongan_lain||0,potongan_absen:d.potongan_absen||0,potongan_gaji:d.potongan_gaji||0,grand_total:u,gaji_pokok:d.gaji_pokok,nama_pegawai:d.nama_pegawai,jabatan:d.jabatan}});s(c.setLoading({screen:!0})),await na(P.transaksi.payroll,{data_payroll:l}),ni(l),s(c.stopLoading()),K("Data Berhasil Disimpan"),s(ia("FormPayroll")),s(H({data:[]}))}catch(l){S(`${l}`),s(c.stopLoading())}},clearData:()=>async s=>{s(c.setLoading({screen:!0,button:!0})),await Ba(300),s(c.simpanDataTmp({data:[]})),s(c.stopLoading())}}),gt=a=>{const{gaji_pokok:e=0,bonus_sales:i=0,bonus_absen:s=0,bonus_lembur:o=0,bonus_jabatan:n=0,target_sales:r=0,kasbon:l=0,potongan_lain:d=0,potongan_absen:u=0,potongan_gaji:m=0}=a;return Number(e)+Number(n)+Number(s)+Number(r)+Number(i)+Number(o)-Number(l)-Number(d)-Number(m)-Number(u)},Ce=()=>({exportLaporan:s=>async(o,n)=>{var u;const r=n(),l=r.form.LaporanPayroll.values,d=(u=r.utility.getDataTmp)==null?void 0:u.data;ru(d,l,s)},cariLaporan:()=>async(s,o)=>{try{const r=o().form.LaporanPayroll.values;s(c.setLoading({screen:!0}));const l={start_period:Y(`${r.start_period}`).slice(0,7),end_period:Y(`${r.end_period}`).slice(0,7),kode_toko:r.kode_toko},d=await q(P.report.payroll,l);if(d.data.length===0)return s(c.setLaporanKosong("Laporan Payroll Tidak Tersedia")),!1;const u={data:d.data.sort((m,g)=>m.kode_pegawai.localeCompare(g.kode_pegawai)),namaForm:"Laporan Payroll Tidak Tersedia"};s(H(u)),K("Laporan Payroll Tersedia"),s(c.stopLoading())}catch(n){s(c.setLaporanKosong("Laporan Payroll Tidak Tersedia",`${n}`))}},reprintPayroll:s=>async()=>{const o=gt(s),n=[{kode_toko:s.kode_toko,kode_pegawai:s.kode_pegawai,periode:s.periode,bonus_sales:s.bonus_target,bonus_target:s.bonus_target,bonus_absen:s.bonus_absen||0,target_sales:s.target_sales||0,bonus_jabatan:s.bonus_jabatan||0,bonus_lembur:s.bonus_lembur||0,kasbon:s.kasbon||0,potongan_lain:s.potongan_lain||0,potongan_absen:s.potongan_absen||0,potongan_gaji:s.potongan_gaji||0,grand_total:o,gaji_pokok:s.gaji_pokok,nama_pegawai:s.nama_pegawai,jabatan:s.jabatan}];ni(n,`SLIP_GAJI_${s.nama_pegawai}_Periode_${Y(s.periode)}`)}}),du=()=>{const a=Ce(),e=[{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Print Slip Gaji",onClick:()=>s(a.reprintPayroll(r)),children:t.jsx("i",{className:"fa fa-print"})})})},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"No Rekening",dataIndex:"no_rekening",key:"no_rekening"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Periode",dataIndex:"periode",key:"periode"},{title:"Gaji Pokok",dataIndex:"gaji_pokok",key:"gaji_pokok",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Bonus Sales",dataIndex:"bonus_target",key:"bonus_target",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Bonus Absen",dataIndex:"bonus_absen",key:"bonus_absen",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Bonus Lembur",dataIndex:"bonus_lembur",key:"bonus_lembur",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Bonus Jabatan",dataIndex:"bonus_jabatan",key:"bonus_jabatan",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Tunjangan",dataIndex:"tunjangan_jabatan",key:"tunjangan_jabatan",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Target Sales",dataIndex:"target_sales",key:"target_sales",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Potongan Lain",dataIndex:"potongan_lain",key:"potongan_lain",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Potongan Absen",dataIndex:"potongan_absen",key:"potongan_absen",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Potongan Gaji",dataIndex:"potongan_gaji",key:"potongan_gaji",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Kasbon",dataIndex:"kasbon",key:"kasbon",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})},{title:"Grand Total",dataIndex:"grand_total",key:"grand_total",align:"right",render:n=>t.jsxs("div",{className:"text-end",children:[" ",Number(n||0).toLocaleString("kr-ko")]})}],i=D(n=>n.utility.getDataTmp.data||[]),s=E(),o=Ce();return x.useEffect(()=>(s(H({data:[]})),()=>{s(H({data:[]}))}),[s]),t.jsxs("div",{className:"row",children:[t.jsx(X,{dataSource:i,columns:e,rowKey:"_id",scrollX:!0,width:2e3}),(i==null?void 0:i.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>s(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>s(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},cu=a=>{const{handleSubmit:e}=a,i=E(),s=Ce();x.useEffect(()=>{i(v("LaporanPayroll","start_period",U.slice(0,7))),i(v("LaporanPayroll","end_period",U.slice(0,7))),i(aa.getDataToko())},[i]);const o=()=>{i(s.cariLaporan())},n=D(r=>r.dataMaster.dataToko);return t.jsxs(V,{title:"Laporan Payroll",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Bulan Awal",name:"start_period",type:"month",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Bulan Akhir",name:"end_period",type:"month",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(du,{})]})},uu={form:"LaporanPayroll",enableReinitialize:!0,validate:su},mu=G(uu)(cu),pu=(a,e,i)=>{const s=Ia(e.kode_toko),o=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Kode Toko",key:"kode_toko",options:{halign:"left"}},{label:"Deskripsi",key:"deskripsi",options:{halign:"right"}}];fa({formatPdf:{orientation:"p",unit:"mm"},type:i,date:e,title:"LAPORAN PELANGGARAN PEGAWAI",data:a.map((n,r)=>({...n,no:r+1,tgl_system:Y(`${n.tgl_system}`,!0)})),dataToko:{alamat_toko:String(s==null?void 0:s.alamat_toko),nama_toko:String(s==null?void 0:s.nama_toko)},columns:o,grouping:[],grandTotalSetting:{colSpan:5,disableGrandTotal:!0}})},ii=()=>({exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanPelanggaran.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;pu(l,r,i)},cariLaporan:()=>async(i,s)=>{try{const n=s().form.LaporanPelanggaran.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},l=await q(P.report.pelanggaranPegawai,r);if(l.data.length===0)return i(c.setLaporanKosong("Laporan Pelanggaran Pegawai Tidak Tersedia")),!1;const d={data:l.data,namaForm:"Laporan Pelanggaran Pegawai Tidak Tersedia"};i(H(d)),K("Laporan Pelanggaran Pegawai Tersedia"),i(c.stopLoading())}catch(o){i(c.setLaporanKosong("Laporan Pelanggaran Pegawai Tidak Tersedia",`${o}`))}}}),gu=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system",render(o){return Y(o,!0)}},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Deskripsi",dataIndex:"deskripsi",key:"deskripsi"}],e=D(o=>o.utility.getDataTmp.data||[]),i=E(),s=ii();return x.useEffect(()=>(i(H({data:[]})),()=>{i(H({data:[]}))}),[i]),t.jsxs("div",{className:"row",children:[t.jsx(X,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},hu=a=>{const e={};return a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Akhir harus diisi"),a.kode_toko||(e.kode_toko="Kode Toko harus dipilih"),e},_u=a=>{const{handleSubmit:e}=a,i=E(),s=ii();x.useEffect(()=>{i(v("LaporanPelanggaran","start_date",U)),i(v("LaporanPelanggaran","end_date",U)),i(aa.getDataToko())},[i]);const o=()=>{i(s.cariLaporan())},n=D(r=>r.dataMaster.dataToko);return t.jsxs(V,{title:"Laporan Pelanggaran Pegawai",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(gu,{})]})},bu={form:"LaporanPelanggaran",enableReinitialize:!0,validate:hu},ku=G(bu)(_u),yu=(a,e,i)=>{const s=Ia(e.kode_toko),o=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Cuti Dari",key:"leave_start_date",options:{halign:"left"}},{label:"Cuti Sampai",key:"leave_end_date",options:{halign:"right"}},{label:"Alasan Cuti",key:"leave_description",options:{halign:"right"}},{label:"Tanggal Valid",key:"tgl_validasi",options:{halign:"center"}},{label:"Valid By",key:"validasi_by",options:{halign:"center"}},{label:"Tolak By",key:"tolak_by",options:{halign:"center"}},{label:"Alasan Tolak",key:"reject_description",options:{halign:"center"}}];fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN PENGAJUAN CUTI",data:a.map((n,r)=>({...n,no:r+1,tgl_validasi:n.status_validasi!=="OPEN"?n.tgl_validasi:"",validasi_by:n.status_validasi==="APPROVE"?n.validasi_by:"",tolak_by:n.status_validasi==="REJECT"?n.validasi_by:"",reject_description:n.status_validasi==="REJECT"?n.reject_description:""})),dataToko:{alamat_toko:String(s==null?void 0:s.alamat_toko),nama_toko:String(s==null?void 0:s.nama_toko)},columns:o,grouping:[],grandTotalSetting:{colSpan:6,disableGrandTotal:!0}})},oi=()=>({exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanPengajuanCuti.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;yu(l,r,i)},cariLaporan:()=>async(i,s)=>{try{const n=s().form.LaporanPengajuanCuti.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},l=await q(P.report.cuti,r);if(l.data.length===0)return i(c.setLaporanKosong("Laporan Pengajuan Cuti Tidak Tersedia")),!1;const d={data:l.data,namaForm:"Laporan Pengajuan Cuti Tidak Tersedia"};i(H(d)),K("Laporan Pengajuan Cuti Tersedia"),i(c.stopLoading())}catch(o){i(H({data:[]})),i(c.setLaporanKosong("Laporan Pengajuan Cuti Tidak Tersedia",`${o}`))}}}),xu=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Cuti Dari",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Cuti Sampai",dataIndex:"leave_end_date",key:"leave_end_date"},{title:"Alasan Cuti",dataIndex:"leave_description",key:"leave_description"},{title:"Tanggal Valid",dataIndex:"tgl_validasi",key:"tgl_validasi",render(o,n){return n.status_validasi!=="OPEN"?o:""}},{title:"Valid By",dataIndex:"validasi_by",key:"validasi_by",render(o,n){return n.status_validasi==="APPROVE"?o:""}},{title:"Tolak By",dataIndex:"validasi_by",key:"validasi_by",render(o,n){return n.status_validasi==="REJECT"?o:""}},{title:"Alasan Tolak",dataIndex:"reject_description",key:"reject_description",render(o,n){return n.status_validasi==="REJECT"?o:""}}],e=D(o=>o.utility.getDataTmp.data||[]),i=E(),s=oi();return x.useEffect(()=>(i(H({data:[]})),()=>{i(H({data:[]}))}),[i]),t.jsxs("div",{className:"row",children:[t.jsx(X,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},ju=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Dari harus diisi"),e},fu=a=>{const{handleSubmit:e}=a,i=E(),s=oi();x.useEffect(()=>{i(v("LaporanPengajuanCuti","start_date",U)),i(v("LaporanPengajuanCuti","end_date",U)),i(aa.getDataToko())},[i]);const o=()=>{i(s.cariLaporan())},n=D(r=>r.dataMaster.dataToko);return t.jsxs(V,{title:"Laporan Pengajuan Cuti",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(xu,{})]})},Tu={form:"LaporanPengajuanCuti",enableReinitialize:!0,validate:ju},Lu=G(Tu)(fu),vu=(a,e,i)=>{const s=Ia(e.kode_toko),o=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Qty Cicilan",key:"qty_cicil_bulan",options:{halign:"left"}},{label:"Saldo Rp",key:"saldo_rp",options:{halign:"right",format:"RP"}},{label:"Cicilan Rp",key:"cicil_rp",options:{halign:"right",format:"RP"}},{label:"Total Rp",key:"total_rp",options:{halign:"center",format:"RP"}},{label:"Alasan",key:"alasan",options:{halign:"center"}}];fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN POTONGAN LAIN LAIN",data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(s==null?void 0:s.alamat_toko),nama_toko:String(s==null?void 0:s.nama_toko)},columns:o,grouping:[],grandTotalSetting:{colSpan:6,disableGrandTotal:!0}})},si=()=>({exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanPotonganLainLain.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;vu(l,r,i)},cariLaporan:()=>async(i,s)=>{try{const n=s().form.LaporanPotonganLainLain.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},l=await q(P.report.potonganLain,r);if(l.data.length===0)return i(c.setLaporanKosong("Laporan PotonganLain Cuti Tidak Tersedia")),!1;const d={data:l.data,namaForm:"Laporan PotonganLain Cuti Tidak Tersedia"};i(H(d)),K("Laporan PotonganLain Cuti Tersedia"),i(c.stopLoading())}catch(o){i(c.setLaporanKosong("Laporan PotonganLain Cuti Tidak Tersedia",`${o}`))}}}),Nu=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Qty Cicilan",dataIndex:"qty_cicil_bulan",key:"qty_cicil_bulan",render:o=>o},{title:"Saldo Rp",dataIndex:"saldo_rp",key:"saldo_rp",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Cicilan Rp",dataIndex:"cicil_rp",key:"cicil_rp",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Total Rp",dataIndex:"total_rp",key:"total_rp",render:o=>Number(o||0).toLocaleString("kr-ko")},{title:"Alasan",dataIndex:"alasan",key:"alasan"}],e=D(o=>o.utility.getDataTmp.data||[]),i=E(),s=si();return t.jsxs("div",{className:"row",children:[t.jsx(X,{dataSource:e.length>0?e:[],columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},Pu=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Dari harus diisi"),e},Su=a=>{const{handleSubmit:e}=a,i=E(),s=si();x.useEffect(()=>(i(v("LaporanPotonganLainLain","start_date",U)),i(v("LaporanPotonganLainLain","end_date",U)),i(aa.getDataToko()),i(H({data:[]})),()=>{i(H({data:[]}))}),[i]);const o=()=>{i(s.cariLaporan())},n=D(r=>r.dataMaster.dataToko);return t.jsxs(V,{title:"Laporan Potongan Lain Lain",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Nu,{})]})},Eu={form:"LaporanPotonganLainLain",enableReinitialize:!0,validate:Pu},Au=G(Eu)(Su),Du=a=>{const{getForm:e}=a,i=E();x.useEffect(()=>(i(H({data:[]})),()=>{i(H({data:[]}))}),[i]);const s=D(r=>r.utility.getDataTmp.data||[]),o=Te(),n=e==null?void 0:e.type_time_keeping;return t.jsxs("div",{className:"row mt-4",children:[t.jsx("div",{className:"col-12",children:t.jsx(X,{dataSource:s||[],scrollX:!0,width:n==="SEMUA"?3500:500,columns:n==="KEHADIRAN"?Or:n==="ISTIRAHAT"?Jr:n==="BREAK"?zr:n==="SHOLAT"?qr:Yr,rowKey:"_id"})}),(s==null?void 0:s.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},Iu=a=>({getForm:Hi("LaporanTimeKeeping")(a)}),Mu=la(Iu),Cu={form:"TableLaporanTimeKeeping",enableReinitialize:!0},wu=Mu(G(Cu)(Du)),Ru=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.tgl_system||(e.tgl_system="Tanggal harus diisi"),a.type_shift||(e.type_shift="Type Shift harus diisi"),e},Ku=a=>{const{handleSubmit:e}=a,i=E();x.useEffect(()=>(i(v("LaporanTimeKeeping","start_date",U)),i(v("LaporanTimeKeeping","end_date",U)),i(v("LaporanTimeKeeping","type_shift","SEMUA")),i(v("LaporanTimeKeeping","type_time_keeping","SEMUA")),i(aa.getDataToko()),i(ra.getParameterShiftKerja()),i(H({data:[]})),()=>{i(H({data:[]}))}),[i]);const s=Te(),o=()=>{i(s.cariLaporan("LAPORAN"))},n=D(l=>l.dataMaster.dataToko),r=D(l=>l.parameter.parameterShiftKerja);return t.jsxs(V,{title:"Laporan Time Keeping",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",component:ea,placeholder:"Pilih Kode Toko",options:n.data.map(l=>({value:l.kode_toko,label:l.nama_toko}))})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Type Shift",name:"type_shift",component:ea,placeholder:"Pilih Type Shift",options:[{value:"SEMUA",label:"SEMUA"},...r.data.map(l=>({value:l.type_shift,label:l.type_shift}))]})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Type Time Keeping",name:"type_time_keeping",component:ea,placeholder:"Pilih Type Time Keeping",onChange:()=>i(H({data:[]})),options:[{value:"SEMUA",label:"SEMUA"},{value:"KEHADIRAN",label:"KEHADIRAN"},{value:"BREAK",label:"BREAK"},{value:"SHOLAT",label:"SHOLAT"},{value:"ISTIRAHAT",label:"ISTIRAHAT"}]})}),t.jsx("div",{className:"col-2 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(wu,{})]})},$u={form:"LaporanTimeKeeping",enableReinitialize:!0,validate:Ru},Fu=G($u)(Ku),Bu=(a,e,i)=>{const s=[{label:"NO",key:"no",options:{halign:"left"}},{label:"KODE",key:"kode_pegawai",options:{halign:"left"}},{label:"NAMA PEGAWAI",key:"nama_pegawai",options:{halign:"left"}},{label:"NO REKENING",key:"no_rekening",options:{halign:"left"}},{label:"TGL LAHIR",key:"tgl_lahir",options:{halign:"left",format:"DATE"}},{label:"JABATAN",key:"jabatan",options:{halign:"left"}},{label:"HARI LIBUR",key:"hari_libur",options:{halign:"left"}},{label:"SHIFT",key:"type_shift",options:{halign:"left"}},{label:"NAMA TOKO",key:"nama_toko",options:{halign:"left"}},{label:"TANGGAL JOIN",key:"tgl_join",options:{halign:"left"}}],o=e.kode_toko==="SEMUA"?"SEMUA TOKO":`TOKO ${e.kode_toko}`;fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,title:`LAPORAN DATA PEGAWAI ${o}`,data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(Va),nama_toko:String(Ja)},columns:s,grouping:[],grandTotalSetting:{colSpan:0,disableGrandTotal:!0}})},Uu=()=>async(a,e)=>{var s;const i=(s=e().form.LaporanDataPegawai)==null?void 0:s.values;try{const o=await q(P.dataMaster.pegawai),r={data:(i==null?void 0:i.kode_toko)==="SEMUA"?o.data:o.data.filter(l=>l.kode_toko===(i==null?void 0:i.kode_toko)),namaForm:"Laporan Data Pegawai Tersedia"};a(H(r)),K("Laporan Data Pegawai Tersedia")}catch(o){S(`${o}`),a(c.setLaporanKosong("Laporan Data Pegawai Tidak Tersedia",`${o}`))}},_n=a=>async(e,i)=>{var r,l;const s=i(),o=(r=i().form.LaporanDataPegawai)==null?void 0:r.values,n=(l=s.utility.getDataTmp)==null?void 0:l.data;Bu(n,o,a)},Ou=()=>{const a=E(),e=[{title:"Kode",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"No Rekening",dataIndex:"no_rekening",key:"no_rekening"},{title:"Tgl Lahir",dataIndex:"tgl_lahir",key:"tgl_lahir",render(s){return Y(s,!0)}},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Hari Libur",dataIndex:"hari_libur",key:"hari_libur"},{title:"Type Shift",dataIndex:"type_shift",key:"type_shift"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Tanggal Join",dataIndex:"tgl_join",key:"tgl_join"}],i=D(s=>s.utility.getDataTmp.data||[]);return x.useEffect(()=>(a(H({data:[]})),()=>{a(H({data:[]}))}),[a]),t.jsxs("div",{className:"row mt-4",children:[t.jsx(X,{dataSource:i,columns:e,rowKey:"_id",scrollX:!0}),(i==null?void 0:i.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",block:!0,type:"button",onClick:()=>a(_n("PDF")),children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,type:"button",onClick:()=>a(_n("EXCEL")),children:"Export Excel"})})]})]})},Gu=a=>{const{handleSubmit:e}=a,i=E(),s=()=>{i(Uu())};x.useEffect(()=>{i(aa.getDataToko()),i(v("LaporanDataPegawai","kode_toko","SEMUA"))},[i]);const o=D(n=>n.dataMaster.dataToko);return t.jsx(V,{title:"Laporan Data Pegawai",children:t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...o.data.map(n=>({value:n.kode_toko,label:n.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})}),t.jsx("div",{className:"col-12 mt-4",children:t.jsx(Ou,{})})]})})})},zu={form:"LaporanDataPegawai",enableReinitialize:!0},Hu=G(zu)(Gu),Ju=(a,e,i)=>{const s=Ia(e.kode_toko||`${_a}`),o=[{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Tanggal Lembur",key:"tgl_lembur"},{label:"Jam Awal Lembur",key:"jam_awal"},{label:"Jam Akhir Lembur",key:"jam_akhir"},{label:"Total Rupiah / Jam",key:"total_rp",options:{format:"RP"}}],n=Mn(new Date(e.tgl_akhir));fa({formatPdf:{orientation:"l",unit:"mm"},type:i,date:{start_date:e.tgl_awal,end_date:So(n)},title:"LAPORAN LEMBUR PEGAWAI",data:a.map((r,l)=>({...r,no:l+1})),dataToko:{alamat_toko:String(s==null?void 0:s.alamat_toko),nama_toko:String(s==null?void 0:s.nama_toko)},columns:o,grouping:[],grandTotalSetting:{colSpan:5}})},ri=()=>({getReportLembur:()=>async(i,s)=>{var r;const n=(r=s().form.LaporanTransaksiLembur)==null?void 0:r.values;try{const l=await q(P.report.getReportLembur,n);if(l.data.length===0)return i(c.setLaporanKosong("Laporan Lembur Tidak Tersedia")),!1;const d={data:l.data,namaForm:"Laporan Lembur Tidak Tersedia"};i(H(d)),K("Laporan Lembur Tersedia"),i(c.stopLoading())}catch(l){i(c.stopLoading()),S(`${l}`)}},exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanTransaksiLembur.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;console.log(r),Ju(l,r,i)}}),Vu=()=>{const a=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Lembur",dataIndex:"tgl_lembur",key:"tgl_lembur"},{title:"Jam Awal Lembur",dataIndex:"jam_awal",key:"jam_awal"},{title:"Jam Akhir Lembur",dataIndex:"jam_akhir",key:"jam_akhir"},{title:"Total Rupiah / Jam",dataIndex:"total_rp",key:"total_rp",render(o){return o==null?void 0:o.toLocaleString("kr-ko")}}],e=D(o=>o.utility.getDataTmp.data||[]),i=E(),s=ri();return x.useEffect(()=>(i(H({data:[]})),()=>{i(H({data:[]}))}),[i]),t.jsxs("div",{className:"row",children:[t.jsx(X,{dataSource:e,columns:a,rowKey:"_id"}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},qu=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=ri(),n=E();return x.useEffect(()=>{const l=new Date().toISOString().slice(0,7);n(v("LaporanTransaksiLembur","tgl_awal",l)),n(v("LaporanTransaksiLembur","tgl_akhir",l))},[n]),t.jsxs(V,{title:"Transaksi Lembur",children:[t.jsx("form",{onSubmit:e(()=>n(o.getReportLembur())),children:t.jsxs("div",{className:"row",children:[t.jsx(Ea,{className:"col-3",formType:"report"}),t.jsx(ka,{className:"col-3",namaForm:"LaporanTransaksiLembur"}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"tgl_awal",type:"month",placeholder:"Tanggal Awal",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"tgl_akhir",type:"month",placeholder:"Tanggal Akhir",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,disabled:i||s,type:"submit",className:"btn-lg",children:"Cetak Laporan"})})]})}),t.jsx("div",{className:"mt-4",children:t.jsx(Vu,{})})]})},Wu=G({form:"LaporanTransaksiLembur"})(qu),li=()=>{const a=()=>async(n,r)=>{var u;const l=r(),d=(u=l.form.FormPengajuanCuti)==null?void 0:u.values;d.tgl_system=U,d.kode_toko=`${_a}`,l.utility.getModal.isEdit?n(i(d)):n(e(d))},e=n=>async r=>{try{r(c.setLoading({screen:!0})),await na(P.transaksi.cuti,{...n,cuti_terpakai:Number(n.cuti_terpakai)}),K("Data Berhasil Disimpan"),r(Q.getPengajuanCuti()),r(c.stopLoading()),r(c.hideModal()),r(ia("FormPengajuanCuti"))}catch(l){S(`${l}`),r(c.stopLoading())}},i=n=>async r=>{try{r(c.setLoading({screen:!0})),await ya(`${P.transaksi.cuti}/${n._id}`,{...n,cuti_terpakai:Number(n.cuti_terpakai)}),K("Data Berhasil Diedit"),r(Q.getPengajuanCuti()),r(c.stopLoading()),r(ia("FormPengajuanCuti")),r(c.hideModal())}catch(l){S(`${l}`),r(c.stopLoading())}};return{prosesData:a,removeData:n=>async r=>{try{r(c.setLoading({button:!0})),await va(`${P.transaksi.cuti}/${n}`),r(Q.getPengajuanCuti()),K("Data Berhasil Dihapus"),r(c.stopLoading())}catch(l){r(c.stopLoading()),S(`${l||"Data Gagal Hapus"}`)}},batalCuti:n=>async r=>{r(c.setLoading({screen:!0}));try{await na(P.transaksi.batalcuti,{kode_toko:n.kode_toko,kode_pegawai:n.kode_pegawai,tgl_cuti:n.tgl_system}),r(c.stopLoading()),K("Cuti Berhasil di batal"),r(Q.getPengajuanCuti())}catch(l){S(`${l}`),r(c.stopLoading())}}}},Yu=()=>{const a=E(),e=pa(),i=li();x.useEffect(()=>{a(Q.getPengajuanCuti({namaForm:"Data Pengajuan Cuti"}))},[a]);const s=[{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{disabled:r.status_validasi!=="OPEN",tooltipText:"Batal Cuti",prosesDelete:()=>a(i.batalCuti(r))})})},{title:"Status Validasi",dataIndex:"status_validasi",key:"status_validasi"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan Cuti",dataIndex:"tgl_system",key:"tgl_system"},{title:"Cuti Dari",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Cuti Sampai",dataIndex:"leave_end_date",key:"leave_end_date"},{title:"Alasan Cuti",dataIndex:"leave_description",key:"leave_description"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"}],o=D(n=>n.transaksi.dataPengajuanCuti);return t.jsx(X,{addButtonTitle:"Tambah Pengajuan Cuti",dataSource:o.data||[],columns:s,rowKey:"_id",scrollX:!0,width:1500,onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},Xu=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode pegawai harus diisi"),a.leave_start_date||(e.leave_start_date="Cuti Dari harus diisi"),a.leave_end_date||(e.leave_end_date="Cuti Sampai harus diisi"),a.leave_description||(e.leave_description="Alasan harus diisi"),a.leave_end_date<a.leave_start_date&&(e.leave_end_date="Tanggal Akhir cuti tidak boleh kurang dari awal cuti"),e},Zu=a=>{var d;const{handleSubmit:e,isEdit:i}=a,s=E(),o=li(),n=async()=>{s(o.prosesData())},r=D(u=>u.parameter.parameterCuti),l=Ao(new Date(U),Number(((d=r.data[0])==null?void 0:d.leave_request_gap_days)||0)+1);return x.useEffect(()=>{ha("target"),s(ra.getParameterCuti()),setTimeout(()=>{s(v("FormPengajuanCuti","leave_start_date",Y(String(l)))),s(v("FormPengajuanCuti","leave_end_date",Y(String(l))))},300)},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{className:"col-6",namaForm:"FormPengajuanCuti",onClick:u=>{s(v("FormPengajuanCuti","cuti_tahunan",u[0].cuti_tahunan)),s(v("FormPengajuanCuti","cuti_terpakai",u[0].cuti_terpakai))}}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Cuti Dari",name:"leave_start_date",type:"date",placeholder:"Masukan Target",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Cuti Sampai",name:"leave_end_date",type:"date",placeholder:"Masukan Cuti Dari",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jatah Cuti",name:"cuti_tahunan",type:"text",readOnly:!0,placeholder:"Masukan Jatah Cuti",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Cuti Terpakai",name:"cuti_terpakai",type:"text",placeholder:"Masukan Cuti Terpakai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alasan Cuti",name:"leave_description",type:"text",placeholder:"Masukan Alasan Cuti",component:j})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Qu=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,kode_pegawai:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,leave_description:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.leave_description,leave_start_date:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.leave_start_date,leave_end_date:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.leave_end_date}}:{isEdit:!1}},am=la(Qu),em={form:"FormPengajuanCuti",enableReinitialize:!0,validate:Xu},tm=am(G(em)(Zu)),nm=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Pengajuan Cuti",children:[t.jsx(Yu,{}),t.jsx(ma,{namaForm:"FormTargetToko",title:`${a.getModal.title}`,width:500,children:t.jsx(tm,{})})]})},im=()=>{const a=E(),e=pa(),i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Alasan",dataIndex:"leave_description",key:"leave_description"},{title:"Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Status",dataIndex:"status_validasi",key:"status_validasi"},{title:"Action",key:"actions",render:(o,n)=>t.jsx(le,{type:"primary",disabled:n.status_validasi!=="OPEN",onClick:()=>a(e.showModal({isEdit:!0,title:"Review Cuti",namaForm:"FormReviewCuti",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})}];x.useEffect(()=>{a(Q.getReviewPengajuanCuti())},[a]);const s=D(o=>o.transaksi.reviewPengajuanCuti);return t.jsx(X,{dataSource:s.data,columns:i,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})},om=G({form:"TableReviewCuti"})(im),sm=a=>{const e={};return a.status_validasi||(e.status_validasi="Status Validasi harus dipilih"),a.status_validasi==="REJECT"&&(a.reject_description||(e.reject_description="Deskripsi Reject harus diisi")),e},rm=()=>({validasiCuti:()=>async(e,i)=>{var n;const o=(n=i().form.FormReviewCuti)==null?void 0:n.values;try{e(c.setLoading({screen:!0})),await ya(`${P.transaksi.cuti}/${o._id}/review`,{status_validasi:o.status_validasi,reject_description:o.reject_description||"-"}),K("Data Cuti Berhasil Disimpan"),e(c.hideModal()),e(c.stopLoading()),e(Q.getReviewPengajuanCuti())}catch(r){e(c.stopLoading()),S(`${r}`)}}}),lm=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=rm(),r=async()=>{o(n.validasiCuti())};x.useEffect(()=>{o(v("FormReviewCuti","status_validasi","OPEN"))},[o]);const[l,d]=x.useState("OPEN");return t.jsx("form",{onSubmit:e(r),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Kode Pegawai",name:"kode_pegawai",type:"text",readOnly:!0,placeholder:"Masukan Kode Pegawai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",type:"text",readOnly:!0,placeholder:"Masukan Nama Pegawai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alasan Cuti",name:"leave_description",type:"text",readOnly:!0,placeholder:"Masukan Alasan Cuti",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Status Validasi",name:"status_validasi",type:"text",options:[{value:"REJECT",label:"REJECT"},{value:"APPROVE",label:"APPROVE"},{value:"OPEN",label:"OPEN"}],placeholder:"Masukan Status Validasi",component:ea,onChange:u=>d(u)})}),l==="REJECT"&&t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Deskripsi Ditolak",name:"reject_description",placeholder:"Masukan Deskripsi Ditolak",component:me})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Simpan"})})]})})},dm=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,kode_pegawai:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,nama_pegawai:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.nama_pegawai,leave_description:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.leave_description}}:{isEdit:!1}},cm=la(dm),um={form:"FormReviewCuti",enableReinitialize:!0,validate:sm},mm=cm(G(um)(lm)),pm=a=>{var l;const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=async d=>{console.log(d),o(Q.getReviewPengajuanCuti({...d,status_validasi:d.status_validasi!=="ALL"?d.status_validasi:void 0}))};x.useEffect(()=>{o(v("FilterCuti","start_date",U)),o(v("FilterCuti","end_date",U)),o(v("FilterCuti","status_validasi","ALL")),o(aa.getDataToko())},[o]);const r=D(d=>d.dataMaster.dataToko);return t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",placeholder:"Masukan Tanggal Awal",component:j})}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Emd Awal",name:"end_date",type:"date",placeholder:"Masukan Emd Awal",component:j})}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Status",name:"status_validasi",type:"text",options:[{value:"ALL",label:"SEMUA"},{value:"REJECT",label:"REJECT"},{value:"APPROVE",label:"APPROVE"},{value:"OPEN",label:"OPEN"}],placeholder:"Masukan Status",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",type:"text",options:(l=r.data)==null?void 0:l.map(d=>({value:d.kode_toko,label:d.nama_toko})),placeholder:"Masukan Kode Toko",component:ea})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari"})})]})})},gm={form:"FilterCuti",enableReinitialize:!0},hm=G(gm)(pm),_m=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Review Cuti",children:[t.jsx(hm,{}),t.jsx(om,{}),t.jsx(ma,{namaForm:"FormReviewCuti",title:`${a.getModal.title}`,width:500,children:t.jsx(mm,{})})]})},di=()=>{const a=()=>async(o,n)=>{var d;const r=n(),l=(d=r.form.FormKasBon)==null?void 0:d.values;l.kode_toko=`${_a}`,l.lama_cicilan=Number(l.lama_cicilan),r.utility.getModal.isEdit?o(i(l)):o(e(l))},e=o=>async n=>{try{n(c.setLoading({screen:!0})),await na(P.transaksi.kasbon,o),K("Data Berhasil Disimpan"),n(Q.getDataKasBon()),n(c.stopLoading()),n(c.hideModal()),n(ia("FormKasBon"))}catch(r){S(`${r}`),n(c.stopLoading())}},i=o=>async n=>{try{n(c.setLoading({screen:!0})),await ya(`${P.transaksi.kasbon}/${o._id}`,o),K("Data Berhasil Diedit"),n(Q.getDataKasBon()),n(c.stopLoading()),n(ia("FormKasBon")),n(c.hideModal())}catch(r){S(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:o=>async n=>{try{n(c.setLoading({button:!0})),await va(`${P.transaksi.kasbon}/${o}`),n(Q.getDataKasBon()),K("Data Berhasil Dihapus"),n(c.stopLoading())}catch(r){n(c.stopLoading()),S(`${r||"Data Gagal Hapus"}`)}}}},bm=()=>{const a=E(),e=pa(),i=di();x.useEffect(()=>{a(Q.getDataKasBon({namaForm:"Data Kasbon"}))},[a]);const s=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Alasan Kasbon",dataIndex:"alasan_kasbon",key:"alasan_kasbon"},{title:"Lama Cicilan",dataIndex:"lama_cicilan",key:"lama_cicilan",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Cicil Rp",dataIndex:"cicil_rp",key:"cicil_rp",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Total Kasbon",dataIndex:"total_kasbon",key:"total_kasbon",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Status Validasi",dataIndex:"status",key:"status",render:(n,r)=>t.jsx("div",{children:r.status==="OPEN"?"Di Terima":r.status==="REVIEW"?"Sedang Di Review":r.status==="DONE"?"Sudah Lunas":"Di Tolak"})},{title:"Alasan Penolakan",dataIndex:"alasan_tolak",key:"alasan_tolak"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{disabled:r.status!=="REVIEW",prosesDelete:()=>a(i.removeData(r._id))})})}],o=D(n=>n.transaksi.kasBon);return t.jsx(X,{addButtonTitle:"Tambah Kasbon",dataSource:o.data||[],columns:s,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataKasbon"}))})},km=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.lama_cicilan||(e.lama_cicilan="Lama cicilan harus diisi"),a.total_kasbon||(e.total_kasbon="Total kasbon harus diisi"),a.alasan_kasbon||(e.alasan_kasbon="Alasan harus diisi"),e},ym=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=di(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("kode_pegawai"),s(v("FormKasBon","tgl_system",U))},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{className:"col-6",namaForm:"FormKasBon"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Lama Cicilan",name:"lama_cicilan",type:"text",placeholder:"Masukan Lama Cicilan",component:j,right:!0,inputGroup:!0,textIconGroup:"Bulan"})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Total Kasbon",name:"total_kasbon",type:"text",isRp:!0,placeholder:"Masukan Total Kasbon",component:da})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Alasan",name:"alasan_kasbon",placeholder:"Masukan Kasbon",component:me})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},xm=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{kode_pegawai:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l.kode_pegawai,nama_pegawai:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.nama_pegawai,alasan_kasbon:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.alasan_kasbon,total_kasbon:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.total_kasbon}}:{isEdit:!1}},jm=la(xm),fm={form:"FormKasBon",enableReinitialize:!0,validate:km},Tm=jm(G(fm)(ym)),Lm=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Kas Bon",children:[t.jsx(bm,{}),t.jsx(ma,{namaForm:"FormMasterKodePabrikan",title:`${a.getModal.title}`,children:t.jsx(Tm,{})})]})},ci=()=>{const a=()=>async(s,o)=>{var l;const r=(l=o().form.FormPotonganLain)==null?void 0:l.values;r.kode_toko=`${_a}`,s(e(r))},e=s=>async o=>{try{o(c.setLoading({screen:!0})),await na(P.transaksi.potonganLain,s),K("Data Berhasil Disimpan"),o(Q.getPotonganLain()),o(c.stopLoading()),o(c.hideModal()),o(ia("FormPotonganLain"))}catch(n){$n({icon:"info",html:`${n}`,title:"Informasi"}),o(c.stopLoading())}};return{prosesData:a,removeData:s=>async o=>{try{o(c.setLoading({button:!0})),await va(`${P.transaksi.potonganLain}/${s}`),o(Q.getPotonganLain()),K("Data Berhasil Dihapus"),o(c.stopLoading())}catch(n){o(c.stopLoading()),S(`${n||"Data Gagal Hapus"}`)}}}},vm=()=>{const a=E(),e=pa(),i=ci();x.useEffect(()=>{a(Q.getPotonganLain({namaForm:"Data Potongan"}))},[a]);const s=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Qty Cicilan",dataIndex:"qty_cicil_bulan",key:"qty_cicil_bulan",render:n=>n},{title:"Saldo Rp",dataIndex:"saldo_rp",key:"saldo_rp",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Cicilan Rp",dataIndex:"cicil_rp",key:"cicil_rp",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Total Rp",dataIndex:"total_rp",key:"total_rp",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Alasan",dataIndex:"alasan",key:"alasan"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{prosesDelete:()=>a(i.removeData(r._id))})})}],o=D(n=>n.transaksi.potonganLain);return t.jsx(X,{addButtonTitle:"Tambah Potongan",dataSource:o.data||[],columns:s,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},Nm=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.qty_cicil_bulan||(e.qty_cicil_bulan="Lama cicilan harus diisi"),a.total_rp||(e.total_rp="Total harus diisi"),a.alasan||(e.alasan="Alasan harus diisi"),e},Pm=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=ci(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("target"),s(v("FormPotonganLain","leave_start_date",U)),s(v("FormPotonganLain","leave_end_date",U))},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{className:"col-6",namaForm:"FormPotonganLain"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Qty Cicilan Bulan",name:"qty_cicil_bulan",type:"text",placeholder:"Masukan Qty Cicilan Bulan",component:da})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Total Rp",name:"total_rp",type:"text",placeholder:"Masukan Total Rp",isRp:!0,component:da})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alasan",name:"alasan",type:"text",placeholder:"Masukan Alasan",component:j})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Sm=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{kode_pegawai:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l.kode_pegawai,total_rp:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.total_rp,qty_cicil_bulan:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.qty_cicil_bulan,alasan:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.alasan}}:{isEdit:!1}},Em=la(Sm),Am={form:"FormPotonganLain",enableReinitialize:!0,validate:Nm},Dm=Em(G(Am)(Pm)),Im=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Potongan Lain Lain",children:[t.jsx(vm,{}),t.jsx(ma,{namaForm:"FormTargetToko",title:`${a.getModal.title}`,width:500,children:t.jsx(Dm,{})})]})},Mm=()=>{const a=E(),e=pa();x.useEffect(()=>{a(Q.getPelanggaranPegawai({namaForm:"DataPelanggaran"}))},[a]);const i=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Deskripsi",dataIndex:"deskripsi",key:"deskripsi"},{title:"Action",key:"action",align:"center",render:(o,n)=>t.jsx("div",{className:"text-center",children:t.jsx(le,{type:"primary",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormPelanggaranPegawai",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=D(o=>o.transaksi.pelanggaranPegawai);return t.jsx(X,{addButtonTitle:"Tambah Pelanggaran Pegawai",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormPelanggaranPegawai"}))})},Cm=()=>{const a=()=>async(o,n)=>{var d;const r=n(),l=(d=r.form.FormPelanggaranPegawai)==null?void 0:d.values;l.kode_toko=`${_a}`,r.utility.getModal.isEdit?o(i(l)):o(e(l))},e=o=>async n=>{try{n(c.setLoading({screen:!0})),await na(P.transaksi.pelanggaranPegawai,o),K("Data Berhasil Disimpan"),n(c.stopLoading()),n(Q.getPelanggaranPegawai()),n(c.hideModal()),n(ia("FormPelanggaranPegawai"))}catch(r){S(`${r}`),n(c.stopLoading())}},i=o=>async n=>{try{n(c.setLoading({screen:!0})),await ya(`${P.transaksi.pelanggaranPegawai}/${o._id}`,o),K("Data Berhasil Diedit"),n(c.stopLoading()),n(Q.getPelanggaranPegawai()),n(c.hideModal()),n(ia("FormPelanggaranPegawai"))}catch(r){S(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:o=>async n=>{try{n(c.setLoading({button:!0})),await va(`${P.transaksi.pelanggaranPegawai}/${o}`),n(Q.getPelanggaranPegawai()),K("Data Berhasil Dihapus"),n(c.stopLoading()),n(ia("FormPelanggaranPegawai"))}catch(r){n(c.stopLoading()),S(`${r||"Data Gagal Hapus"}`)}}}},wm=a=>{const{handleSubmit:e,isEdit:i}=a,s=E(),o=Cm(),n=async()=>{s(o.prosesData())};return x.useEffect(()=>{ha("kode_pegawai"),s(v("FormPelanggaranPegawai","tgl_system",U))},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{namaForm:"FormPelanggaranPegawai",className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal",name:"tgl_system",type:"date",readOnly:i,placeholder:"Masukan Tanggal",component:j})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Deskripsi",name:"deskripsi",placeholder:"Masukan Deskripsi",component:me})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Rm=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,kode_pegawai:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,tgl_system:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.tgl_system,deskripsi:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.deskripsi}}:{isEdit:!1}},Km=la(Rm),$m={form:"FormPelanggaranPegawai",enableReinitialize:!0},Fm=Km(G($m)(wm)),Bm=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Pelanggaran Pegawai",children:[t.jsx(Mm,{}),t.jsx(ma,{namaForm:"FormMasterKodePabrikan",title:`${a.getModal.title}`,children:t.jsx(Fm,{})})]})},Um=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus diisi"),a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.nama_pegawai||(e.nama_pegawai="Nama Pegawai harus diisi"),e},Om=a=>{const{handleSubmit:e}=a,i=E(),s=lu(),[o,n]=x.useState([]),[r,l]=x.useState(""),d=()=>{i(s.saveData())};x.useEffect(()=>{const h=$o();return i(ra.getParameterTargetSales()),i(H({data:[]})),i(c.setKodeToko(null)),i(v("FormPayroll","periode",U.slice(0,7))),i(v("FormPayroll","start_date",h.start)),i(v("FormPayroll","end_date",h.end)),()=>{i(H({data:[]})),i(c.setKodeToko(null))}},[i]);const u=D(h=>h.utility.getDataTmp.data),m=(h,_)=>N=>{const y=[...u],L=y.findIndex(w=>w.kode_pegawai===_);L!==-1?(y[L][h]=Number(N.floatValue||0),setTimeout(()=>{Ji.unstable_batchedUpdates(()=>{i(c.simpanDataTmp({data:y}))})},500)):console.warn(`Pegawai dengan kode ${_} tidak ditemukan.`)},g=h=>{const _=h.target.value.toLowerCase();if(l(_),_){const N=u.filter(y=>{var L,w;return((L=y.nama_pegawai)==null?void 0:L.toLowerCase().includes(_))||((w=y.kode_pegawai)==null?void 0:w.toLowerCase().includes(_))});n(N)}else n(u)},k=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Gaji Pokok",dataIndex:"gaji_pokok",key:"gaji_pokok",render:h=>(h||0).toLocaleString("kr-ko")},{title:"Bonus Sales",dataIndex:"bonus_sales",key:"bonus_sales",render:h=>(h||0).toLocaleString("kr-ko")},{title:"Target Sales",dataIndex:"target_sales",key:"target_sales",render:h=>h==null?void 0:h.toLocaleString("kr-ko")},{title:"Bonus Lembur",dataIndex:"bonus_lembur",key:"bonus_lembur",render:(h,_)=>t.jsx(ne,{allowLeadingZeros:!0,thousandSeparator:",",onValueChange:m("bonus_lembur",_.kode_pegawai),className:"form-control",value:h||0})},{title:"Bonus Absen",dataIndex:"bonus_absen",key:"bonus_absen",render:(h,_)=>{var y,L;const N=((y=_==null?void 0:_.status_kehadiran)==null?void 0:y.is_late_monthly)===!1&&((L=_==null?void 0:_.status_kehadiran)==null?void 0:L.is_late_weekly)===!1;return t.jsxs(t.Fragment,{children:[t.jsx(ne,{allowLeadingZeros:!0,thousandSeparator:",",onValueChange:m("bonus_absen",_.kode_pegawai),className:"form-control",value:h||0}),!N&&t.jsxs("p",{className:"text-danger d-none",id:"notes-bonus-jabatan",children:[" ",t.jsx("i",{children:"Note : Bonus Absen Tidak Mencapai Target"})]})]})}},{title:"Bonus Jabatan",dataIndex:"bonus_jabatan",key:"bonus_jabatan",editable:!0,render:(h,_)=>t.jsx(ne,{allowLeadingZeros:!0,thousandSeparator:",",onValueChange:m("bonus_jabatan",_.kode_pegawai),className:"form-control",value:h||0})},{title:"Potongan",dataIndex:"potongan_lain",key:"potongan_lain",render:h=>{var _;return(_=h||0)==null?void 0:_.toLocaleString("kr-ko")}},{title:"Potongan Gaji",dataIndex:"potongan_gaji",key:"potongan_gaji",render:(h,_)=>t.jsx(ne,{allowLeadingZeros:!0,thousandSeparator:",",onValueChange:m("potongan_gaji",_.kode_pegawai),className:"form-control",value:h||0})},{title:"Kasbon",dataIndex:"kasbon",key:"kasbon",editable:!0,render:h=>(h||0).toLocaleString("kr-ko")},{title:"Potongan Absen",dataIndex:"potongan_absen",key:"potongan_absen",editable:!0,render:h=>(h||0).toLocaleString("kr-ko")},{title:"Total Gaji",dataIndex:"total_gaji",key:"total_gaji",render:(h,_)=>gt(_).toLocaleString("kr-ko")}];return t.jsxs(V,{title:"Payroll",children:[t.jsx("form",{onSubmit:e(d),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsxs("fieldset",{className:"scheduler-border",children:[t.jsx("legend",{className:"scheduler-border",children:"Filter Payroll"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Tanggal",name:"periode",type:"month",placeholder:"tanggal",component:j})}),t.jsx(Ea,{className:"col-12"})]})]})}),t.jsx("div",{className:"col-6",children:t.jsxs("fieldset",{className:"scheduler-border",style:{height:"207px"},children:[t.jsx("legend",{className:"scheduler-border",children:"Filter Bonus Absen"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Start Date",name:"start_date",type:"date",placeholder:"Start Date",component:j})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"End Date",name:"end_date",type:"date",placeholder:"End Date",component:j})})]})]})}),t.jsx("div",{className:"col-12 text-end",children:t.jsxs("button",{type:"button",onClick:()=>i(s.getPayrollSumary()),className:"btn btn-primary",children:["Filter Data Pegawai"," "]})})]})}),t.jsx("div",{className:"mt-5",children:t.jsx(X,{handleSearch:g,dataSource:r?o:u,columns:k,rowKey:"kode_pegawai",width:2100,scrollX:!0})}),t.jsxs("div",{className:"row mt-5",children:[t.jsx("div",{className:"col-6",children:t.jsxs("button",{type:"button",onClick:()=>i(s.clearData()),className:"btn btn-yellow",children:[" ","Clear"," "]})}),t.jsx("div",{className:"col-6 text-end",children:t.jsxs("button",{type:"button",onClick:()=>i(s.saveData()),className:"btn btn-primary",children:[" ","Simpan Payroll"," "]})})]})]})},Gm=G({form:"FormPayroll",validate:Um})(Om),zm=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus dipilih"),e},ui=()=>({cariData:()=>async(i,s)=>{var o;try{const n=(o=s().form)==null?void 0:o.FormSinkronDataPegawai.values,r={kode_pegawai:n.kode_pegawai,kode_toko:n.kode_toko,periode:n.periode};i(c.setLoading({screen:!0}));const d=(await q(P.externalApi.omzetSales,r)).data.map(u=>({...u,kode_toko:n.kode_toko}));i(H({data:d})),i(c.stopLoading())}catch(n){i(c.stopLoading()),S(`${n}`)}},sinkronData:()=>async(i,s)=>{var l;const n=s().utility.getDataTmp.data,r=(l=s().form)==null?void 0:l.FormSinkronDataPegawai.values;try{i(c.setLoading({screen:!0})),await na(P.transaksi.omzetSales,{detail_omzet:n.map(d=>({kode_toko:d.kode_toko,omzet_jual_faktur:d.omzet_jual_faktur,omzet_jual_berat:d.omzet_jual_berat,omzet_jual_rupiah:d.omzet_jual_rupiah,omzet_hutang_lunas_faktur:d.omzet_hutang_lunas_faktur,omzet_hutang_lunas_berat:d.omzet_hutang_lunas_berat,omzet_hutang_lunas_rupiah:d.omzet_hutang_lunas_rupiah,periode:r.periode,kode_pegawai:d.kode_pegawai}))}),i(H({data:[]})),i(c.stopLoading()),K("Sinkronisasi Berhasil")}catch(d){i(c.stopLoading()),S(`${d}`)}}}),Hm=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=ui(),r=async()=>{o(n.cariData())};return x.useEffect(()=>{o(v("FormSinkronDataPegawai","status_validasi","OPEN")),o(v("FormSinkronDataPegawai","periode",U.slice(0,7)))},[o]),t.jsx("form",{onSubmit:e(r),children:t.jsxs("div",{className:"row",children:[t.jsx(Ea,{className:"col-3"}),t.jsx(ka,{className:"col-3",namaForm:"FormSinkronDataPegawai"}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"periode",type:"month",component:j})}),t.jsx("div",{className:"col-3 text-end text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Data"})})]})})},Jm={form:"FormSinkronDataPegawai",enableReinitialize:!0,validate:zm},Vm=G(Jm)(Hm),qm=()=>{const a=E(),e=ui(),i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Sales",dataIndex:"kode_sales",key:"kode_sales"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Omset Penjualan Rupiah",dataIndex:"omzet_jual_rupiah",key:"omzet_jual_rupiah",align:"right",render(o){return t.jsx("div",{className:"text-end",children:Number(o||0).toLocaleString("kr-ko")})}},{title:"Omset Penjualan Faktur",dataIndex:"omzet_jual_faktur",key:"omzet_jual_faktur",align:"right",render(o){return t.jsx("div",{className:"text-end",children:Number(o||0).toLocaleString("kr-ko")})}},{title:"Periode",dataIndex:"periode",key:"periode"}],s=D(o=>o.utility.getDataTmp.data||[]);return x.useEffect(()=>(a(H({data:[]})),()=>{a(H({data:[]}))}),[a]),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12 mb-4",children:t.jsx(X,{dataSource:s,columns:i,rowKey:"_id",disabledSearch:!0})}),t.jsx("div",{className:"col-9 text-end"}),t.jsx("div",{className:"col-3 text-end",children:t.jsxs(C,{disabled:!(s.length>0),block:!0,onClick:()=>a(e.sinkronData()),color:"primary",children:[" ","Sinkron Data"]})})]})},Wm=()=>t.jsxs(V,{title:"Sinkron Data Pegawai",children:[t.jsx(Vm,{}),t.jsx(qm,{})]}),Ym=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus diisi"),a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.jam_awal||(e.jam_awal="Jam Awal harus diisi"),a.jam_akhir||(e.jam_akhir="Jam Akhir harus diisi"),a.tgl_lembur||(e.tgl_lembur="Tanggal Lembur harus diisi"),a.total_rp||(e.total_rp="Total Rupiah harus diisi"),a.keterangan||(e.keterangan="Keteranagn harus diisi"),a.jam_akhir<a.jam_awal&&(e.jam_akhir="Jam akhir tidak boleh lebih dari jam awal"),a.jam_akhir===a.jam_awal&&(e.jam_akhir="Jam akhir tidak boleh sama dengan jam awal"),e},Xm=a=>{const e=new xe({orientation:"landscape",unit:"mm",format:"a5"}),i=Ia(`${_a}`),s={name:(i==null?void 0:i.nama_toko)||"",address:(i==null?void 0:i.alamat_toko)||""};e.setFontSize(12),e.text(s.name,105,10,{align:"center"}),e.text(s.address,105,16,{align:"center"}),e.line(10,20,200,20),e.text("FORM LEMBUR KARYAWAN",105,25,{align:"center"});const o=new Date().setDate(1),n=new Date;n.setMonth(n.getMonth()+1),n.setDate(-1),e.text(`TANGGAL ${Y(`${new Date(o)}`,!0)}`,105,30,{align:"center"});const r=[],l=[],d=34;r.push([{content:"No",rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:"Kode Pegawai",rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:"Nama Pegawai",rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:"Keterangan Lembur",rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:"Jam Lembur",styles:{halign:"center"},colSpan:2},{content:"Total",styles:{halign:"center"},rowSapn:2}]),r.push([{content:"",colSpan:4},{content:"Jam Awal",styles:{halign:"center"}},{content:"Jam Akhir",styles:{halign:"center"}},{content:"",styles:{halign:"center"}}]),l.push([{content:1,rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:a.kode_pegawai,rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:a.nama_pegawai,rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:a.keterangan,rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:a.jam_awal,styles:{halign:"center"}},{content:a.jam_akhir,styles:{halign:"center"}},{content:a.total_rp.toLocaleString("kr-ko"),styles:{halign:"center"}}]),$e(e,{head:r,body:l,startY:d,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),e.save("FORM LEMBUR .pdf")},Zm=()=>({cariDataPegawai:()=>async(s,o)=>{var l;const r=(l=o().form.TransaksiLembur)==null?void 0:l.values;if(!r.kode_toko)return S("Kode Toko harus di pilih"),!1;try{const d=await q(P.dataMaster.pegawai,{kode_pegawai:r.kode_pegawai});s(v("TransaksiLembur","nama_pegawai",d.data[0].nama_pegawai)),s(v("TransaksiLembur","jabatan",d.data[0].jabatan))}catch(d){S(`${d}`)}},saveLembur:()=>async(s,o)=>{var l;const r=(l=o().form.TransaksiLembur)==null?void 0:l.values;try{s(c.setLoading({screen:!0})),await na(P.transaksi.lembur,{...r,total_lembur:Number(r.total_lembur)}),Xm(r),K("Lembur berhasil disimpan"),s(c.stopLoading()),s(ia("TransaksiLembur"))}catch(d){s(c.stopLoading()),S(`${d}`)}},cariParameterLembur:()=>async(s,o)=>{var d;Ba(300);const n=o(),r=(d=n.form.TransaksiLembur)==null?void 0:d.values,l=n.parameter.parameterLembur.data[0];if(r!=null&&r.jam_awal&&(r!=null&&r.jam_akhir)){const u=To(r.jam_awal,r.jam_akhir),m=l.total_rp/l.menit,g=u*m;s(v("TransaksiLembur","total_rp",parseInt(String(g),10).toFixed(3))),s(v("TransaksiLembur","total_lembur",u))}}}),Qm=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=Zm(),n=E();return x.useEffect(()=>{n(ra.getParameterLembur()),n(v("TransaksiLembur","tgl_lembur",U))},[n]),t.jsx(V,{title:"Transaksi Lembur",children:t.jsx("form",{onSubmit:e(()=>n(o.saveLembur())),children:t.jsxs("div",{className:"row",children:[t.jsx(Ea,{className:"col-3"}),t.jsx(ka,{className:"col-3",namaForm:"TransaksiLembur",onClick:()=>n(o.cariDataPegawai())}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",type:"text",placeholder:"Nama Pegawai",readOnly:!0,component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jabatan",name:"jabatan",type:"text",placeholder:"Jabatan",readOnly:!0,component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Lembur",name:"tgl_lembur",type:"date",placeholder:"Tanggal Lembur",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jam Awal Lembur",name:"jam_awal",type:"time",placeholder:"Jam Awal Lembur",component:j,onBlur:()=>n(o.cariParameterLembur())})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jam Akhir Lembur",name:"jam_akhir",type:"time",placeholder:"Jam Akhir Lembur",component:j,onBlur:()=>n(o.cariParameterLembur())})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Total Lembur",name:"total_lembur",type:"text",readOnly:!0,placeholder:"Total Lembur",component:j,inputGroup:!0,textIconGroup:"Menit",right:!0})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Total Rupiah / Jam",name:"total_rp",type:"text",isRp:!0,placeholder:"Total Rupiah / Jam",component:da})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Keterangan Lembur",name:"keterangan",type:"text",placeholder:"Keterangan Lembur",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,disabled:i||s,type:"submit",className:"btn-lg",children:"Cetak Struk"})})]})})})},ap=G({form:"TransaksiLembur",validate:Ym})(Qm),mi=({namaForm:a})=>{const e=E(),i=pa();x.useEffect(()=>{e(Q.getPengajuanIzinPergi())},[e]);const s=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan",dataIndex:"tgl_pengajuan",key:"tgl_pengajuan"},{title:"Jam Izin",dataIndex:"jam_izin",key:"jam_izin"},{title:"Jam Kembali",dataIndex:"jam_kembali",key:"jam_kembali",render:(n,r)=>({props:{style:{background:Kt(r.jam_izin,r.jam_kembali)?"red":"white",color:Kt(r.jam_izin,r.jam_kembali)?"white":"black"}},children:t.jsx("div",{children:n})})},{title:"Keterangan",dataIndex:"keterangan_izin",key:"keterangan_izin"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",onClick:()=>e(i.showModal({isEdit:!0,data:r,title:"Edit Jam Kembali",namaForm:"FormDataJabatan"})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=D(n=>n.transaksi.pengajuanIzinPergi);return t.jsx(X,{addButtonTitle:a?void 0:"Tambah Pengajuan Izin Pergi",dataSource:o.data||[],columns:s.filter(n=>!(a&&n.key==="actions")),rowKey:"_id",onAddButtonClick:()=>e(i.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},ep=()=>{const a=()=>async(s,o)=>{var l;const n=o(),r=(l=n.form.FormPengajuanIzinPergi)==null?void 0:l.values;r.kode_toko=`${_a}`,n.utility.getModal.isEdit?s(i(r)):s(e(r))},e=s=>async o=>{try{o(c.setLoading({screen:!0})),await na(P.transaksi.pengajuanIzinPergi,s),K("Data Berhasil Disimpan"),o(Q.getPengajuanIzinPergi()),o(c.stopLoading()),o(c.hideModal()),o(ia("FormPengajuanIzinPergi"))}catch(n){S(`${n}`),o(c.stopLoading())}},i=s=>async o=>{try{o(c.setLoading({screen:!0})),await ya(`${P.transaksi.pengajuanIzinPergi}/${s._id}`,s),K("Data Berhasil Diedit"),o(Q.getPengajuanIzinPergi()),o(c.stopLoading()),o(ia("FormPengajuanIzinPergi")),o(c.hideModal())}catch(n){S(`${n}`),o(c.stopLoading())}};return{prosesData:a}},tp=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode pegawai harus dipilih"),a.tgl_pengajuan||(e.tgl_pengajuan="Tanggal pengajuan harus diisi"),a.jam_izin||(e.jam_izin="Jam Izin harus diisi"),a.keterangan_izin||(e.keterangan_izin="Keterangan Izin harus diisi"),e},np=a=>{const{handleSubmit:e,isEdit:i,jam_kembali:s}=a,o=ep(),n=async()=>{r(o.prosesData())},r=E();return x.useEffect(()=>{r(v("FormPengajuanIzinPergi","tgl_pengajuan",U))},[r]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{className:"col-6",readOnly:i,namaForm:"FormPengajuanIzinPergi"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal Pengajuan",name:"tgl_pengajuan",type:"date",readOnly:i,placeholder:"Masukan Tgl Pengajuan",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Izin",name:"jam_izin",type:"time",readOnly:i,placeholder:"Masukan Jam Izin",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Kembali",name:"jam_kembali",type:"time",readOnly:!i||s!=="-",placeholder:"Masukan Jam Kembali",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Keterangan Izin",name:"keterangan_izin",type:"text",readOnly:i,placeholder:"Masukan Keterangan Izin",component:j})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},ip=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T,A,R,F,b,I,M,z,f,W,$,ta,oa;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,jam_kembali:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l.jam_kembali,initialValues:{_id:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m._id,kode_pegawai:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.kode_pegawai,kode_toko:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.kode_toko,nama_pegawai:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.nama_pegawai,jam_izin:(F=(R=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:R.data)==null?void 0:F.jam_izin,jam_kembali:(M=(I=(b=a==null?void 0:a.utility)==null?void 0:b.getModal)==null?void 0:I.data)==null?void 0:M.jam_kembali,tgl_pengajuan:(W=(f=(z=a==null?void 0:a.utility)==null?void 0:z.getModal)==null?void 0:f.data)==null?void 0:W.tgl_pengajuan,keterangan_izin:(oa=(ta=($=a==null?void 0:a.utility)==null?void 0:$.getModal)==null?void 0:ta.data)==null?void 0:oa.keterangan_izin}}:{isEdit:!1}},op=la(ip),sp={form:"FormPengajuanIzinPergi",enableReinitialize:!0,validate:tp},rp=op(G(sp)(np)),lp=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Pengajuan Izin Pergi",children:[t.jsx(mi,{}),t.jsx(ma,{namaForm:"FormPengajuanIzinPergi",title:`${a.getModal.title}`,width:500,children:t.jsx(rp,{})})]})},pi=({namaForm:a})=>{var n;const e=E(),i=pa();x.useEffect(()=>{e(Q.getPengajuanIzinPulangCepat())},[e]);const s=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan",dataIndex:"tgl_pengajuan",key:"tgl_pengajuan"},{title:"Keterangan",dataIndex:"keterangan_izin",key:"keterangan_izin"}],o=(n=D(r=>r.transaksi.pengajuanIzinPulangCepat))==null?void 0:n.data;return t.jsx(X,{addButtonTitle:a?void 0:"Tambah Pengajuan Izin Pulang Cepat",dataSource:o||[],columns:s.filter(r=>!(a&&r.key==="actions")),rowKey:"_id",onAddButtonClick:()=>e(i.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},dp=()=>{const a=()=>async(s,o)=>{var l;const n=o(),r=(l=n.form.FormPengajuanIzinPulangCepat)==null?void 0:l.values;r.kode_toko=`${_a}`,n.utility.getModal.isEdit?s(i(r)):s(e(r))},e=s=>async o=>{try{o(c.setLoading({screen:!0})),await na(P.transaksi.pengajuanIzinPulangCepat,s),K("Data Berhasil Disimpan"),o(Q.getPengajuanIzinPulangCepat()),o(c.stopLoading()),o(c.hideModal()),o(ia("FormPengajuanIzinPulangCepat"))}catch(n){S(`${n}`),o(c.stopLoading())}},i=s=>async o=>{try{o(c.setLoading({screen:!0})),await ya(`${P.transaksi.pengajuanIzinPulangCepat}/${s._id}`,s),K("Data Berhasil Diedit"),o(Q.getPengajuanIzinPulangCepat()),o(c.stopLoading()),o(ia("FormPengajuanIzinPulangCepat")),o(c.hideModal())}catch(n){S(`${n}`),o(c.stopLoading())}};return{prosesData:a}},cp=a=>{const{handleSubmit:e,isEdit:i}=a,s=dp(),o=async()=>{n(s.prosesData())},n=E();return x.useEffect(()=>{n(v("FormPengajuanIzinPulangCepat","tgl_pengajuan",U))},[n]),t.jsxs("form",{onSubmit:e(o),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{className:"col-6",readOnly:i,namaForm:"FormPengajuanIzinPulangCepat"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal Pengajuan",name:"tgl_pengajuan",type:"date",readOnly:i,placeholder:"Masukan Tgl Pengajuan",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Keterangan Izin",name:"keterangan_izin",type:"text",readOnly:i,placeholder:"Masukan Keterangan Izin",component:j})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},up=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T,A,R,F;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,kode_pegawai:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,kode_toko:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.kode_toko,nama_pegawai:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.nama_pegawai,tgl_pengajuan:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.tgl_pengajuan,keterangan_izin:(F=(R=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:R.data)==null?void 0:F.keterangan_izin}}:{isEdit:!1}},mp=la(up),pp={form:"FormPengajuanIzinPulangCepat",enableReinitialize:!0},gp=mp(G(pp)(cp)),hp=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Pengajuan Izin Pulang Cepat",children:[t.jsx(pi,{}),t.jsx(ma,{namaForm:"FormPengajuanIzinPulangCepat",title:`${a.getModal.title}`,width:500,children:t.jsx(gp,{})})]})},_p=()=>{const a=E(),e=pa();x.useEffect(()=>{a(Q.getTukarLibur({namaForm:"Data Tukar Libur"}))},[a]);const i=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Libur",dataIndex:"tanggal_libur",key:"tanggal_libur"},{title:"Hari Libur",dataIndex:"hari_libur",key:"hari_libur"},{title:"Kode Pegawai Tukar",dataIndex:"kode_pegawai_tukar",key:"kode_pegawai_tukar"},{title:"Nama Pegawai Tukar",dataIndex:"nama_pegawai_tukar",key:"nama_pegawai_tukar"},{title:"Tanggal Libur Tukar",dataIndex:"tanggal_tukar_libur",key:"tanggal_tukar_libur"},{title:"Hari Libur Tukar",dataIndex:"hari_libur_tukar",key:"hari_libur_tukar"}],s=D(o=>o.transaksi.tukarLibur);return t.jsx(t.Fragment,{children:t.jsx(X,{addButtonTitle:"Tambah Tukar Libur",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormTukarLibur"}))})})},bp=()=>{const a=()=>async(i,s)=>{var r;const n=(r=s().form.FormTukarLibur)==null?void 0:r.values;i(e(n))},e=i=>async s=>{try{s(c.setLoading({screen:!0})),await na(P.transaksi.tukarLibur,{hari_libur:i.hari_libur,hari_libur_tukar:i.hari_libur_tukar,kode_pegawai:i.kode_pegawai,kode_pegawai_tukar:i.kode_pegawai_tukar,nama_pegawai:i.nama_pegawai,nama_pegawai_tukar:i.nama_pegawai_tukar,tanggal_tukar_libur:Y(i.tanggal_tukar_libur)}),K("Data Berhasil Di Simpan"),s(Q.getTukarLibur()),s(c.stopLoading()),s(ia("FornTukarLibur")),s(c.hideModal())}catch(o){S(`${o}`),s(c.stopLoading())}};return{prosesData:a}},kp=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.kode_pegawai_tukar||(e.kode_pegawai_tukar="Kode Pegawai Tukar harus diisi"),a.kode_pegawai_tukar===a.kode_pegawai&&(e.kode_pegawai_tukar="Kode Pegawai Tukar harus berbeda"),e},yp=a=>{const{handleSubmit:e}=a,i=bp(),[s,o]=x.useState(),n=E();x.useEffect(()=>{ha("target")},[n]);const r=async()=>{n(i.prosesData())},l=async h=>{try{const _=h[0];o(_);const N=Me(),y=k(_.hari_libur);let L=new Date(N[y]).toISOString().split("T")[0];const w=new Date().toISOString().split("T")[0];Ie(w,L)<=0&&(L=new Date(new Date(L).getFullYear(),new Date(L).getMonth(),new Date(L).getDate()+8).toISOString().split("T")[0]),n(v("FormTukarLibur","tanggal_libur",L)),n(v("FormTukarLibur","kode_pegawai",_.kode_pegawai)),n(v("FormTukarLibur","nama_pegawai",_.nama_pegawai)),n(v("FormTukarLibur","hari_libur",_.hari_libur))}catch(_){console.log(_)}},[d,u]=x.useState([]),m=async h=>{try{const _=h[0],N=Me(),y=k(_.hari_libur);let L=new Date(N[y]).toISOString().split("T")[0];const w=new Date().toISOString().split("T")[0];if(Ie(w,L)<=0&&(L=new Date(new Date(L).getFullYear(),new Date(L).getMonth(),new Date(L).getDate()+8).toISOString().split("T")[0]),s){const T=g(_.hari_libur);u(T)}n(v("FormTukarLibur","tanggal_tukar_libur",null)),n(v("FormTukarLibur","nama_pegawai_tukar",_.nama_pegawai)),n(v("FormTukarLibur","hari_libur_tukar",_.hari_libur))}catch(_){console.log(_)}},g=(h,_=5)=>{const y=["MINGGU","SENIN","SELASA","RABU","KAMIS","JUMAT","SABTU"].indexOf(h),L=new Date;if(y===-1)throw new Error("Hari yang diberikan tidak valid.");const w=new Date(L),T=L.getDay(),A=(y+7-T)%7;w.setDate(L.getDate()+A);const R=[];for(let F=0;F<_;F++){const b=new Date(w);b.setDate(w.getDate()+F*7),R.push(b.toISOString().split("T")[0])}return R},k=h=>{let _=0;switch(h){case"SENIN":_=0;break;case"SELASA":_=1;break;case"RABU":_=2;break;case"KAMIS":_=3;break;case"JUMAT":_=4;break;case"SABTU":_=5;break;case"MINGGU":_=6;break;default:_=0}return _};return t.jsxs("form",{onSubmit:e(r),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{name:"kode_pegawai",className:"col-6",namaForm:"FormTukarLibur",onClick:h=>{n(ia("FormTukarLibur")),l(h)}}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"nama_pegawai",readOnly:!0,type:"text",label:"Nama Pegawai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"hari_libur",readOnly:!0,type:"text",label:"Hari Libur",component:j})})]}),t.jsx("hr",{}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{label:"Kode Pegawai Tukar",name:"kode_pegawai_tukar",className:"col-6",namaForm:"FormTukarLibur",onClick:h=>{m(h)}}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"nama_pegawai_tukar",readOnly:!0,type:"text",label:"Nama Pegawai Tukar",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Hari Libur Tukar",name:"tanggal_tukar_libur",includeDates:d.map(h=>new Date(h)),disabled:!d.length,component:wo})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Hari Libur Tukar",name:"hari_libur_tukar",readOnly:!0,type:"text",component:j})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Simpan"})})]})]})},xp=a=>{var e,i,s,o,n,r,l,d,u;return a.utility.getModal.isEdit===!0?{isEdit:a.utility.getModal.isEdit,initialValues:{_id:(s=(i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.data)==null?void 0:s._id,kode_pegawai:(r=(n=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:n.data)==null?void 0:r.kode_pegawai,nama_pegawai:(u=(d=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:d.data)==null?void 0:u.nama_pegawai}}:{isEdit:!1}},jp=la(xp),fp={form:"FormTukarLibur",enableReinitialize:!0,validate:kp},Tp=jp(G(fp)(yp)),Lp=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Tukar Libur",children:[t.jsx(_p,{}),t.jsx(ma,{namaForm:"FormPengajuanSakit",title:`${a.getModal.title}`,width:500,children:t.jsx(Tp,{})})]})},vp=()=>({getNoKasbon:o=>async n=>{try{n(c.setLoading({screen:!0}));const r=await q(P.transaksi.getNoKasbon,{kode_pegawai:o[0].kode_pegawai,kode_toko:_a});n(v("BayarCicilan","nama_pegawai",o[0].nama_pegawai)),n(c.simpanDataTmp({data:r.data,namaForm:"GET_KASBON"})),K("No Kasbon Tersedia"),n(c.stopLoading())}catch(r){n(c.stopLoading()),za(r)}},getDetailKasbon:o=>async n=>{n(c.setLoading({screen:!0}));try{const r=await q(P.transaksi.getDetailKasbon,{no_kasbon:o});n(v("BayarCicilan","lama_cicilan",r.data.lama_cicilan)),n(v("BayarCicilan","total_kasbon",r.data.total_kasbon));const l=r.data.sisa_lama_cicil===1?r.data.saldo_rp:r.data.cicil_rp;n(v("BayarCicilan","cicil_rp",l)),n(c.stopLoading())}catch(r){za(r),n(c.stopLoading())}},checkJumlahBayar:o=>async(n,r)=>{const d=r().form.BayarCicilan.values;if(o>d.total_kasbon)return za("Nominal bayar lebih besar daripada total cicilan"),n(c.setLoading({button:!0})),!1;{const u=d.total_kasbon-o;n(v("BayarCicilan","saldo_rp",u)),n(c.setLoading({button:!1}))}},bayarCicilan:()=>async(o,n)=>{const l=n().form.BayarCicilan.values;try{o(c.setLoading({screen:!0})),await ya(`${P.transaksi.kasbon}/bayar-kasbon/${l.no_kasbon}`,{total_bayar:l.nominal_bayar}),K("Cicilan Berhasil Di Bayar"),o(ia("BayarCicilan")),o(c.simpanDataTmp({data:[],namaForm:""})),o(c.stopLoading())}catch(d){o(c.stopLoading()),za(d)}}}),Np=a=>{const{handleSubmit:e}=a,i=vp(),s=()=>{o(i.bayarCicilan())},o=E(),n=D(l=>l.utility.getDataTmp),r=D(l=>l.utility.getLoading);return t.jsx(V,{title:"Bayar Cicilan",children:t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx(ka,{className:"col-3",onClick:l=>o(i.getNoKasbon(l)),namaForm:"BayarCicilan"}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",type:"text",placeholder:"Masukan Nama Pegawai",component:j,readOnly:!0})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"No Kasbon",name:"no_kasbon",type:"text",options:(n==null?void 0:n.namaForm)==="GET_KASBON"?n.data.map(l=>({value:l,label:l})):[],placeholder:"Masukan No Kasbon",component:ea,onChange:l=>o(i.getDetailKasbon(l))})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Lama Cicilan",name:"lama_cicilan",type:"text",placeholder:"Masukan Lama Cicilan",component:j,right:!0,inputGroup:!0,readOnly:!0,textIconGroup:"Bulan"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Total Kasbon",name:"total_kasbon",type:"text",placeholder:"Masukan Total Kasbon",isRp:!0,component:da,right:!0,inputGroup:!0,readOnly:!0,textIconGroup:"Bulan"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Cicilan",name:"cicil_rp",type:"text",isRp:!0,component:da,placeholder:"Masukan Cicilan",right:!0,inputGroup:!0,readOnly:!0,textIconGroup:"Bulan",onClick:l=>{o(v("BayarCicilan","nominal_bayar",l))}})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Nominal Bayar",name:"nominal_bayar",type:"text",isRp:!0,placeholder:"Masukan Nominal Bayar",component:da,onChange:l=>o(i.checkJumlahBayar(l))})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",disabled:r.button,className:"btn-lg",children:"Bayar Cicilan"})})]})})})},Pp=la(null),Sp={form:"BayarCicilan",enableReinitialize:!0},Ep=Pp(G(Sp)(Np)),Ap=()=>async(a,e)=>{const s=e().form.CekBonusPegawai.values;try{a(c.setLoading({screen:!0}));const o=await q("payroll/bonus-absen",{kode_toko:s.kode_toko,kode_pegawai:s.kode_pegawai,start_date:s.start_date,end_date:s.end_date});a(v("CekBonusPegawai","total_bonus_absen",o.data.bonus_absen)),a(c.stopLoading())}catch(o){console.log(o),a(c.stopLoading())}},Dp=a=>{const{handleSubmit:e}=a,i=E(),s=async()=>{i(Ap())};return x.useEffect(()=>{ha("kode_pegawai"),i(v("CekBonusPegawai","tgl_system",U)),i(v("CekBonusPegawai","start_date",U)),i(v("CekBonusPegawai","end_date",U))},[i]),t.jsx(V,{title:"Cek Bonus Absen",children:t.jsxs("form",{onSubmit:e(s),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(Ea,{className:"col-3"}),t.jsx(ka,{className:"col-3",namaForm:"CekBonusPegawai"}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Start Date",name:"start_date",type:"date",placeholder:"Masukan Start Date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"End Date",name:"end_date",type:"date",placeholder:"Masukan End Date",component:j})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cek Bonus"})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Total Bonus Absen",name:"total_bonus_absen",type:"text",placeholder:"Masukan Total Bonus Absen",component:da,right:!0,isRp:!0,readOnly:!0,inputGroup:!0,textIconGroup:"Bulan"})})]})]})})},Ip=la(null),Mp={form:"CekBonusPegawai",enableReinitialize:!0},Cp=Ip(G(Mp)(Dp)),wp=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=E();x.useEffect(()=>{o(v("TambahSaldoKasbon","status_validasi","OPEN"))},[o]);const[n,r]=x.useState([]),l=async h=>{try{o(c.setLoading({screen:!0})),await na(P.transaksi.tambahSaldoKasbon,{no_kasbon:h.no_kasbon,total_tambah:h.total_tambah}),o(c.stopLoading()),o(ia("TambahSaldoKasbon")),r([]),K("Berhasil menambahkan saldo kasbon")}catch(_){console.log(_),S("Gagal menambahkan saldo kasbon"),o(c.stopLoading())}},d=Rt.debounce(async h=>{try{o(c.setLoading({screen:!0}));const _=await q(P.transaksi.reviewKasbon,{kode_pegawai:h,status:"OPEN"});r(_.data),K("No kasbon tersedia"),o(c.stopLoading())}catch(_){o(c.stopLoading()),S("No tidak tersedia"),r([]),console.log(_)}},300),[u,m]=x.useState(""),g=h=>{m(h);const _=n.find(N=>N.no_kasbon===h);o(v("TambahSaldoKasbon","saldo_kasbon",(_==null?void 0:_.saldo_rp)||0)),o(v("TambahSaldoKasbon","total_tambah",0)),o(v("TambahSaldoKasbon","total_kasbon",0))},k=Rt.debounce(h=>{if(u==="")return S("Pilih no kasbon terlebih dahulu"),!1;const _=n.find(N=>N.no_kasbon===u);o(v("TambahSaldoKasbon","total_kasbon",Number((_==null?void 0:_.saldo_rp)||0)+h))},300);return t.jsx(V,{title:"Tambah Saldo Kasbon",children:t.jsx("form",{onSubmit:e(l),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx(Ea,{className:"col-6"}),t.jsx(ka,{namaForm:"TambahSaldoKasbon",className:"col-6",onClick:h=>d(h[0].kode_pegawai),onChange:h=>d(h)}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"No Kasbon",name:"no_kasbon",type:"text",placeholder:"Masukan No Kasbon",options:n.map(h=>({value:h.no_kasbon,label:h.no_kasbon})),component:ea,onChange:h=>g(h),textIconGroup:"Bulan"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Saldo Kasbon",name:"saldo_kasbon",type:"text",isRp:!0,placeholder:"Saldo Kasbon",readOnly:!0,component:da})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tambah Saldo Pegawai",name:"total_tambah",type:"text",isRp:!0,readOnly:u==="",placeholder:"Masukan Tambah Saldo Pegawai",component:da,onChange:h=>k(h)})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Total Kasbon",name:"total_kasbon",type:"text",isRp:!0,readOnly:!0,placeholder:"Masukan Total Kasbon",component:da})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Simpan"})})]})})})},Rp=la(null),Kp={form:"TambahSaldoKasbon",enableReinitialize:!0},$p=Rp(G(Kp)(wp)),Fp=(a,e,i)=>{const s=[{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"right"}},{label:"Tanggal Pengajuan",key:"tgl_pengajuan",options:{halign:"right"}},{label:"Jam Izin",key:"jam_izin",options:{halign:"right"}},{label:"Jam Kembali",key:"jam_kembali",options:{halign:"right"}},{label:"Keterangan",key:"keterangan_izin",options:{halign:"right"}}];fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN IZIN PERGI",data:a.map((o,n)=>({...o,no:n+1})),dataToko:{alamat_toko:String(Va),nama_toko:String(Ja)},columns:s,grouping:[],grandTotalSetting:{disableGrandTotal:!0}})},bn=a=>async(e,i)=>{const s=i(),o=s.form.LaporanIzinPergi.values,n=s.transaksi.pengajuanIzinPergi.data;Fp(n,o,a)},Bp=a=>{var n;const{handleSubmit:e}=a,i=E();x.useEffect(()=>{i(v("LaporanIzinPergi","start_date",U)),i(v("LaporanIzinPergi","end_date",U))},[i]);const s=r=>{i(Q.getPengajuanIzinPergi(r))},o=(n=D(r=>r.transaksi.pengajuanIzinPergi||[]))==null?void 0:n.data;return t.jsxs(V,{title:"Laporan Pengajuan Izin Pergi",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx(Ea,{className:"col-4",formType:"report"}),t.jsx(ka,{className:"col-4",namaForm:"LaporanIzinPergi"}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(mi,{namaForm:"Laporan"}),t.jsx("div",{className:"row",children:(o==null?void 0:o.length)>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(bn("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(bn("EXCEL")),children:"Export Excel"})})]})})]})},Up={form:"LaporanIzinPergi",enableReinitialize:!0},Op=G(Up)(Bp),Gp=(a,e,i)=>{const s=[{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"right"}},{label:"Tanggal Pengajuan",key:"tgl_pengajuan",options:{halign:"right"}},{label:"Keterangan",key:"keterangan_izin",options:{halign:"right"}}];fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN IZIN PULANG CEPAT",data:a.map((o,n)=>({...o,no:n+1})),dataToko:{alamat_toko:String(Va),nama_toko:String(Ja)},columns:s,grouping:[],grandTotalSetting:{disableGrandTotal:!0}})},kn=a=>async(e,i)=>{const s=i(),o=s.form.LaporanIzinPulangCepat.values,n=s.transaksi.pengajuanIzinPulangCepat.data;Gp(n,o,a)},zp=a=>{var n;const{handleSubmit:e}=a,i=E();x.useEffect(()=>{i(v("LaporanIzinPulangCepat","start_date",U)),i(v("LaporanIzinPulangCepat","end_date",U))},[i]);const s=r=>{i(Q.getPengajuanIzinPulangCepat(r))},o=(n=D(r=>r.transaksi.pengajuanIzinPulangCepat||[]))==null?void 0:n.data;return t.jsxs(V,{title:"Laporan Pengajuan Pulang Cepat",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx(Ea,{className:"col-4",formType:"report"}),t.jsx(ka,{className:"col-4",namaForm:"LaporanIzinPulangCepat"}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(pi,{namaForm:"Laporan"}),t.jsx("div",{className:"row",children:(o==null?void 0:o.length)>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(kn("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(kn("EXCEL")),children:"Export Excel"})})]})})]})},Hp={form:"LaporanIzinPulangCepat",enableReinitialize:!0},Jp=G(Hp)(zp),Vp=(a,e,i)=>{const s=[{label:"NO",key:"no",options:{halign:"left"}},{label:"NAMA TOKO",key:"nama_toko",options:{halign:"left"}},{label:"KODE TOKO",key:"kode_toko",options:{halign:"left"}},{label:"KODE PEGAWAI",key:"kode_pegawai",options:{halign:"left"}},{label:"NAMA PEGAWAI",key:"nama_pegawai",options:{halign:"left"}},{label:"BONUS ABSEN",key:"bonus_absen",options:{halign:"right",format:"RP"}}],o=(e==null?void 0:e.kode_toko)==="SEMUA"?"SEMUA TOKO":`TOKO ${e==null?void 0:e.kode_toko}`;fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i||"PDF",title:`LAPORAN BONUS ABSENSI ${o}`,data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(Va),nama_toko:String(Ja)},columns:s,grouping:[],grandTotalSetting:{colSpan:0,disableGrandTotal:!0}})},qp=()=>async(a,e)=>{var s;const i=(s=e().form.LaporanBonusAbsensi)==null?void 0:s.values;try{const o=await q(P.report.getLaporanBonusAbsensi,{periode:i.periode.slice(0,7),kode_toko:i.kode_toko==="SEMUA"?void 0:i.kode_toko,type_kehadiran:i.type_kehadiran==="SEMUA"?void 0:i.type_kehadiran,kode_pegawai:i.kode_pegawai});console.log(o);const n={data:o.data,namaForm:"Laporan Bonus Absensi Tersedia"};a(H(n)),K("Laporan Bonus Absensi Tersedia")}catch(o){S(`${o}`),a(c.setLaporanKosong("Laporan Bonus Absensi Tidak Tersedia",`${o}`))}},yn=a=>async(e,i)=>{var r,l;const s=i(),o=(r=i().form.LaporanBonusAbsensi)==null?void 0:r.values,n=(l=s.utility.getDataTmp)==null?void 0:l.data;Vp(n,o,a)},Wp=()=>{const a=E(),e=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Bonus Absen",dataIndex:"bonus_absen",key:"bonus_absen",render(s){return s.toLocaleString()}}];x.useEffect(()=>{a(Q.getReviewPengajuanCuti())},[a]);const i=D(s=>s.utility.getDataTmp.data||[]);return t.jsxs(t.Fragment,{children:[t.jsx(X,{dataSource:i,columns:e,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0}),(i==null?void 0:i.length)!==0&&t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",block:!0,type:"button",onClick:()=>a(yn("PDF")),children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,type:"button",onClick:()=>a(yn("EXCEL")),children:"Export Excel"})})]})]})},Yp=G({form:"TableLaporanBonusAbsensi"})(Wp),Xp=a=>{const{handleSubmit:e}=a,i=E(),s=()=>{i(qp())};x.useEffect(()=>{i(aa.getDataToko()),i(v("LaporanBonusAbsensi","kode_toko","SEMUA")),i(v("LaporanBonusAbsensi","type_kehadiran","SEMUA")),i(v("LaporanBonusAbsensi","periode",U.slice(0,7)))},[i]);const o=D(n=>n.dataMaster.dataToko);return t.jsx(V,{title:"Laporan Bonus Absensi",children:t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...o.data.map(n=>({value:n.kode_toko,label:n.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx(ka,{namaForm:"LaporanBonusAbsensi",className:"col-4"}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Periode",name:"periode",type:"month",placeholder:"Masukan Periode",component:j})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tipe Kehadiran",name:"type_kehadiran",options:[{value:"SEMUA",label:"SEMUA"},{value:"RAJIN",label:"RAJIN"},{value:"TIDAK RAJIN",label:"TIDAK RAJIN"}],placeholder:"Pilih Tipe Kehadiran",component:ea})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})}),t.jsx("div",{className:"col-12 mt-4",children:t.jsx(Yp,{})})]})})})},Zp={form:"LaporanBonusAbsensi",enableReinitialize:!0},Qp=G(Zp)(Xp),ag=()=>t.jsx(V,{title:"Cetak Kartu Pegawai",children:t.jsx(pt,{form:"CetakKartuPegawai"})}),eg=a=>{const{handleSubmit:e,moduleSystem:i}=a,s=E();x.useEffect(()=>{s(c.getModule())},[s]);const o=async n=>{const l=[{key:"JAM_DETEKSI_LIBUR",value:n.JAM_DETEKSI_LIBUR,type:"MODULE"}].filter(d=>i.find(u=>u.key===d.key&&u.value!==d.value));try{await na(P.utility.createModule,{module:l}),s(c.getModule()),K("Data berhasil disimpan")}catch(d){S(`${d}`)}};return t.jsx(V,{title:"Setting System",children:t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jam Deteksi Libur",name:"JAM_DETEKSI_LIBUR",placeholder:"Masukkan Jam Deteksi Libur",type:"time",component:j})}),t.jsxs("div",{className:"col-3 mt-4",children:[" ",t.jsx("button",{className:"btn btn-primary",children:" Simpan "})]})]})})})},tg=a=>{var o,n;const e=(o=a.utility.getModule)==null?void 0:o.data,i=r=>e.find(l=>l.key===r);return{moduleSystem:e.filter(r=>r!==void 0),initialValues:{JAM_DETEKSI_LIBUR:((n=i("JAM_DETEKSI_LIBUR"))==null?void 0:n.value)||""}}},ng=la(tg),ig={form:"CreateSettingSystem",enableReinitialize:!0},og=ng(G(ig)(eg)),J=({children:a})=>{const e=D(s=>s.helper),i=E();return x.useEffect(()=>{e.getIsLogin&&(i(ba.handleSetPageHeader(!0)),i(ba.handleSetPageSidebar(!0)),i(ba.handleSetFooter(!0)),i(ba.handleSetContent(!0)))},[i,e.getIsLogin]),e.getIsLogin?a:t.jsx(Pn,{to:"/login"})},sg=(a,e,i)=>{const s=Ia(e.kode_toko),o=[{label:"Tanggal",key:"tanggal",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Datang",key:"jam_datang",options:{halign:"center"}},{label:"Total Potongan",key:"total_potongan",options:{halign:"right",format:"RP"}}];fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN ABSEN TERLAMBAT",data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(s==null?void 0:s.alamat_toko),nama_toko:String(s==null?void 0:s.nama_toko)},columns:o,grouping:[],grandTotalSetting:{colSpan:3}})},gi=()=>({exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanAbsenTerlamabat.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;sg(l,r,i)},cariLaporan:()=>async(i,s)=>{try{const n=s().form.LaporanAbsenTerlamabat.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},l=await q(P.report.getReportAbsenTerlambat,r);if(l.data.length===0)return i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia")),!1;const d={data:l.data,namaForm:"Laporan Kasbon Tidak Tersedia"};i(H(d)),K("Laporan Kasbon Tersedia"),i(c.stopLoading())}catch(o){i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia",`${o}`))}}}),rg=()=>{const a=[{title:"Tanggal",dataIndex:"tanggal",key:"tanggal"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jam Datang",dataIndex:"jam_datang",key:"jam_datang"},{title:"Total Potongan",dataIndex:"total_potongan",key:"total_potongan",render:o=>Number(o||0).toLocaleString("kr-ko")}],e=D(o=>o.utility.getDataTmp.data||[]),i=E(),s=gi();return t.jsxs("div",{className:"row mt-4",children:[t.jsx(X,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},lg=a=>{const{handleSubmit:e}=a,i=E(),s=gi();x.useEffect(()=>(i(v("LaporanAbsenTerlamabat","start_date",U)),i(v("LaporanAbsenTerlamabat","end_date",U)),i(aa.getDataToko()),i(H({data:[]})),()=>{i(H({data:[]}))}),[i]);const o=D(r=>r.dataMaster.dataToko||[]),n=()=>{i(s.cariLaporan())};return t.jsxs(V,{title:"Laporan Absen Terlambat",children:[t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...o.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(rg,{})]})},dg={form:"LaporanAbsenTerlamabat",enableReinitialize:!0},cg=G(dg)(lg),ug=(a,e,i)=>{const s=Ia(e.kode_toko),o=[{label:"Tanggal",key:"tanggal",options:{halign:"left"}},{label:"Kategori",key:"kategori",options:{halign:"left"}},{label:"Jumlah In",key:"jumlah_in",options:{halign:"right",format:"RP"}},{label:"Jumlah Out",key:"jumlah_out",options:{halign:"right",format:"RP"}}];fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN PIUTANG KAS BON",data:a.data_cash.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String((s==null?void 0:s.alamat_toko)||""),nama_toko:String((s==null?void 0:s.nama_toko)||"")},columns:o,grouping:[],grandTotalSetting:{colSpan:1},customizePdf(n){n.text(`Kode Pegawai : ${a.kode_pegawai}   Nama Pegawai : ${a.nama_pegawai}`,15,27)},addRowPdf(n){n&&n.push([{content:"SALDO AKHIR",colSpan:2,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:"center"}},{content:`${Number(a.data_cash.reduce((r,l)=>r+l.jumlah_in,0)-a.data_cash.reduce((r,l)=>r+l.jumlah_out,0)).toLocaleString("kr-ko")}`,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:"right"}},{content:"",styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:"right"}}])},customizeExcelisBeforeTable:n=>{const r=n.addRow([]);r.getCell(1).value=`Kode Pegawai : ${a.kode_pegawai}   Nama Pegawai : ${a.nama_pegawai}`,n.mergeCells(`A${r.number}:${String.fromCharCode(64+o.length)}${r.number}`)},customizeExcel:n=>{const r=n.addRow([]);r.getCell(1).value="SALDO AKHIR",r.getCell(1).alignment={horizontal:"center"},n.mergeCells(`A${r.number}:B${r.number}`);const l=a.data_cash.reduce((d,u)=>d+u.jumlah_in,0)-a.data_cash.reduce((d,u)=>d+u.jumlah_out,0);r.getCell(3).value=l.toLocaleString("kr-ko"),n.mergeCells(`C${r.number}:D${r.number}`),r.eachCell(d=>{d.fill={type:"pattern",pattern:"solid",fgColor:{argb:"E8E5E5"},bgColor:{argb:"E8E5E5"}},d.font={color:{argb:"000000"},bold:!0}})}})},hi=()=>({exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanPiutangKasBon.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;ug(l,r,i)},cariLaporan:()=>async(i,s)=>{try{const n=s().form.LaporanPiutangKasBon.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko,kode_pegawai:n.kode_pegawai},d={data:(await q(P.report.getReportCashBon,r)).data,namaForm:"Laporan Kasbon Tidak Tersedia"};i(H(d)),K("Laporan Kasbon Tersedia"),i(c.stopLoading())}catch(o){i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia",`${o}`))}}}),mg=()=>{var o;const a=[{title:"Tanggal",dataIndex:"tanggal",key:"tanggal"},{title:"Kategori",dataIndex:"kategori",key:"kategori"},{title:"Jumlah In",dataIndex:"jumlah_in",key:"jumlah_in",render:n=>Number(n||0).toLocaleString("en-US")},{title:"Jumlah Out",dataIndex:"jumlah_out",key:"jumlah_out",render:n=>Number(n||0).toLocaleString("en-US")}],e=D(n=>n.utility.getDataTmp.data||[]),i=E(),s=hi();return t.jsxs("div",{className:"row mt-4",children:[t.jsx(X,{dataSource:(e==null?void 0:e.data_cash)||[],columns:a,rowKey:"_id",scrollX:!0}),((o=e.data_cash||[])==null?void 0:o.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},pg=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Akhir harus diisi"),a.kode_pegawai||(e.kode_pegawai="Tanggal Akhir harus diisi"),e},gg=a=>{const{handleSubmit:e}=a,i=E(),s=hi();x.useEffect(()=>(i(v("LaporanPiutangKasBon","start_date",U)),i(v("LaporanPiutangKasBon","end_date",U)),i(aa.getDataToko()),i(H({data:[]})),()=>{i(H({data:[]}))}),[i]);const o=D(r=>r.dataMaster.dataToko||[]),n=()=>{i(s.cariLaporan())};return t.jsxs(V,{title:"Laporan Piutang Kasbon",children:[t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[...o.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx(ka,{className:"col-3",namaForm:"LaporanPiutangKasBon"}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:j})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(mg,{})]})},hg={form:"LaporanPiutangKasBon",enableReinitialize:!0,validate:pg},_g=G(hg)(gg),bg=()=>{const a=E(),e=pa(),i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jumlah Kasbon",dataIndex:"total_kasbon",key:"total_kasbon",render(o){return o.toLocaleString("kr-ko")}},{title:"Tanggal Pengajuan",dataIndex:"tgl_system",key:"tgl_system"},{title:"Cicilan Kasbon",dataIndex:"cicil_rp",key:"cicil_rp",render(o){return o.toLocaleString("kr-ko")}},{title:"Alasan",dataIndex:"alasan_kasbon",key:"alasan_kasbon"},{title:"Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Status",dataIndex:"status",key:"status",render(o){return o==="OPEN"?"BELUM LUNAS":o==="REVIEW"?"MENUNGGU KONFIRMASI HRD":"LUNAS"}},{title:"Action",key:"actions",render:(o,n)=>t.jsx(le,{type:"primary",disabled:n.status!=="REVIEW",onClick:()=>a(e.showModal({isEdit:!0,title:"Review Kasbon",namaForm:"FormDetailKasbon",data:n})),children:t.jsx("i",{className:"fa fa-eye"})})}];x.useEffect(()=>{a(Q.getReviewKasbon())},[a]);const s=D(o=>o.transaksi.reviewKasbonReducer);return t.jsx(X,{dataSource:s.data,columns:i,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})},kg=G({form:"TableReviewKasbon"})(bg),yg=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=async l=>{o(Q.getReviewKasbon({...l,status_validasi:l.status_validasi!=="ALL"?l.status_validasi:void 0}))};x.useEffect(()=>{o(v("FilterReviewKasbon","start_date",U)),o(v("FilterReviewKasbon","end_date",U)),o(v("FilterReviewKasbon","status_validasi","ALL")),o(v("FilterReviewKasbon","kode_toko","SEMUA")),o(aa.getDataToko())},[o]);const r=D(l=>l.dataMaster.dataToko);return t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",placeholder:"Masukan Tanggal Awal",component:j})}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Emd Awal",name:"end_date",type:"date",placeholder:"Masukan Emd Awal",component:j})}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Status",name:"status_validasi",type:"text",options:[{value:"ALL",label:"SEMUA"},{value:"DONE",label:"APPROVE"},{value:"OPEN",label:"OPEN"}],placeholder:"Masukan Status",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",type:"text",options:[{value:"SEMUA",label:"SEMUA"},...r.data.map(l=>({value:l.kode_toko,label:l.nama_toko}))],placeholder:"Masukan Kode Toko",component:ea})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari"})})]})})},xg={form:"FilterReviewKasbon",enableReinitialize:!0},jg=G(xg)(yg),fg=()=>({validasiCuti:()=>async(e,i)=>{try{const s=i();e(c.setLoading({screen:!0}));const o=s.form.FormDetailKasbon.values,n=o.status==="CANCLE"?P.transaksi.validasiKasbonReject:P.transaksi.validasiKasbonApprove;await ya(`${n}/${o._id}`,o),K("Data Berhasil Di validasi"),e(c.stopLoading()),e(c.hideModal()),e(Q.getReviewKasbon())}catch(s){S(s),e(c.stopLoading())}}}),Tg=a=>{const e={};return a.status||(e.status="Status Validasi harus dipilih"),a.status==="CANCLE"&&(a.alasan_tolak||(e.alasan_tolak="Deskripsi Reject harus diisi")),e},Lg=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=fg(),r=async()=>{o(n.validasiCuti())};x.useEffect(()=>{o(v("FormDetailKasbon","status_validasi","OPEN"))},[o]);const[l,d]=x.useState("OPEN");return t.jsx("form",{onSubmit:e(r),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"No Kason",name:"no_kasbon",type:"text",readOnly:!0,placeholder:"Masukan No Kason",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Kode Pegawai",name:"kode_pegawai",type:"text",readOnly:!0,placeholder:"Masukan Kode Pegawai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",type:"text",readOnly:!0,placeholder:"Masukan Nama Pegawai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alasan Kasbon",name:"alasan_kasbon",type:"text",readOnly:!0,placeholder:"Masukan Alasan Kasbon",component:j})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Status Validasi",name:"status",type:"text",options:[{value:"DONE",label:"APPROVE"},{value:"CANCLE",label:"CANCEL"}],placeholder:"Masukan Status Validasi",component:ea,onChange:u=>d(u)})}),l==="CANCLE"&&t.jsx("div",{className:"col-12 mt-4",children:t.jsx(p,{label:"Deskripsi Ditolak",name:"alasan_tolak",placeholder:"Masukan Deskripsi Ditolak",component:me})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Simpan"})})]})})},vg=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T,A,R,F;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,no_kasbon:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.no_kasbon,kode_pegawai:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.kode_pegawai,nama_pegawai:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.nama_pegawai,alasan_tolak:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.alasan_tolak,alasan_kasbon:(F=(R=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:R.data)==null?void 0:F.alasan_kasbon}}:{isEdit:!1}},Ng=la(vg),Pg={form:"FormDetailKasbon",enableReinitialize:!0,validate:Tg},Sg=Ng(G(Pg)(Lg)),Eg=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Review Kasbon",children:[t.jsx(jg,{}),t.jsx(kg,{}),t.jsx(ma,{namaForm:"FormDetailKasbon",title:`${a.getModal.title}`,width:500,children:t.jsx(Sg,{})})]})},Ag=(a,e,i)=>{const s=[{label:"NAMA PEGAWAI",key:"nama_pegawai",options:{halign:"left"}},{label:"NO REKENING",key:"no_rekening",options:{halign:"left"}},{label:"KODE BANK",key:"kode_bank",options:{halign:"left"}},{label:"NOMINAL TRANSFER",key:"grand_total",options:{halign:"right",format:"RP"}}],o=e.kode_toko==="SEMUA"?"SEMUA TOKO":`TOKO ${e.kode_toko}`;fa({formatPdf:{orientation:"landscape",unit:"mm"},type:i,title:`LAPORAN BANK ${o}`,data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(Va),nama_toko:String(Ja)},columns:s,grouping:[],grandTotalSetting:{colSpan:2}})},_i=()=>({cariLaporan:()=>async(i,s)=>{try{const n=s().form.LaporanPayrollBank.values;i(c.setLoading({screen:!0}));const r={start_period:Y(`${n.start_date}`).slice(0,7),end_period:Y(`${n.start_date}`).slice(0,7),kode_toko:n.kode_toko},l=await q(P.report.payroll,r);if(l.data.length===0)return i(c.setLaporanKosong("Laporan Payroll Bank Tidak Tersedia")),!1;const d={data:l.data,namaForm:"Laporan Payroll Bank Tidak Tersedia"};i(H(d)),K("Laporan Payroll Bank Tersedia"),i(c.stopLoading())}catch(o){i(c.setLaporanKosong("Laporan Payroll Bank Tidak Tersedia",`${o}`))}},exportLaporan:i=>async(s,o)=>{var d;const n=o(),r=n.form.LaporanPayrollBank.values,l=(d=n.utility.getDataTmp)==null?void 0:d.data;Ag(l,r,i)}}),Dg=()=>{const a=[{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"No Rekening Pegawai",dataIndex:"no_rekening",key:"no_rekening"},{title:"Bank",dataIndex:"kode_bank",key:"kode_bank"},{title:"Nominal Yang Harus Ditransfer",dataIndex:"grand_total",key:"grand_total",align:"right",render:o=>t.jsxs("div",{className:"text-end",children:[" ",Number(o||0).toLocaleString("kr-ko")]})}],e=D(o=>o.utility.getDataTmp.data||[]),i=E(),s=_i();return t.jsxs("div",{className:"row mt-4",children:[t.jsx(X,{dataSource:e,columns:a,rowKey:"_id",summary:e.length===0?null:o=>t.jsx(t.Fragment,{children:t.jsxs(he.Summary.Row,{children:[t.jsx(he.Summary.Cell,{colSpan:3,index:0,children:t.jsx("div",{className:"text-center",children:"Grand Total "})}),t.jsx(he.Summary.Cell,{index:1,children:t.jsx("div",{className:"text-end",children:o.reduce((n,r)=>n+Number(r.grand_total),0).toLocaleString("kr-ko")})})]})})}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},Ig=a=>{const{handleSubmit:e}=a,i=E(),s=_i();x.useEffect(()=>(i(v("LaporanPayrollBank","start_date",U)),i(aa.getDataToko()),i(H({data:[]})),()=>{i(H({data:[]}))}),[i]);const o=()=>{i(s.cariLaporan())},n=D(r=>r.dataMaster.dataToko||[]);return t.jsxs(V,{title:"Laporan Payroll Bank",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Bulan",name:"start_date",type:"month",component:j})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Dg,{})]})},Mg={form:"LaporanPayrollBank",enableReinitialize:!0},Cg=G(Mg)(Ig),wg=a=>{var l;const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=async d=>{console.log(d),o(Q.getReviewPengajuanCuti({...d,start_date:void 0,end_date:void 0,status_validasi:"APPROVE"}))};x.useEffect(()=>{o(aa.getDataToko())},[o]);const r=D(d=>d.dataMaster.dataToko);return t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",type:"text",options:(l=r.data)==null?void 0:l.map(d=>({value:d.kode_toko,label:d.nama_toko})),placeholder:"Masukan Kode Toko",component:ea})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari"})})]})})},Rg={form:"FilterCuti",enableReinitialize:!0},Kg=G(Rg)(wg),$g=()=>{const a=E();x.useEffect(()=>{a(Q.getReviewPengajuanCuti({namaForm:"Data Pengajuan Cuti"}))},[a]);const e=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Cuti Dari",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Cuti Sampai",dataIndex:"leave_end_date",key:"leave_end_date"},{title:"Alasan Cuti",dataIndex:"leave_description",key:"leave_description"}],i=D(s=>s.transaksi.reviewPengajuanCuti);return t.jsx("div",{className:"mt-4",children:t.jsx(X,{dataSource:i.data||[],columns:e,rowKey:"_id",scrollX:!0,width:1500})})},Fg=()=>t.jsxs(V,{title:"Lihat Pengajuan Cuti",children:[t.jsx(Kg,{}),t.jsx($g,{})]}),Bg=a=>{var l;const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=async d=>{o(Q.getAllKasbon({...d,start_date:void 0,end_date:void 0,status_kasbon:d.status_validasi}))};x.useEffect(()=>{o(aa.getDataToko())},[o]);const r=D(d=>d.dataMaster.dataToko);return t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",type:"text",options:(l=r.data)==null?void 0:l.map(d=>({value:d.kode_toko,label:d.nama_toko})),placeholder:"Masukan Kode Toko",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Status Validasi",name:"status_validasi",type:"text",options:[{value:"DONE",label:"LUNAS"},{value:"OPEN",label:"BELUM LUNAS"}],placeholder:"Masukan Status Validasi",component:ea})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari"})})]})})},Ug={form:"FilterKasbon",enableReinitialize:!0},Og=G(Ug)(Bg),Gg=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Total Kasbon",dataIndex:"total_kasbon",key:"total_kasbon",render:i=>{var s;return(s=Number(i||0))==null?void 0:s.toLocaleString("kr-ko")}}],e=D(i=>i.transaksi.kasBon);return t.jsx("div",{className:"mt-4",children:t.jsx(X,{dataSource:e.data||[],columns:a,rowKey:"_id",scrollX:!0,width:1500})})},zg=()=>t.jsxs(V,{title:"Lihat Kasbon",children:[t.jsx(Og,{}),t.jsx(Gg,{})]}),Hg=()=>{const a=E(),e=pa(),i=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Tanggal Libur",dataIndex:"tanggal_libur",key:"tanggal_libur"},{title:"Hari Libur",dataIndex:"hari_libur",key:"hari_libur"},{title:"Tanggal Libur Tukar",dataIndex:"tanggal_tukar_libur",key:"tanggal_tukar_libur"},{title:"Hari Libur Tukar",dataIndex:"hari_libur_tukar",key:"hari_libur_tukar"},{title:"Tanggal Pengajuan",dataIndex:"tgl_system",key:"tgl_system"},{title:"Status",dataIndex:"status_valid",key:"status_valid",render:o=>o==="APPROVE"?"APPROVED":o},{title:"Action",key:"actions",render:(o,n)=>t.jsx(le,{type:"primary",disabled:n.status_valid!=="OPEN",onClick:()=>a(e.showModal({isEdit:!0,title:"Review Ubah Libur",namaForm:"FormReviewUbahLibur",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})}];x.useEffect(()=>{a(Q.getReviewPengajuanUbahLibur())},[a]);const s=D(o=>o.transaksi.reviewUbahLibur);return t.jsx(t.Fragment,{children:t.jsx(X,{dataSource:s.data,columns:i,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})})},Jg=G({form:"TableReviewUbahLibur"})(Hg),Vg=a=>{const e={};return a.status_valid||(e.status_valid="Status Validasi harus dipilih"),a.status_valid==="REJECT"&&(a.reject_description||(e.reject_description="Deskripsi Reject harus diisi")),e},qg=()=>({validasiUbahLibur:()=>async(e,i)=>{var n;const o=(n=i().form.FormReviewUbahLibur)==null?void 0:n.values;try{e(c.setLoading({screen:!0})),await ya(`${P.transaksi.ubahLibur}/${o._id}/validate`,{status_valid:o.status_valid,reject_description:o.reject_description||"-"}),K("Data Ubah Libur Berhasil Disimpan"),e(c.hideModal()),e(c.stopLoading()),e(Q.getReviewPengajuanUbahLibur())}catch(r){e(c.stopLoading()),S(`${r}`)}}}),Wg=a=>{const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=qg(),r=async()=>{o(n.validasiUbahLibur())};x.useEffect(()=>{o(v("FormReviewUbahLibur","status_validasi","OPEN"))},[o]);const[l,d]=x.useState("OPEN");return t.jsx("form",{onSubmit:e(r),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Kode Pegawai",name:"kode_pegawai",type:"text",readOnly:!0,placeholder:"Masukan Kode Pegawai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",type:"text",readOnly:!0,placeholder:"Masukan Nama Pegawai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"tanggal_libur",readOnly:!0,type:"date",label:"Tanggal Libur",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"hari_libur",readOnly:!0,type:"text",label:"Hari Libur",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"tanggal_tukar_libur",readOnly:!0,type:"date",label:"Tanggal Libur Tukar",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"hari_libur_tukar",readOnly:!0,type:"text",label:"Hari Libur Tukar",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Status Validasi",name:"status_valid",type:"text",options:[{value:"REJECT",label:"REJECT"},{value:"APPROVE",label:"APPROVE"},{value:"OPEN",label:"OPEN"}],placeholder:"Masukan Status Validasi",component:ea,onChange:u=>d(u)})}),l==="REJECT"&&t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Deskripsi Ditolak",name:"reject_description",placeholder:"Masukan Deskripsi Ditolak",component:me})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Simpan"})})]})})},Yg=a=>{var e,i,s,o,n,r,l,d,u,m,g,k,h,_,N,y,L,w,T,A,R,F,b,I,M;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(o=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:o.isEdit,initialValues:{_id:(l=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:l._id,kode_pegawai:(m=(u=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,nama_pegawai:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.nama_pegawai,tanggal_libur:(y=(N=(_=a==null?void 0:a.utility)==null?void 0:_.getModal)==null?void 0:N.data)==null?void 0:y.tanggal_libur,hari_libur:(T=(w=(L=a==null?void 0:a.utility)==null?void 0:L.getModal)==null?void 0:w.data)==null?void 0:T.hari_libur,tanggal_tukar_libur:(F=(R=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:R.data)==null?void 0:F.tanggal_tukar_libur,hari_libur_tukar:(M=(I=(b=a==null?void 0:a.utility)==null?void 0:b.getModal)==null?void 0:I.data)==null?void 0:M.hari_libur_tukar}}:{isEdit:!1}},Xg=la(Yg),Zg={form:"FormReviewUbahLibur",enableReinitialize:!0,validate:Vg},Qg=Xg(G(Zg)(Wg)),ah=a=>{var l;const{handleSubmit:e,pristine:i,submitting:s}=a,o=E(),n=async d=>{o(Q.getReviewPengajuanUbahLibur({...d,status_validasi:d.status_validasi!=="ALL"?d.status_validasi:void 0}))};x.useEffect(()=>{o(v("FilterUbahLibur","start_date",U)),o(v("FilterUbahLibur","end_date",U)),o(v("FilterUbahLibur","status_validasi","ALL")),o(aa.getDataToko())},[o]);const r=D(d=>d.dataMaster.dataToko);return t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",placeholder:"Masukan Tanggal Awal",component:j})}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",placeholder:"Masukan Tanggal Akhir",component:j})}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Status",name:"status_validasi",type:"text",options:[{value:"ALL",label:"SEMUA"},{value:"REJECT",label:"REJECT"},{value:"APPROVE",label:"APPROVE"},{value:"OPEN",label:"OPEN"}],placeholder:"Masukan Status",component:ea})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",type:"text",options:(l=r.data)==null?void 0:l.map(d=>({value:d.kode_toko,label:d.kode_toko})),placeholder:"Masukan Kode Toko",component:ea})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari"})})]})})},eh={form:"FilterUbahLibur",enableReinitialize:!0},th=G(eh)(ah),nh=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Review Ubah Libur",children:[t.jsx(th,{}),t.jsx(Jg,{}),t.jsx(ma,{namaForm:"FormReviewUbahLibur",title:`${a.getModal.title}`,width:500,children:t.jsx(Qg,{})})]})},ih=()=>{const a=E(),e=pa();x.useEffect(()=>{a(Q.getUbahLibur({namaForm:"Data Ubah Libur"}))},[a]);const i=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Libur",dataIndex:"tanggal_libur",key:"tanggal_libur"},{title:"Hari Libur",dataIndex:"hari_libur",key:"hari_libur"},{title:"Tanggal Libur Tukar",dataIndex:"tanggal_tukar_libur",key:"tanggal_tukar_libur"},{title:"Hari Libur Tukar",dataIndex:"hari_libur_tukar",key:"hari_libur_tukar"},{title:"Status Pengajuan",dataIndex:"status_valid",key:"status_valid",render:o=>({props:{style:{background:o==="OPEN"?"#fcdf77":o==="REJECT"?"#F7CECC":"#D5E7D4"}},children:t.jsx("div",{children:o==="OPEN"?"Menunggu Persetujuan":o==="REJECT"?"Ditolak":"Disetujui"})})}],s=D(o=>o.transaksi.ubahLibur);return t.jsx(t.Fragment,{children:t.jsx(X,{addButtonTitle:"Tambah Ubah Libur",dataSource:s.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormUbahLibur"}))})})},oh=()=>{const a=()=>async(i,s)=>{var r;const n=(r=s().form.FormUbahLibur)==null?void 0:r.values;n.kode_toko=`${_a}`,i(e(n))},e=i=>async s=>{try{s(c.setLoading({screen:!0})),await na(P.transaksi.ubahLibur,i),K("Data Berhasil Di Simpan"),s(Q.getUbahLibur()),s(c.stopLoading()),s(ia("FormUbahLibur")),s(c.hideModal())}catch(o){S(`${o}`),s(c.stopLoading())}};return{prosesData:a}},sh=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.hari_libur_tukar||(e.hari_libur_tukar="Hari Libur Tukar harus diisi"),a.tanggal_tukar_libur||(e.tanggal_tukar_libur="Tanggal Libur Tukar harus diisi"),e},rh=a=>{const{handleSubmit:e}=a,i=oh(),s=E(),[o,n]=x.useState(U),[r,l]=x.useState(U);x.useEffect(()=>{ha("target")},[s]);const d=async()=>{s(i.prosesData())},u=async k=>{try{const h=k[0],_=Me(),N=m(h.hari_libur);let y=new Date(_[N]).toISOString().split("T")[0];const L=new Date().toISOString().split("T")[0];Ie(L,y)<=0&&(y=new Date(new Date(y).getFullYear(),new Date(y).getMonth(),new Date(y).getDate()+1).toISOString().split("T")[0]),s(v("FormUbahLibur","tanggal_libur",y)),s(v("FormUbahLibur","kode_pegawai",h.kode_pegawai)),s(v("FormUbahLibur","nama_pegawai",h.nama_pegawai)),s(v("FormUbahLibur","hari_libur",h.hari_libur));const w=new Date(new Date(y).getTime()-24*60*60*1e3).toISOString().split("T")[0],T=Fo(w);console.log(T[0]),n(T[0].toISOString().split("T")[0]),l(T[6].toISOString().split("T")[0])}catch(h){console.log(h)}},m=k=>{let h=0;switch(k){case"SENIN":h=0;break;case"SELASA":h=1;break;case"RABU":h=2;break;case"KAMIS":h=3;break;case"JUMAT":h=4;break;case"SABTU":h=5;break;case"MINGGU":h=6;break;default:h=0}return h},g=k=>{let h="MINGGU";switch(k){case 0:h="MINGGU";break;case 1:h="SENIN";break;case 2:h="SELASA";break;case 3:h="RABU";break;case 4:h="KAMIS";break;case 5:h="JUMAT";break;case 6:h="SABTU";break;default:h="MINGGU"}return h};return t.jsxs("form",{onSubmit:e(d),children:[t.jsx(p,{name:"_id",type:"hidden",component:sa}),t.jsxs("div",{className:"row",children:[t.jsx(ka,{name:"kode_pegawai",className:"col-6",namaForm:"FormUbahLibur",onClick:k=>{s(ia("FormUbahLibur")),u(k)}}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"nama_pegawai",readOnly:!0,type:"text",label:"Nama Pegawai",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"tanggal_libur",min:U,readOnly:!0,type:"date",label:"Tanggal Libur",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"hari_libur",readOnly:!0,type:"text",label:"Hari Libur",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"tanggal_tukar_libur",min:o,max:r,type:"date",label:"Tanggal Libur Tukar",component:j,onChange:k=>{s(v("FormUbahLibur","hari_libur_tukar",g(new Date(k.target.value).getDay())))}})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"hari_libur_tukar",readOnly:!0,type:"text",label:"Hari Libur Tukar",component:j})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Simpan"})})]})]})},lh=a=>{var e,i,s,o,n,r,l,d,u;return a.utility.getModal.isEdit===!0?{isEdit:a.utility.getModal.isEdit,initialValues:{_id:(s=(i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.data)==null?void 0:s._id,kode_pegawai:(r=(n=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:n.data)==null?void 0:r.kode_pegawai,nama_pegawai:(u=(d=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:d.data)==null?void 0:u.nama_pegawai}}:{isEdit:!1}},dh=la(lh),ch={form:"FormUbahLibur",enableReinitialize:!0,validate:sh},uh=dh(G(ch)(rh)),mh=()=>{const a=D(e=>e.utility);return t.jsxs(V,{title:"Ubah Libur",children:[t.jsx(ih,{}),t.jsx(ma,{namaForm:"FormPengajuanSakit",title:`${a.getModal.title}`,width:500,children:t.jsx(uh,{})})]})},ke=Z("userdata"),xn=[{path:"/app/",element:t.jsx(pn,{}),children:[{path:"*",title:"Halaman Tidak Ditemukan",element:t.jsx(ie,{})},{path:"",title:"Halaman Tidak Ditemukan",element:t.jsx(ie,{})},{path:"/app/data-toko",title:"Data Toko",element:t.jsx(J,{children:ke.level==="SU"?t.jsx(Ld,{}):t.jsx(ie,{})})},{path:"/app/tukar-libur",title:"Tukar Libur",element:t.jsx(J,{children:t.jsx(Lp,{})})},{path:"/app/lihat-pengajuan-cuti",title:"Lihat Pengajuan Cuti",element:t.jsx(J,{children:t.jsx(Fg,{})})},{path:"/app/lihat-kasbon",title:"Lihat Kasbon",element:t.jsx(J,{children:t.jsx(zg,{})})},{path:"/app/parameter-lembur",title:"Lihat Kasbon",element:t.jsx(J,{children:t.jsx(Sc,{})})},{path:"/app/dashboard",title:"Dashboard",element:t.jsxs(J,{children:[t.jsx(ml,{}),","]})},{path:"/app/data-pegawai",title:"Data Pegawai",element:t.jsx(J,{children:t.jsx(Jl,{})})},{path:"/app/data-user",title:"Data User",element:t.jsx(J,{children:t.jsx(ad,{})})},{path:"/app/data-jabatan",title:"Data Jabatan",element:t.jsx(J,{children:t.jsx(ld,{})})},{path:"/app/data-hari-libur",title:"Data Hari Libur",element:t.jsx(J,{children:t.jsx(_d,{})})},{path:"/app/parameter-bonus",title:"Parameter Bonus",element:t.jsx(J,{children:t.jsx(Md,{})})},{path:"/app/parameter-izin-keluar-masuk",title:"Parameter Izin Keluar MAsuk",element:t.jsx(J,{children:t.jsx(Jc,{})})},{path:"/app/parameter-cuti",title:"Parameter Cuti",element:t.jsx(J,{children:t.jsx(Xd,{})})},{path:"/app/parameter-absen-terlambat",title:"Parameter Absen Terlambat",element:t.jsx(J,{children:t.jsx(Kc,{})})},{path:"/app/transaksi-lembur",title:"Transaksi Lembur",element:t.jsx(J,{children:t.jsx(ap,{})})},{path:"/app/parameter-koversi-cuti",title:"Parameter Koversi Cuti",element:t.jsx(J,{children:t.jsx(Od,{})})},{path:"/app/parameter-shift-Kerja",title:"Parameter Shift Kerja",element:t.jsx(J,{children:t.jsx(oc,{})})},{path:"/app/parameter-target-sales",title:"Target Sales",element:t.jsx(J,{children:t.jsx(mc,{})})},{path:"/app/parameter-target-toko",title:"Target Toko",element:t.jsx(J,{children:t.jsx(xc,{})})},{path:"/app/laporan-potongan-lain-lain",title:"Laporan Potongan Lain Lain",element:t.jsx(J,{children:t.jsx(Au,{})})},{path:"/app/laporan-lembur",title:"Laporan Lembur",element:t.jsx(J,{children:t.jsx(Wu,{})})},{path:"/app/laporan-kas-bon",title:"Laporan Kas Bon",element:t.jsx(J,{children:t.jsx(ou,{})})},{path:"/app/laporan-payroll",title:"Laporan Payroll",element:t.jsx(J,{children:t.jsx(mu,{})})},{path:"/app/laporan-payroll-bank",title:"Laporan Payroll Bank",element:t.jsx(J,{children:t.jsx(Cg,{})})},{path:"/app/laporan-pelangaran-pegawai",title:"Laporan Pelanggaran Pegawai",element:t.jsx(J,{children:t.jsx(ku,{})})},{path:"/app/pengajuan-izin-pergi",title:"Pengajuan Izin Pergi",element:t.jsx(J,{children:t.jsx(lp,{})})},{path:"/app/laporan-pengajuan-izin-pergi",title:"Pengajuan Pengajuan Izin Pergi",element:t.jsx(J,{children:t.jsx(Op,{})})},{path:"/app/laporan-pengajuan-izin-pulang-cepat",title:"Laporan Pengajuan Izin Pulang Cepat",element:t.jsx(J,{children:t.jsx(Jp,{})})},{path:"/app/pengajuan-izin-pulang-cepat",title:"Pengajuan Izin Pulang Cepat",element:t.jsx(J,{children:t.jsx(hp,{})})},{path:"/app/laporan-global-payroll",title:"Laporan Global Payroll",element:t.jsx(J,{children:t.jsx(Qc,{})})},{path:"/app/laporan-pengajuan-cuti",title:"Laporan Pengajuan Cuti",element:t.jsx(J,{children:t.jsx(Lu,{})})},{path:"/app/pengajuan-cuti",title:"Pengajuan Cuti",element:t.jsx(J,{children:t.jsx(nm,{})})},{path:"/app/review-cuti",title:"Review Cuti",element:t.jsx(J,{children:t.jsx(_m,{})})},{path:"/app/kas-bon",title:"Kas Bon",element:t.jsx(J,{children:t.jsx(Lm,{})})},{path:"/app/potongan-lain-lain",title:"Potongan Lain Lain ",element:t.jsx(J,{children:t.jsx(Im,{})})},{path:"/app/pelanggaran-pegawai",title:"Pelanggaran Pegawai",element:t.jsx(J,{children:t.jsx(Bm,{})})},{path:"/app/payroll",title:"Payroll",element:t.jsx(J,{children:t.jsx(Gm,{})})},{path:"/app/sinkron-data-pegawai",title:"Sinkron Data Pegawai",element:t.jsx(J,{children:t.jsx(Wm,{})})},{path:"/app/time-keeping",title:"Data Time Keeping",element:t.jsx(J,{children:t.jsx(Vc,{})})},{path:"/app/laporan-time-keeping",title:"Laporan Time Keeping",element:t.jsx(J,{children:t.jsx(Fu,{})})},{path:"/app/review-ubah-libur",title:"Review Ubah Libur",element:t.jsx(J,{children:t.jsx(nh,{})})},{path:"/app/ubah-libur",title:"Ubah Libur",element:t.jsx(J,{children:t.jsx(mh,{})})},{path:"/app/laporan-data-pegawai",title:"Laporan Data Pegawai",element:t.jsx(J,{children:t.jsx(Hu,{})})},{path:"/app/setting-member",title:"Setting Member",element:t.jsx(J,{children:t.jsx(Il,{})})},{path:"/app/cetak-member",title:"Cetak Member",element:t.jsx(J,{children:t.jsx(ag,{})})},{path:"/app/setting-system",title:"Setting System",element:t.jsx(J,{children:t.jsx(og,{})})},{path:"/app/laporan-absen-terlambat",title:"Laporan Absen Terlambat",element:t.jsx(J,{children:t.jsx(cg,{})})},{path:"/app/laporan-piutang-kas-bon",title:"Laporan Piutang Kas Bon",element:t.jsx(J,{children:t.jsx(_g,{})})},{path:"/app/review-kasbon",title:"Review Kasbon",element:t.jsx(J,{children:t.jsx(Eg,{})})},{path:"/app/tambah-saldo-kasbon",title:"Tambah Saldo Kasbon",element:t.jsx(J,{children:t.jsx($p,{})})},{path:"/app/laporan-bonus-absensi",title:"Laporan Bonus Absensi",element:t.jsx(J,{children:t.jsx(Qp,{})})},{path:"/app/bayar-cicilan",title:"Bayar Cicilan",element:t.jsx(J,{children:t.jsx(Ep,{})})},{path:"/app/cek-bonus-absen-pegawai",title:"Cek Bonus Pegawai",element:t.jsx(J,{children:t.jsx(Cp,{})})}]},{path:"/",element:t.jsx(pn,{}),children:[{path:"/login",title:"Login",element:t.jsx(hn,{})},{path:"*",title:"Halaman Tidak Ditemukan",element:t.jsx(ie,{})},{path:"",title:"Login",element:t.jsx(hn,{})},{path:"/time-keeping",title:"Time Keeping",element:t.jsx(Br,{})}]}],ph=Z("hakAkses")||[],gh=(a,e)=>{const i=(s,o)=>{for(const n of o)if(n.path.toLowerCase()===s.toLowerCase()||n.children&&i(s,n.children))return!0;return!1};return a.map(s=>{var o;if(s.path==="/app/"){const n=(o=s.children)==null?void 0:o.filter(r=>r.path==="/app/dashboard"||r.path==="*"||r.path===""||i(r.path,e));return{...s,children:n}}return s})},bi=ke.level==="SU"||ke.level==="OWN"||ke.level==="HRD"?xn:gh(xn,ph),X=a=>{const{dataSource:e,columns:i,addButtonTitle:s,rowKey:o,total:n,isLoading:r=!1,changePagenation:l,onAddButtonClick:d,scrollX:u,handleSearch:m,addButtonTitle2:g,onAddButtonClick2:k,expandable:h,disabledPagenation:_,disabledSearch:N,title:y,rowSelection:L,id:w,footer:T,summary:A,width:R=1300}=a,F=D($=>$.utility),[b,I]=x.useState(""),[M,z]=x.useState(e.length>0?e:[]);x.useEffect(()=>{z(e)},[e]);const f=$=>{if(I($.target.value),m===void 0){const ta=new RegExp(`.*${$.target.value}.*`,"gi"),oa=e.filter(ca=>i.some(ua=>ta.test(ca[ua.dataIndex])));$.target.value===""?z(e):z(oa)}else m($)},W=$=>{l&&l({...$,q:b||""})};return t.jsxs(Vi,{gutter:16,children:[t.jsx(Ne,{span:6,children:!N&&t.jsx(qi,{placeholder:"Search",prefix:t.jsx(Wi,{}),value:b,onChange:f,style:{marginBottom:"16px"}})}),t.jsxs(Ne,{span:18,className:"text-end",children:[s&&t.jsx(C,{color:"primary",onClick:d,children:s}),g&&t.jsx(C,{color:"primary",className:"ml-2",onClick:k,children:g})]}),t.jsxs(Ne,{span:24,className:"mt-4",children:[y&&t.jsx("h3",{children:y}),t.jsx(he,{id:w,rowSelection:L,dataSource:M,columns:i,loading:F.getLoading.table||r,rowKey:o,scroll:{x:u?R||1300:0},pagination:_?!1:{total:n||0},expandable:h,onChange:W,footer:T,summary:A})]})]})},hh=a=>{const[e,i]=x.useState(!0),{handleSubmit:s,onPress:o}=a,n=E(),r=async l=>{o(l)};return x.useEffect(()=>{ha("user_id")},[n]),t.jsx("form",{onSubmit:s(r),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"User Id",id:"user_id",name:"user_id",type:"text",noUpperCase:!0,placeholder:"Masukan User Id",component:j})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Password",id:"password",name:"password",type:"text",noUpperCase:!0,placeholder:"Masukan Password",component:j,right:!0,inputGroup:!0,textIconGroup:e?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:e?"password-hide":"",handleClick:()=>i(!e)})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Otorisasi"})})]})})},_h={form:"FormOtorisasi",enableReinitialize:!0},bh=G(_h)(hh),ht=x.createContext({}),kh=({theme:a,className:e,children:i})=>{const[s,o]=x.useState(!1),[n,r]=x.useState(!1),[l,d]=x.useState(!1),k={expand:s,reload:n,remove:l,toggleExpand:()=>{o(!s)},toggleReload:()=>{n||(r(!0),setTimeout(()=>{r(!1)},2e3))},toggleRemove:()=>{d(!l)},toggleCollapse:void 0};return l?null:t.jsx(ht.Provider,{value:k,children:t.jsx("div",{className:`panel panel-${a||"inverse"} ${s?"panel-expand":""} ${n?"panel-loading":""} ${e||""}`,children:i})})},yh=({className:a,back:e,handleBack:i,noButton:s,refresh:o,hidden:n,children:r})=>{const{reload:l,toggleCollapse:d,toggleReload:u}=x.useContext(ht),m=!!d;return t.jsxs("div",{className:`panel-heading ${a||""}`,children:[t.jsxs("h4",{className:"panel-title",children:[e&&t.jsxs(t.Fragment,{children:[t.jsx("i",{style:{cursor:"pointer"},className:"fa fa-arrow-left",onClick:i})," "," "]}),r]}),!s&&t.jsxs("div",{className:"panel-heading-btn",children:[o&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-xs btn-icon btn-circle btn-success",onClick:u,children:t.jsx("i",{className:`fa fa-redo ${l?"fa-spin":""}`})}),"  "]}),n&&t.jsx("button",{className:"btn btn-xs btn-icon btn-circle btn-warning",onClick:d,children:t.jsx("i",{className:`fa ${m?"fa-minus":"fa-angle-down fa-lg"}`,onClick:d})})]})]})},xh=({className:a,children:e})=>{const{reload:i}=x.useContext(ht);return t.jsxs("div",{className:`panel-body ${a||""}`,children:[e,i&&t.jsx("div",{className:"panel-loader",children:t.jsx("span",{className:"spinner spinner-sm"})})]})},V=({refresh:a,back:e,hideForm:i,handleBack:s,menu:o,title:n,children:r})=>t.jsx("div",{children:t.jsxs(kh,{children:[t.jsx(yh,{back:e,handleBack:s,noButton:!a&&!i,hidden:i,children:o||n}),t.jsx(xh,{hidden:i,children:r})]})}),jn=()=>{const a=re(r=>r.theme),e=Sn(),i=(r,l)=>{let d;l.forEach(u=>{u.path===r?d=u.title:u.children&&u.children.length>0&&u.children.forEach(m=>{var g;m.path===r&&(d=m.title),((g=m.children)==null?void 0:g.length)>0&&m.children.forEach(k=>{k.path===r&&(d=k.title)})})}),document.title=(d?`${d} | `:"")+" Time Keeping Management"},{pathname:s}=e;x.useEffect(()=>{i(s,bi)});const o=()=>{const r=Z("hakAkses"),l=[];r.forEach(u=>{l.push(u.path||""),u.children&&u.children.forEach(m=>{m.children&&m.children.forEach(g=>{l.push(g.path||"")}),l.push(m.path||"")})});const d=l.findIndex(u=>u===s);return s==="/"||s==="/login"||s==="/time-keeping"||s==="/test-public-page"?2:d},n=()=>be.user_id?o()===-1?be.level==="SU"||be.level==="OWNER"?t.jsx(Pe,{}):t.jsx(ie,{}):t.jsx(Pe,{}):t.jsx(Pe,{});return t.jsx("div",{className:a.handleSetPageSidebar?"app-content ":"",children:n()})},jh=()=>{var r;const[a,e]=x.useState(!1),i=E(),s=Yi(),o=()=>{e(!a)},n=()=>{i(c.setLoading({screen:!0})),setTimeout(async()=>{s("/login"),i(c.stopLoading()),i(On.isLogin(!1)),localStorage.clear()},1e3)};return t.jsx("div",{className:"navbar-item navbar-user dropdown",children:t.jsxs(Xi,{isOpen:a,toggle:o,className:"mr-2",style:{marginRight:"10px"},children:[t.jsxs(Zi,{tag:"span","data-toggle":"dropdown","aria-expanded":a,className:"navbar-link dropdown-toggle d-flex align-items-center",children:[t.jsx("div",{className:"avatar",children:(r=be.user_id)==null?void 0:r.slice(0,1)}),"  ",t.jsx("span",{children:t.jsx("b",{className:"caret"})})]}),t.jsxs(Qi,{end:!0,className:"dropdown-menu-end me-1",children:[t.jsx(Se,{href:"#/",children:"Edit Profile"}),t.jsx(Se,{divider:!0}),t.jsx(Se,{style:{cursor:"pointer"},onClick:n,children:"Log Out"})]})]})})},fh=()=>{const a=E(),e=re(i=>i.theme);return t.jsxs("div",{id:"header",className:"app-header",children:[t.jsxs("div",{className:"navbar-header",children:[t.jsxs("a",{href:"index.html",className:"navbar-brand",children:[t.jsx("span",{className:"navbar-logo"}),"TIME KEEPING MANAGEMENT SOLUTION"]}),t.jsxs("button",{type:"button",className:"navbar-mobile-toggler","data-toggle":"app-sidebar-mobile",onClick:()=>a(ba.appSidebarEndMobileToggled(!e.appSidebarEndMobileToggled)),children:[t.jsx("span",{className:"icon-bar"}),t.jsx("span",{className:"icon-bar"}),t.jsx("span",{className:"icon-bar"})]})]}),t.jsxs("div",{className:"navbar-nav",children:[t.jsx("li",{className:"navbar-form",children:t.jsxs("div",{className:"form-group mt-1",children:[t.jsx("input",{type:"text",readOnly:!0,className:"form-control",placeholder:"Tanggal System",value:"Tanggal : "+Y(`${new Date}`)}),t.jsx("button",{type:"button",className:"btn btn-search",children:t.jsx("i",{className:"fa fa-calendar-check",children:" "})})]})}),t.jsx(jh,{})]})]})},Th=()=>{const a=s=>{let o=s.target.value;if(o=o.toLowerCase(),o){const n=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu > .menu-item:not(.menu-profile):not(.menu-header):not(.menu-search), .app-sidebar:not(.app-sidebar-end) .menu-submenu > .menu-item"));n&&n.map(function(u){return u==null||u.classList.add("d-none"),!0});const r=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .has-text"));r&&r.map(function(u){return u.classList.remove("has-text"),!0});const l=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .expand"));l&&l.map(function(u){return u.classList.remove("expand"),!0});const d=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu > .menu-item:not(.menu-profile):not(.menu-header):not(.menu-search) > .menu-link, .app-sidebar .menu-submenu > .menu-item > .menu-link"));d&&d.map(function(u){let m=u.textContent;if(m=m.toLowerCase(),m.search(o)>-1){const g=u.closest(".menu-item");if(g&&(g.classList.remove("d-none"),g.classList.add("has-text")),u.closest(".menu-item.has-sub")){const _=g.querySelector(".menu-submenu .menu-item.d-none");_&&_.classList.remove("d-none")}const h=u.closest(".menu-submenu");if(h){h.style.display="block";const _=g.querySelector(".menu-item:not(.has-text)");_&&_.classList.add("d-none");const N=u.closest(".has-sub:not(.has-text)");if(N){N.classList.remove("d-none"),N.classList.add("expand");const y=g.closest(".has-sub:not(.has-text)");y&&(y.classList.remove("d-none"),y.classList.add("expand"))}}}return!0})}else{const n=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu > .menu-item:not(.menu-profile):not(.menu-header):not(.menu-search).has-sub .menu-submenu"));n&&n.map(function(u){return u.removeAttribute("style"),!0});const r=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu > .menu-item:not(.menu-profile):not(.menu-header):not(.menu-search)"));r&&r.map(function(u){return u.classList.remove("d-none"),!0});const l=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu-submenu > .menu-item"));l&&l.map(function(u){return u.classList.remove("d-none"),!0});const d=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .expand"));d&&d.map(function(u){return u.classList.remove("expand"),!0})}},e=Z("userdata"),i=e.level==="OWN"||e.level==="SU"?Ha:Z("hakAkses");return t.jsxs("div",{className:"menu",children:[t.jsx("div",{className:"menu-search mb-n3",children:t.jsx("input",{type:"text",className:"form-control",placeholder:"Sidebar menu filter...",onKeyUp:a})}),t.jsx("div",{className:"menu-header",children:"Navigation"}),i.map((s,o)=>t.jsx(ki,{menu:s},o))]})};function ki({menu:a,...e}){const i=ao(a.path),s=eo({path:i.pathname}),o=Sn(),n=to({path:a.path,end:!1},o.pathname),r=a.icon&&t.jsx("div",{className:"menu-icon",children:t.jsx("i",{className:a.icon})}),l=a.img&&t.jsx("div",{className:"menu-icon-img",children:t.jsx("img",{src:a.img,alt:""})}),d=a.children&&!a.badge&&t.jsx("div",{className:"menu-caret"}),u=a.label&&t.jsx("span",{className:"menu-label ms-5px",children:a.label}),m=a.badge&&t.jsx("div",{className:"menu-badge",children:a.badge}),g=a.highlight&&t.jsx("i",{className:"fa fa-paper-plane text-theme"}),k=a.title&&t.jsxs("div",{className:"menu-text",children:[a.title," ",u," ",g]});return t.jsxs("div",{className:"menu-item"+(s||n?" ":"")+(a.children?" has-sub":""),children:[t.jsxs(no,{className:"menu-link",to:a.path,...e,children:[l," ",r," ",k,d," ",m]}),a.children&&t.jsx("div",{className:"menu-submenu",children:a.children.map((h,_)=>t.jsx(ki,{menu:h},_))})]})}function yi(a,e=300){a.classList.contains("transitioning")||(a.classList.add("transitioning"),a.style.transitionProperty="height, margin, padding",a.style.transitionDuration=e+"ms",a.style.boxSizing="border-box",a.style.height=a.offsetHeight+"px",a.offsetHeight,a.style.overflow="hidden",a.style.height="0px",a.style.paddingTop="0px",a.style.paddingBottom="0px",a.style.marginTop="0px",a.style.marginBottom="0px",window.setTimeout(()=>{a.style.display="none",a.style.removeProperty("height"),a.style.removeProperty("padding-top"),a.style.removeProperty("padding-bottom"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),a.style.removeProperty("overflow"),a.style.removeProperty("transition-duration"),a.style.removeProperty("transition-property"),a.classList.remove("transitioning")},e))}function Lh(a,e=300){if(!a.classList.contains("transitioning")){a.classList.add("transitioning"),a.style.removeProperty("display");let i=window.getComputedStyle(a).display;i==="none"&&(i="block"),a.style.display=i;const s=a.offsetHeight;a.style.overflow="hidden",a.style.height="0px",a.style.paddingTop="0px",a.style.paddingBottom="0px",a.style.marginTop="0px",a.style.marginBottom="0px",a.offsetHeight,a.style.boxSizing="border-box",a.style.transitionProperty="height, margin, padding",a.style.transitionDuration=e+"ms",a.style.height=s+"px",a.style.removeProperty("padding-top"),a.style.removeProperty("padding-bottom"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),window.setTimeout(()=>{a.style.removeProperty("height"),a.style.removeProperty("overflow"),a.style.removeProperty("transition-duration"),a.style.removeProperty("transition-property"),a.classList.remove("transitioning")},e)}}function we(a,e=300){window.getComputedStyle(a).display==="none"?Lh(a,e):yi(a,e)}const De=function(a,e){a.map(function(i){return i.onclick=function(s){s.preventDefault();const o=this.nextElementSibling;a.map(function(r){const l=r.nextElementSibling;return l!==o&&(yi(l,e),l.closest(".menu-item").classList.remove("expand"),l.closest(".menu-item").classList.add("closed")),!0});const n=o.closest(".menu-item");n.classList.contains("expand")||n.classList.contains("active")&&!o.style.display?(n.classList.remove("expand"),n.classList.add("closed"),we(o,e)):(n.classList.add("expand"),n.classList.remove("closed"),we(o,e))},!0})};function xi(){const a=[].slice.call(document.querySelectorAll("#app-sidebar-float-submenu .menu-item.has-sub > .menu-link"));a&&a.map(function(e){return e.onclick=function(i){i.preventDefault();const o=this.closest(".menu-item").querySelector(".menu-submenu"),n=getComputedStyle(o),r=n.getPropertyValue("display")!=="none",l=n.getPropertyValue("display")==="none";we(o);const d=setInterval(function(){const u=document.querySelector("#app-sidebar-float-submenu"),m=document.querySelector("#app-sidebar-float-submenu-arrow"),g=document.querySelector("#app-sidebar-float-submenu-line"),k=u.clientHeight,h=u.getBoundingClientRect(),_=u.getAttribute("data-offset-top"),N=u?parseInt(u.getAttribute("data-menu-offset-top")||"0"):0;let y=h.top;const L=document.body.clientHeight;if(r&&y>_&&(y=y>_?_:y,u.style.top=y+"px",u.style.bottom="auto",m.style.top="20px",m.style.bottom="auto",g.style.top="20px",g.style.bottom="auto"),l){if(L-y<k){const T=L-N-22;u.style.top="auto",u.style.bottom=0,m.style.top="auto",m.style.bottom=T+"px",g.style.top="20px",g.style.bottom=T+"px"}const w=document.querySelector("#app-sidebar-float-submenu .app-sidebar-float-submenu");if(k>L&&w){const T="overflow-scroll mh-100vh".split(" ");for(let A=0;A<T.length;A++)w.classList.add(T[A])}}},1);setTimeout(function(){clearInterval(d)},250)},!0})}function vh(a){a.setAttribute("style","position: absolute; visibility: hidden; display: block !important");const e=a.clientHeight;return a.removeAttribute("style"),e}function Nh(){let a="",e="";const i=[].slice.call(document.querySelectorAll(".app-sidebar .menu > .menu-item.has-sub > .menu-link"));i&&i.map(function(s){return s.onmouseenter=function(){var n,r,l,d;const o=document.querySelector(".app");if(o&&o.classList.contains("app-sidebar-minified")){clearTimeout(a);const u=this.closest(".menu-item").querySelector(".menu-submenu");if(e===this&&document.querySelector("#app-sidebar-float-submenu"))return;e=this;const m=u.innerHTML;if(m){const g=getComputedStyle(document.body),k=(n=document==null?void 0:document.querySelector("#sidebar"))==null?void 0:n.getBoundingClientRect(),h=parseInt((r=document==null?void 0:document.querySelector("#sidebar"))==null?void 0:r.clientWidth),_=!o.classList.contains("app-sidebar-end")&&g.getPropertyValue("direction")!=="rtl"?k.left+h:document.body.clientWidth-k.left,N=vh(u),L=this.getBoundingClientRect().top,w=!o.classList.contains("app-sidebar-end")&&g.getPropertyValue("direction")!=="rtl"?_:"auto",T=!o.classList.contains("app-sidebar-end")&&g.getPropertyValue("direction")!=="rtl"?"auto":_,A=document.body.clientHeight;if(document.querySelector("#app-sidebar-float-submenu")){const M=document.querySelector("#app-sidebar-float-submenu"),z=document.querySelector("#app-sidebar-float-submenu .app-sidebar-float-submenu");if(N>A&&z){const f="overflow-scroll mh-100vh".split(" ");for(let W=0;W<f.length;W++)z.classList.add(f[W])}M.setAttribute("data-offset-top",L),M.setAttribute("data-menu-offset-top",L),z.innerHTML=m}else{let M="";N>A&&(M="overflow-scroll mh-100vh");const z=document.createElement("div");z.setAttribute("id","app-sidebar-float-submenu"),z.setAttribute("class","app-sidebar-float-submenu-container"),z.setAttribute("data-offset-top",L),z.setAttribute("data-menu-offset-top",L),z.innerHTML='	<div class="app-sidebar-float-submenu-arrow" id="app-sidebar-float-submenu-arrow"></div>	<div class="app-sidebar-float-submenu-line" id="app-sidebar-float-submenu-line"></div>	<div class="app-sidebar-float-submenu '+M+'">'+m+"</div>",o.appendChild(z);const f=document.getElementById("app-sidebar-float-submenu");f.onmouseover=function(){clearTimeout(a)},f.onmouseout=function(){a=setTimeout(()=>{var W;(W=document==null?void 0:document.querySelector("#app-sidebar-float-submenu"))==null||W.remove()},250)}}const R=(l=document==null?void 0:document.querySelector("#app-sidebar-float-submenu"))==null?void 0:l.clientHeight,F=document.querySelector("#app-sidebar-float-submenu"),b=document.querySelector("#app-sidebar-float-submenu-arrow"),I=document.querySelector("#app-sidebar-float-submenu-line");if(A-L>R)F&&(F.style.top=L+"px",F.style.left=w+"px",F.style.bottom="auto",F.style.right=T+"px"),b&&(b.style.top="20px",b.style.bottom="auto"),I&&(I.style.top="20px",I.style.bottom="auto");else{const M=A-L-21;F&&(F.style.top="auto",F.style.left=w+"px",F.style.bottom=0,F.style.right=T+"px"),b&&(b.style.top="auto",b.style.bottom=M+"px"),I&&(I.style.top="20px",I.style.bottom=M+"px")}xi()}else(d=document==null?void 0:document.querySelector("#app-sidebar-float-submenu-line"))==null||d.remove(),e=""}},s.onmouseleave=function(){const o=document.querySelector(".app");o&&o.classList.contains("app-sidebar-minified")&&(a=setTimeout(()=>{const n=document.querySelector("#app-sidebar-float-submenu-line");n&&n.remove(),e=""},250))},!0})}const Ph=()=>{const a=E(),e=re(i=>i.theme);return x.useEffect(()=>{const i=document.querySelector(".app-sidebar:not(.app-sidebar-end)"),s=i&&i.getAttribute("data-disable-slide-animation")?0:300,o=".app-sidebar .menu > .menu-item.has-sub",n=" > .menu-submenu > .menu-item.has-sub",r=o+" > .menu-link",l=[].slice.call(document.querySelectorAll(r));De(l,s);const d=o+n,u=[].slice.call(document.querySelectorAll(d+" > .menu-link"));De(u,s);const m=o+n+n,g=[].slice.call(document.querySelectorAll(m+" > .menu-link"));De(g,s),xi(),Nh()}),t.jsxs(t.Fragment,{children:[t.jsx("div",{id:"sidebar",className:"app-sidebar","data-bs-theme":"dark",children:t.jsx(io,{className:"app-sidebar-content",options:{suppressScrollX:!0},children:t.jsx(Th,{})})}),t.jsx("div",{className:"app-sidebar-bg","data-bs-theme":"dark"}),t.jsx("div",{className:"app-sidebar-mobile-backdrop",onClick:()=>a(ba.appSidebarEndMobileToggled(!e.appSidebarEndMobileToggled)),children:t.jsx(Fe,{to:"#",className:"stretched-link"})})]})},ma=a=>{const{children:e,title:i,namaForm:s}=a,o=re(l=>l.utility),n=E(),r=()=>{n(ia(`${s}`)),n(c.showModal({isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""}))};return t.jsxs(En,{backdrop:"static",keyboard:!1,id:a.id,isOpen:o.getModal.isModalShow,toggle:()=>r(),style:{maxWidth:a.width,width:"100%"},children:[t.jsx(An,{toggle:()=>r(),children:i}),t.jsx(Dn,{children:e})]})},Sh=a=>{const{children:e,title:i,namaForm:s,isOpen:o,hideModal:n}=a,r=E(),l=()=>{r(ia(`${s}`)),n()};return t.jsxs(En,{backdrop:"static",keyboard:!1,id:a.id,isOpen:o,toggle:()=>l(),style:{maxWidth:a.width,width:"100%"},children:[t.jsx(An,{toggle:()=>l(),children:i}),t.jsx(Dn,{children:e})]})},ka=a=>{const{className:e,namaForm:i,readOnly:s,onChange:o,onClick:n,onBlur:r,name:l,label:d}=a,u=D(y=>y.dataMaster.dataPegawai),m=E(),[g,k]=x.useState(!1),h=y=>{m(v(i,l||"kode_pegawai",y[0].kode_pegawai)),n&&n(y),k(!1)},_=y=>{if(r&&n){const L=u.data.filter(w=>w.kode_pegawai===y);n(L)}},N=y=>{o&&o(y)};return t.jsxs("div",{className:e,children:[t.jsx(p,{label:d||"Kode Pegawai",name:l||"kode_pegawai",type:"text",readOnly:s,onBlur:y=>_(y.target.value),onChange:y=>N(y.target.value),placeholder:"Masukan Kode Pegawai",component:j,right:!0,inputGroup:!s,handleClick:()=>!s&&k(!0),textIconGroup:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa fa-search",children:" "})," "]})}),t.jsx(Sh,{isOpen:g,hideModal:()=>k(!1),namaForm:i,title:"Cari Data Pegawai",width:1e3,children:t.jsx(pt,{form:"pencarian_pegawai",hidden:{gajiPokok:!0},changeKodePegawai:y=>h(y)})})]})},Ea=a=>{const{className:e,disabled:i,formType:s,onChange:o}=a,n=E();x.useEffect(()=>{n(aa.getDataToko())},[n]);const r=D(d=>d.dataMaster.dataToko),l=d=>{n(c.setKodeToko(d)),o&&o(d);const u=r.data.find(m=>m.kode_toko===d);ja("datatoko",u)};if(je)return t.jsx("div",{className:e,children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",component:ea,disabled:i,onChange:l,placeholder:"Pilih Kode Toko",options:s==="report"?[{value:"SEMUA",label:"SEMUA"},...r.data.map(d=>({value:d.kode_toko,label:d.nama_toko}))]:r.data.map(d=>({value:d.kode_toko,label:d.nama_toko}))})})};function Eh(){return co(bi)}oo.createRoot(document.getElementById("root")).render(t.jsx(so,{store:Hn,children:t.jsx(ro,{loading:null,persistor:Rr,children:t.jsx(lo,{basename:jo||"",children:t.jsx(Eh,{})})})}));
