import{j as t,T as za,P as Zt,r as j,m as Qt,C as an,n as kt,K as ai,f as ei,a as Aa,_ as Le,Q as Pe,S as en,A as ti,b as ni,N as je,E as ii,c as de,d as Ya,e as si,l as oi,u as ee,g as ri,h as li,i as di,p as ci,k as ui,t as mi,o as pi,q as D,R as gi,s as hi,I as _i,v as O,w as ki,x as tn,L as ve,F as p,y as M,z as ta,B as nn,D as bi,G as yi,H as Ne,J as la,M as ge,O as xi,U as he,V as fi,W as sn,X as ji,Y as Ti,Z as _e,$ as Li,a0 as Pi,a1 as vi,a2 as on,a3 as ke,a4 as Ni,a5 as Si,a6 as Ei,a7 as Di,a8 as be,a9 as Ai,aa as Ii,ab as Mi,ac as Ci,ad as wi,ae as rn,af as ln,ag as dn,ah as Ri,ai as Ki,aj as $i,ak as Fi,al as Bi}from"./Cw7n8JXL-1733304862531.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();const Ta={SIDERBARMINIFY:"SIDERBARMINIFY",TOOGLESIDEBAR:"TOOGLESIDEBAR",SIDEBAR:"SIDEBAR",HEADER:"HEADER",CONTENT:"CONTENT",FOOTER:"FOOTER"},zi=a=>({type:Ta.SIDERBARMINIFY,payload:a}),Ui=a=>({type:Ta.TOOGLESIDEBAR,payload:a}),Oi=a=>({type:Ta.SIDEBAR,payload:a}),Gi=a=>({type:Ta.HEADER,payload:a}),Hi=a=>({type:Ta.CONTENT,payload:a}),Ji=a=>({type:Ta.FOOTER,payload:a}),ua={handleSetFooter:Ji,handleSetContent:Hi,handleSetPageHeader:Gi,handleSetPageSidebar:Oi,appSidebarEndMobileToggled:Ui,appSidebarMinify:zi},oa={HIDE_MODAL:"HIDE_MODAL",SHOW_MODAL:"SHOW_MODAL",IS_LOADING:"IS_LOADING",IS_EDIT:"IS_EDIT",GET_DATA_EDIT:"GET_DATA_EDIT",LOADING_TABEL:"LOADING_TABEL",SIMPAN_DATA_TMP:"SIMPAN_DATA_TMP",SHOW_BUTTON_DELETE:"SHOW_BUTTON_DELETE",SCREEN_SIZE:"SCREEN_SIZE",DATA_NOTA:"DATA_NOTA",GET_MODULE:"GET_MODULE",GET_KODE_TOKO:"GET_KODE_TOKO"},C=({icon:a,tooltipText:e,onClick:i,disabled:o,type:s="button",color:n="default",block:r,className:d,children:l})=>t.jsx(za,{title:e,children:t.jsx("span",{children:t.jsx("button",{disabled:o,type:s,onClick:i,className:`btn btn-${n} ${d||""} ${r?"d-block w-100":""}`,children:l||t.jsx("i",{className:`fas ${a}`})})})}),Xa=({tooltipText:a,onClick:e,confirmText:i="Konfirmasi Hapus Data ! ",confirmDescription:o="Yakin Ingin Menghapus Data Ini ?",usePopconfirm:s=!1,block:n,className:r,children:d,placement:l="top"})=>{const u=t.jsx("span",{onClick:s?void 0:e,className:` ${r||""} ${n?"d-block w-100":""}`,children:d});return t.jsx(za,{title:a,children:s?t.jsx(Zt,{title:i,description:o,onConfirm:e,okText:"Yes",placement:l,cancelText:"No",children:u}):u})},$a=a=>{const e=I(s=>s.utility),[i,o]=j.useState(!1);return t.jsx(za,{title:a.tooltipText,children:t.jsx("span",{children:t.jsx(Zt,{title:"Konfirmasi Hapus Data ! ",description:"Yakin Ingin Menghapus Data Ini ?",open:i,onConfirm:()=>a.prosesDelete(),okButtonProps:{loading:e.getLoading.button},onCancel:()=>o(!1),children:t.jsx(C,{disabled:a.disabled,color:"red",onClick:()=>o(!0),children:t.jsx("i",{className:"fa fa-trash"})})})})})},La="b3r4sput1h",ye=a=>{const e={};for(let n=0;n<(La==null?void 0:La.length);n++)e[n]=La==null?void 0:La.substr(n,1);let i="",o=0;const s=a.length;for(let n=0;n<parseInt(s);n++)i=i+Vi(a[n].charCodeAt(0)+e[o].charCodeAt(0)),o===Object.keys(e).length-1&&(o=0),o=o+1;return i.toUpperCase()},xe=a=>{if(a){const e={};for(let r=0;r<(La==null?void 0:La.length);r++)e[r]=La==null?void 0:La.substr(r,1);let i="",o=0;const s=a.length;let n=0;for(;n<parseInt(s);)i=i+Wi(qi(a.substr(n,2))-e[o].charCodeAt(0)),o===Object.keys(e).length-1&&(o=0),o=o+1,n=n+2;return i}},Vi=a=>{let e="";return e=a.toString(16),e},qi=a=>{let e="";return e=parseInt(a,16),e},Wi=a=>{let e="";return e=String.fromCharCode(a),e},Ia=(a,e=[])=>{if(!a)return a;if(typeof a=="object"&&!(a instanceof Date)){const i=Array.isArray(a)?[...a]:{...a};return Object.keys(i).map(o=>(e.find(n=>n===o)||(Array.isArray(i[o])?i[o]=i[o].map(n=>typeof n=="string"?ye(n):typeof i[o]=="object"&&i[o]&&!(i[o]instanceof Date)?Ia(n,e):!1):typeof i[o]=="string"&&i[o]?i[o]=ye(i[o]):typeof i[o]=="number"&&i[o]||typeof i[o]=="object"&&i[o]&&!(a instanceof Date)&&(i[o]=Ia(i[o],e))),!1)),i}else if(typeof a=="string")return ye(a)},le=(a,e=[])=>{if(!a)return a;if(typeof a=="object"&&!(a instanceof Date)){const i=Array.isArray(a)?[...a]:{...a};return Object.keys(i).map(o=>(e.find(n=>n===o)||(Array.isArray(i[o])?i[o]=i[o].map(n=>typeof n=="string"?xe(n):typeof i[o]=="object"&&i[o]&&!(i[o]instanceof Date)?le(n,e):!1):typeof i[o]=="string"&&i[o]?i[o]=xe(i[o]):typeof i[o]=="number"&&i[o]||typeof i[o]=="object"&&i[o]&&!(a instanceof Date)&&(i[o]=le(i[o],e))),!1)),i}else if(typeof a=="string")return xe(a)};var Yi={VITE_APP_KEY:"kresno",VITE_APP_SECRETKEY:"kresno",VITE_APP_ENCRYPTION_MODE:"1",VITE_APP_VERSION:"152",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_SECRETKEY:cn,VITE_APP_KEY:Xi}=Yi;let re="",Ma=window.globalConfig||{};re=le(Ma);Ma=JSON==null?void 0:JSON.parse(re==null?void 0:re.replaceAll("~",""));const Ua=Ma.VITE_APP_BE,ma=Ma.VITE_APP_KODE_TOKO;Ma.VITE_APP_FIREBASE_NAME;const un=Ma.VITE_APP_VERSION,ce=Ma.VITE_APP_NAMA_TOKO,ue=Ma.VITE_APP_ALAMAT_TOKO,Zi=Ma.VITE_APP_BASE_URL,me=un==="PUSAT";function bt(a,e){const i=d=>{const[l,u]=d.split(":").map(Number),m=new Date;return m.setHours(l,u,0,0),m},o=i(a);return(i(e).getTime()-o.getTime())/(1e3*60*60)>1}function Qi(a,e){const[i,o]=a.split(":").map(Number),[s,n]=e.split(":").map(Number),r=new Date;r.setHours(i,o,0,0);const d=new Date;return d.setHours(s,n,0,0),(d.getTime()-r.getTime())/(1e3*60*60)}function as(a,e){const[i,o]=a.split(":").map(Number),[s,n]=e.split(":").map(Number),r=new Date;r.setHours(i,o,0,0);const d=new Date;return d.setHours(s,n,0,0),(d.getTime()-r.getTime())/(1e3*60)}const va=a=>X("dataToko").find(i=>i.kode_toko===a);function mn(a){const e=a.getFullYear(),i=a.getMonth(),o=new Date(e,i,31),s=new Date(e,i,30);return o.getMonth()===i?o:s}const Za=a=>{const e=new SpeechSynthesisUtterance(a);new Promise(o=>{let s=speechSynthesis.getVoices();s.length?o(s):speechSynthesis.onvoiceschanged=()=>{s=speechSynthesis.getVoices(),o(s)}}).then(o=>{const s=o.filter(n=>n.lang==="id-ID");s.length>0?e.voice=s[1]:console.warn("No Indonesian voice found"),e.lang="id-ID",speechSynthesis.speak(e)})},es=a=>t.jsx("div",{id:"cover-spin",style:{display:a.loading?"block":"none"}}),da=a=>{const e=document.getElementById(a);e&&e.focus()},ts=a=>{const i=a.slice(0,-4).replace(/\d/g,"*"),o=a.slice(-4);return i+o},pn=()=>{let a="";return a||(a=window.innerWidth>=1200?"lg":window.innerWidth>=600?"md":window.innerWidth>=375?"sm":window.innerWidth>=300?"xs":"xxs",window.addEventListener("resize",function(){const e=window.innerWidth>=1200?"lg":window.innerWidth>=600?"md":window.innerWidth>=375?"sm":window.innerWidth>=300?"xs":"xxs";e!==a&&(a=e)})),a},X=a=>{if(typeof window<"u"){const e=Ia(a),i=localStorage.getItem(e);return i!==null?le(JSON.parse(i)):[]}return[]},ka=(a,e)=>{if(typeof window<"u"){const i={nama:Ia(a),data:Ia(e)};localStorage.setItem(i.nama,JSON.stringify(i.data))}},ns=a=>{typeof window<"u"&&localStorage.removeItem(Ia(a))},se=a=>{try{const e=new Audio;e.src=a,e.play().catch(i=>{console.error("Error playing sound:",i)})}catch(e){console.log(e)}},is=a=>a&&a.replace(" ","_"),Fa=X("userdata");new Date().toISOString();function Y(a,e){const i=Qt(new Date(a));return i.isValid()?i.format(e?"DD-MM-YYYY":"YYYY-MM-DD"):""}function ae(a){return Qt(new Date(a),"Asia/Jakarta").format("DD-MM-YYYY HH:mm:ss")}const ss=a=>{let e;typeof a=="string"?e=new Date(a):e=a;const i=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");return[e.getFullYear(),i,o].join("-")},te=a=>{const e=X("userdata");return an.SHA256(Xi+cn+((e==null?void 0:e.access_token)||"")+a).toString()},os=()=>an.SHA256(cn).toString(),gn=a=>{const e=document.createElement("a"),i=document.getElementById("nota_ganerate");if(i){const o=new Blob([i==null?void 0:i.value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(o),e.download=a+".txt",document.body.appendChild(e),e.click()}},Ka=(a=100)=>new Promise(e=>setTimeout(e,a)),F=a=>a?a==null?void 0:a.replaceAll("_"," "):"",rs=(a,e)=>{const i=new Date(a);return i.setDate(i.getDate()+e),i};function K({type:a,status:e}){switch(a){case"jam_datang":return e==="ONTIME"?"#D5E7D4":e==="LATE"?"#F7CECC":e==="CUTI"?"#FFDA78":e==="LIBUR"?"#FFFFFF":e==="NONE"?"#EEEEEE":"#F7CECC";case"jam_pulang":return e==="ONTIME"?"#D5E7D4":e==="EARLY"?"#ebc9b2":e==="CUTI"?"#FFDA78":e==="LIBUR"?"#FFFFFF":e==="NONE"?"#EEEEEE":"#F7CECC";case"isoma":return e==="ONTIME"?"#D5E7D4":e==="OVERTIME"?"#FFE6CC":e==="CUTI"?"#FFDA78":e==="LIBUR"?"#FFFFFF":e==="NONE"?"#EEEEEE":"#F7CECC";default:return"#F7CECC"}}function hn(a,e){const[i,o]=a.split(":").map(Number),[s,n]=e.split(":").map(Number);if(isNaN(i)||isNaN(o)||isNaN(s)||isNaN(n))return 0;const r=i*60+o,d=s*60+n;return Math.abs(d-r)}const ls=a=>{const[e,i]=j.useState(!0),o=s=>{navigator.clipboard.writeText(s).then(()=>{kt.success("Copy Success")},()=>{kt.error("Copy Failed")})};return t.jsx("div",{onMouseEnter:()=>i(!1),onMouseLeave:()=>i(!0),onClick:()=>o(a.text),style:{cursor:"pointer"},children:e?ts(a.text):a.text})},ds=({onChange:a,keyboardRef:e,onKeyPress:i,capsLock:o})=>t.jsx(ai,{keyboardRef:s=>e.current=s,onChange:a,onKeyPress:i,layout:{default:["1 2 3 4 5 6 7 8 9 0 {bksp}","q w e r t y u i o p","a s d f g h j k l {enter}","{shift} z x c v b n m {lock}"],shift:["1 2 3 4 5 6 7 8 9 0 {bksp}","Q W E R T Y U I O P","A S D F G H J K L {enter}","{shift} Z X C V B N M {lock}"]},layoutName:o?"shift":"default",display:{"{bksp}":"⌫","{enter}":"⏎","{lock}":o?"⇪":"⇧","{shift}":"Shift"},theme:"hg-theme-default hg-layout-default myTheme"}),cs={apiKey:"AIzaSyB1JES7FtWNBoz9obp-5Z6HifP5XCsUsOI",authDomain:"gambar-78b2b.firebaseapp.com",projectId:"gambar-78b2b",storageBucket:"gambar-78b2b.appspot.com",messagingSenderId:"694976070405",appId:"1:694976070405:web:eef580e9823e39e64dad6c",measurementId:"G-YX2KKT4KRH"};ei.initializeApp(cs);const pe=/Unauthorized|Invalid token|Invalid signature|Token Tidak Ditemukan/i,ne=async()=>{const a=X("userdata");try{const e=await us();ka("userdata",{...a,access_token:e.access_token,refresh_token:e.refresh_token}),setTimeout(()=>{window.location.reload()},3e3)}catch(e){/Refresh Token is Expire/i.test(`${e}`)?ie():ne()}},ie=async()=>{setTimeout(()=>{localStorage.clear(),window.location.reload()},3e3)};async function H(a,e){const i=X("userdata"),o=`${Ua}/${a}`,s=new Date().toISOString(),n=te(s),r={headers:{timestamp:s,signature:n,Accept:"application/json",Authorization:i.access_token?`Bearer ${i.access_token}`:void 0},params:e};return new Promise((d,l)=>{Aa.get(o,r).then(u=>{d(u.data)}).catch(async u=>{if(Aa.isAxiosError(u)){const m=u;if(m.response){const{data:g}=m.response,k=g&&g.message?g.message:"Unknown error";/Token is Expired/i.test(k)&&ne(),pe.test(k)&&ie(),l(`${k}`)}else m.request,l(m.message)}else l("Tidak Terhubung Ke Server")})})}async function aa(a,e){const i=`${Ua}/${a}`,o=new Date().toISOString(),s=te(o),n=os(),r=X("userdata"),d={headers:{timestamp:o,signature:s,user_id:r==null?void 0:r.user_id,Accept:"application/json","secret-key":n,Authorization:a!=="auth/login"?`Bearer ${r.access_token||""}`:void 0}};return new Promise((l,u)=>{Aa.post(i,Ia(e),d).then(m=>{l(m.data)}).catch(async m=>{if(Aa.isAxiosError(m)){const g=m;if(g.response){const{data:k}=g.response,h=k&&k.message?k.message:"Unknown error";/Token is Expired/i.test(h)&&ne(),pe.test(h)&&ie(),u(`${h}`)}else g.request,u(g.message||"Terjadi kesalahan saat mengirim data")}else u("Tidak Terhubung Ke Server")})})}async function ba(a,e){const i=`${Ua}/${a}`,o=new Date().toISOString(),s=te(o),n=X("userdata"),r={headers:{timestamp:o,signature:s,Accept:"application/json",user_id:n==null?void 0:n.user_id,Authorization:`Bearer ${(n==null?void 0:n.access_token)||""}`}};return new Promise((d,l)=>{Aa.put(i,Ia(e),r).then(u=>{d(u.data)}).catch(async u=>{if(Aa.isAxiosError(u)){const m=u;if(m.response){const{data:g}=m.response,k=g&&g.message?g.message:"Unknown error";/Token is Expired/i.test(k)&&ne(),pe.test(k)&&ie(),l(`${k}`)}else m.request,l(m.message||"Terjadi kesalahan saat mengirim data")}else l("Tidak Terhubung Ke Server")})})}async function ya(a,e){const i=`${Ua}/${a}`,o=new Date().toISOString(),s=te(o),n=X("userdata"),r={headers:{timestamp:o,signature:s,Accept:"application/json",user_id:n==null?void 0:n.user_id,Authorization:`Bearer ${(n==null?void 0:n.access_token)||""}`},params:e};return new Promise((d,l)=>{Aa.delete(i,r).then(u=>{d(u.data)}).catch(async u=>{if(Aa.isAxiosError(u)){const m=u;if(m.response){const{data:g}=m.response,k=g&&g.message?g.message:"Unknown error";/Token is Expired/i.test(k)&&ne(),pe.test(k)&&ie(),l(`${k}`)}else m.request,l(m.message||"Terjadi kesalahan saat mengirim data")}else l("Tidak Terhubung Ke Server")})})}const us=async()=>{const a=`${Ua}/auth/refresh`,e=new Date().toISOString(),i=te(e),o=X("userdata"),s={headers:{timestamp:e,signature:i,Accept:"application/json",user_id:o.user_id,Authorization:`Bearer ${(o==null?void 0:o.access_token)||""}`}},n={user_id:X("userdata").user_id,refresh_token:X("userdata").refresh_token};return(await Aa.post(a,Ia(n),s)).data},Ea=pn();let Da=!1;const _n=a=>{const{title:e,textBody:i,html:o,icon:s}=a;return new Promise((n,r)=>{en.fire({title:e,text:i,html:o,icon:s,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(d=>{d.isConfirmed?n(!0):r(!1)})})},kn=a=>{const{title:e,textBody:i,html:o,icon:s,time:n}=a;return new Promise((r,d)=>{en.fire({title:e,text:i,html:o,timer:n,icon:s}).then(l=>{l.isConfirmed?r(!0):d(!1)})})},$=(a,e="top-right")=>{if(Da)return;Da=!0;const i={position:e,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};return setTimeout(()=>{Da=!1},5e3),Ea==="xs"||Ea==="md"||Ea==="sm"?Le.success(a):Pe.success(a,i)},bn=(a,e="top-right")=>{if(Da)return;Da=!0;const i={position:e,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};return setTimeout(()=>{Da=!1},5e3),Ea==="xs"||Ea==="md"||Ea==="sm"?Le.error(a):Pe.error(a,i)},v=(a,e="top-right")=>{if(Da)return;Da=!0;const i={position:e,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};return setTimeout(()=>{Da=!1},5e3),Ea==="xs"||Ea==="md"||Ea==="sm"?Le(a,{icon:"ℹ️"}):Pe.info(a,i)},ca=({input:a,type:e,readOnly:i,placeholder:o,value:s,id:n})=>t.jsx("input",{...a,autoComplete:"off",type:e,id:n,className:"form-control",readOnly:i,defaultValue:s,placeholder:o}),N=({input:a,label:e,type:i,readOnly:o,placeholder:s,id:n,ref:r,customeCss:d,min:l,max:u,minLength:m,maxLength:g,stylelabel:k,iconOptional:h,optionalLabel:f,titleTooltip:P,noUpperCase:S,meta:A,enableenter:T,inputGroup:_,left:B,right:b,handleClick:E,textIconGroup:x,isNumber:R,accept:y})=>{var w,J;const U=(A==null?void 0:A.touched)&&(A==null?void 0:A.error);return t.jsxs("div",{className:"mb-3",children:[e&&t.jsxs("label",{className:"form-floating mb-2",style:k,children:[e||t.jsx(t.Fragment,{children:" "})," ",f&&t.jsx(t.Fragment,{children:t.jsxs("span",{style:{color:"#b8b8b8"},children:["(",f,")"]})}),h&&t.jsxs(t.Fragment,{children:[" ",t.jsx(za,{placement:"right",title:P,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),t.jsxs("div",{className:_?"input-group":"",children:[_&&B&&t.jsx("span",{onClick:()=>E&&E(),className:"input-group-text",children:x}),t.jsx("input",{...a,onKeyPress:W=>{!T&&W.key==="Enter"&&W.preventDefault()},ref:r,autoComplete:"off",id:n,type:i,accept:i==="file"?y:"",value:i==="file"?(w=a==null?void 0:a.target)==null?void 0:w.files:S||i==="date"?a==null?void 0:a.value:R||typeof(a==null?void 0:a.value)=="number"?Number(a==null?void 0:a.value):(J=a==null?void 0:a.value)==null?void 0:J.toUpperCase(),className:`form-control  ${U?"is-invalid":""} ${A.valid?o===void 0&&"is-valid":""} ${d||""}`,readOnly:o,minLength:m,maxLength:g,min:l,max:u,placeholder:s,style:{textTransform:S?"none":"uppercase",lineHeight:"1.9"}}),_&&b&&t.jsx("span",{onClick:()=>E&&E(),style:{cursor:E?"pointer":"auto"},className:"input-group-text",children:x}),U&&t.jsxs("div",{className:"invalid-feedback",children:[A==null?void 0:A.error,"."]})]})]})},ra=({label:a,meta:e,options:i,optionalLabel:o,iconOptional:s,titleTooltip:n,input:r,noUpperCase:d,placeholder:l,async:u,disabled:m,asyncOptions:g})=>{const k=f=>{var S;const P=f?typeof f.value=="number"||d?f.value:(S=f.value)==null?void 0:S.toUpperCase():"";r.onChange(P)},h=(e==null?void 0:e.touched)&&(e==null?void 0:e.error);return t.jsxs("div",{className:"form-group",children:[a&&t.jsxs("label",{className:"mb-2",children:[a,o&&t.jsxs("span",{style:{color:"#b8b8b8"},children:[" ( ",o," )"]}),s&&t.jsxs(t.Fragment,{children:[" ",t.jsx(za,{placement:"right",title:n,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),u?t.jsx(ti,{onChange:k,loadOptions:g,cacheOptions:!1,placeholder:l==null?void 0:l.toUpperCase(),isClearable:!0,closeMenuOnSelect:!0,styles:{menu:f=>({...f,zIndex:9999,textTransform:d?"none":"uppercase",minHeight:"30px"}),control:(f,{isFocused:P})=>{const S=!!r.value;return{...f,boxShadow:"none",borderColor:h?"#ff5b57":P||S?"#00acac":"#d9d9d9","&:hover":{borderColor:h?"#ff5b57":P||S?"#00acac":"#d9d9d9"}}}}}):t.jsx(ni,{isDisabled:m,options:i,placeholder:l==null?void 0:l.toUpperCase(),isClearable:!0,closeMenuOnSelect:!0,value:i.find(f=>f.value===r.value)||null,onChange:k,styles:{menu:f=>({...f,zIndex:9999,textTransform:d?"none":"uppercase",minHeight:"30px"}),control:(f,{isFocused:P})=>{const S=!!r.value;return{...f,boxShadow:"none",borderColor:h?"#ff5b57":P||S?"#00acac":"#d9d9d9","&:hover":{borderColor:h?"#ff5b57":P||S?"#00acac":"#d9d9d9"}}}},className:`${h?"is-invalid":""} ${e.valid?"is-valid":""}`}),h&&t.jsxs("div",{className:"invalid-feedback",children:[e==null?void 0:e.error,"."]})]})},ha=({label:a,placeholder:e,input:i,isRp:o,type:s,noUpperCase:n,readOnly:r,meta:d,id:l,customeCss:u,optionalLabel:m,stylelabel:g,iconOptional:k,titleTooltip:h,inputGroup:f,left:P,textIconGroup:S,right:A,value:T,handleClick:_})=>{const B=E=>{i.onChange(E.floatValue||0)},b=(d==null?void 0:d.touched)&&(d==null?void 0:d.error);return t.jsxs("div",{className:`mb-3 ${s==="hidden"?"d-none":"d-block"}`,children:[a&&t.jsxs("label",{className:"form-floating mb-2",style:g,children:[a||t.jsx(t.Fragment,{children:" "})," ",m&&t.jsx(t.Fragment,{children:t.jsxs("span",{style:{color:"#b8b8b8"},children:["(",m,")"]})}),k&&t.jsxs(t.Fragment,{children:[" ",t.jsx(za,{placement:"right",title:h,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),t.jsxs("div",{className:f?"input-group":"",children:[f&&P&&t.jsx("span",{onClick:()=>_&&_(),className:"input-group-text",children:S}),t.jsx(je,{id:l,allowLeadingZeros:!0,readOnly:r,thousandSeparator:o?",":"",onValueChange:B,placeholder:e,style:{textTransform:n?"none":"uppercase",lineHeight:"1.9"},className:`form-control ${b&&"is-invalid "} ${d.valid&&"is-valid"} ${u||""} `,value:T||i.value,onFocus:E=>E.target.select()}),f&&A&&t.jsx("span",{onClick:()=>_&&_(),style:{cursor:_?"pointer":"auto"},className:"input-group-text",children:S}),b&&t.jsxs("div",{className:"invalid-feedback",children:[d==null?void 0:d.error,"."]})]})]})},Se=({label:a,readOnly:e,placeholder:i,id:o,customeCss:s,minLength:n,input:r,maxLength:d,stylelabel:l,iconOptional:u,optionalLabel:m,titleTooltip:g,noUpperCase:k,meta:h,enableenter:f,inputGroup:P,left:S,right:A,handleClick:T,textIconGroup:_,height:B,width:b})=>{var x;const E=(h==null?void 0:h.touched)&&(h==null?void 0:h.error);return t.jsxs("div",{className:"mb-3",children:[a&&t.jsxs("label",{className:"form-floating mb-2",style:l,children:[a||t.jsx(t.Fragment,{children:" "}),m&&t.jsxs("span",{style:{color:"#b8b8b8"},children:["(",m,")"]}),u&&t.jsxs(t.Fragment,{children:[" ",t.jsx(za,{placement:"right",title:g,children:t.jsx("i",{className:"fa fa-info-circle iconOptional",style:{color:"#b8b8b8"}})})]})]}),t.jsxs("div",{className:P?"input-group":"",children:[P&&S&&t.jsx("span",{onClick:T,className:"input-group-text",id:o,style:{cursor:T?"pointer":"auto"},children:_}),t.jsx("textarea",{...r,onKeyPress:R=>{!f&&R.key==="Enter"&&R.preventDefault()},autoComplete:"off",id:o,className:`form-control ${E?"is-invalid":""} ${h.valid&&e===void 0?"is-valid":""} ${s||""}`,readOnly:e,minLength:n,maxLength:d,placeholder:i,rows:B,cols:b,value:k?r==null?void 0:r.value:(x=r==null?void 0:r.value)==null?void 0:x.toUpperCase(),style:{textTransform:k?"none":"uppercase",lineHeight:"1.9"}}),P&&A&&t.jsx("span",{onClick:T,className:"input-group-text",id:o,style:{cursor:T?"pointer":"auto"},children:_}),E&&t.jsxs("div",{className:"invalid-feedback",children:[h==null?void 0:h.error,"."]})]})]})},yt=async({title:a,columns:e,data:i,grouping:o,date:s,grandTotalSetting:n,dataToko:r})=>{const d=new ii.Workbook;e=e.filter(T=>{var _;return!((_=T.options)!=null&&_.disabledColumn)});const l=d.addWorksheet(a),u=e.length,m=l.addRow([]);m.getCell(1).value=a,m.getCell(1).alignment={horizontal:"center"},l.mergeCells(`A${m.number}:${String.fromCharCode(64+u)}${m.number}`),m.eachCell(T=>{T.font={color:{argb:"000000"},bold:!0,size:12}});const g=l.addRow([]);g.getCell(1).value=(r==null?void 0:r.nama_toko)||X("dataSystem").nama_toko||"",g.getCell(1).alignment={horizontal:"center"},l.mergeCells(`A${g.number}:${String.fromCharCode(64+u)}${g.number}`),g.eachCell(T=>{T.font={color:{argb:"000000"},bold:!0,size:12}});const k=l.addRow([]);if(k.getCell(1).value=(r==null?void 0:r.alamat_toko)||X("dataSystem").alamat_toko||"",k.getCell(1).alignment={horizontal:"center"},l.mergeCells(`A${k.number}:${String.fromCharCode(64+u)}${k.number}`),k.eachCell(T=>{T.font={color:{argb:"000000"},bold:!0,size:12}}),s){const T=l.addRow([]);T.getCell(1).value=`Tanggal : ${Y(String((s==null?void 0:s.start_date)||(s==null?void 0:s.tgl_system)||new Date),!0)} ${s!=null&&s.end_date?`S/D ${Y(String(s==null?void 0:s.end_date),!0)}`:""}`,T.getCell(1).alignment={horizontal:"center"},l.mergeCells(`A${T.number}:${String.fromCharCode(64+u)}${T.number}`),T.eachCell(_=>{_.font={color:{argb:"000000"},bold:!0,size:12}})}l.addRow(e).eachCell(T=>{var B,b,E,x;T.fill={type:"pattern",pattern:"solid",fgColor:{argb:"E8E5E5"},bgColor:{argb:"E8E5E5"}},T.font={color:{argb:"000000"},bold:!0};const _=T.value;T.value&&(T.alignment={horizontal:`${(B=_==null?void 0:_.options)!=null&&B.halign?(b=_==null?void 0:_.options)==null?void 0:b.halign:((E=_==null?void 0:_.options)==null?void 0:E.format)==="RP"||((x=_==null?void 0:_.options)==null?void 0:x.format)==="GR"?"right":"left"}`},T.value=_.label)});const f={};if(i.forEach(T=>{if(o.length>0){const _=o.map(E=>({value:T[E]!==void 0?`${ms(E)} : `+T[E]:""})),B=l.addRow(_.map(E=>E.value));B.eachCell({includeEmpty:!0},E=>{E.border={top:{style:"thin",color:{argb:"FF000000"}},bottom:{style:"thin",color:{argb:"FF000000"}}}}),l.mergeCells(`A${B.number}:${String.fromCharCode(64+Number(e.length))}${B.number}`);const b={};if(T.detail.forEach(E=>{const x=e.map(y=>{var _a,xa,Sa,Pa,Ca,wa,Ga,Ha,Ja,Va,qa,Wa;const U=((_a=y==null?void 0:y.options)==null?void 0:_a.format)==="DATETIME"?E[y.key]===void 0?ae(E[y.key]):"":((xa=y==null?void 0:y.options)==null?void 0:xa.format)==="DATE"?E[y.key]!==void 0?Y(E[y.key],!0):"":E[y.key],w={horizontal:(Sa=y==null?void 0:y.options)!=null&&Sa.halign?(Pa=y==null?void 0:y.options)==null?void 0:Pa.halign:((Ca=y==null?void 0:y.options)==null?void 0:Ca.format)==="RP"||((wa=y==null?void 0:y.options)==null?void 0:wa.format)==="GR"?"right":"left"},J=(Ga=y==null?void 0:y.options)!=null&&Ga.render?(Ja=(Ha=y==null?void 0:y.options)==null?void 0:Ha.render(U,E).styles)==null?void 0:Ja.fillColor:"",W={fgColor:J==null?void 0:J.replace("#",""),bgColor:J==null?void 0:J.replace("#","")},ea=y.key;f[ea]=(f[ea]||0)+Number(U),b[ea]=(b[ea]||0)+Number(U);const na=!!((Va=y==null?void 0:y.options)!=null&&Va.render);return{value:U,alignment:w,fill:W,isRender:na,numFmt:((qa=y==null?void 0:y.options)==null?void 0:qa.format)==="RP"?"#,##0":((Wa=y==null?void 0:y.options)==null?void 0:Wa.format)==="GR"?"#,##0.000":void 0}}),R=l.addRow(x.map(y=>y.value));x.forEach((y,U)=>{const w=R.getCell(U+1);w.alignment=y.alignment,y.isRender&&(w.fill={type:"pattern",pattern:"solid",fgColor:{argb:`${y.fill.fgColor}`},bgColor:{argb:`${y.fill.bgColor}`}}),y.numFmt&&(w.numFmt=y.numFmt)})}),!(n!=null&&n.disableSubtotalTotal)){const E=l.addRow(e.map(()=>null));e.forEach((x,R)=>{var y,U,w;if(((y=x==null?void 0:x.options)==null?void 0:y.format)==="RP"||((U=x==null?void 0:x.options)==null?void 0:U.format)==="GR"){const W=i.length+4-1,ea=`SUM(${String.fromCharCode(65+R)}4:${String.fromCharCode(65+R)}${W})`,na=E.getCell(R+1);E.getCell(1).value="SUB TOTAL",E.getCell(1).alignment={horizontal:"center"},na.numFmt=((w=x==null?void 0:x.options)==null?void 0:w.format)==="GR"?"#,##0.000":"#,##0",na.value={formula:ea},E.getCell(R+1).value=x!=null&&x.options.disabledFooter?"":b[x.key]}else E.getCell(R+1).value=""}),E.eachCell(x=>{x.fill={type:"pattern",pattern:"solid",fgColor:{argb:"E8E5E5"},bgColor:{argb:"E8E5E5"}},x.font={color:{argb:"000000"},bold:!0}})}}else{const _=e.map(b=>{var y,U,w,J,W,ea,na,_a;const E=((y=b==null?void 0:b.options)==null?void 0:y.format)==="DATETIME"?T[b.key]!==void 0?ae(T[b.key]):"":((U=b==null?void 0:b.options)==null?void 0:U.format)==="DATE"?T[b.key]!==void 0?Y(T[b.key],!0):"":T[b.key],x={horizontal:(w=b==null?void 0:b.options)!=null&&w.halign?(J=b==null?void 0:b.options)==null?void 0:J.halign:((W=b==null?void 0:b.options)==null?void 0:W.format)==="RP"||((ea=b==null?void 0:b.options)==null?void 0:ea.format)==="GR"?"right":"left"},R=b.key;return f[R]=(f[R]||0)+Number(E),{value:E,alignment:x,numFmt:((na=b==null?void 0:b.options)==null?void 0:na.format)==="RP"?"#,##0":((_a=b==null?void 0:b.options)==null?void 0:_a.format)==="GR"?"#,##0.000":void 0}}),B=l.addRow(_.map(b=>b.value));_.forEach((b,E)=>{const x=B.getCell(E+1);x.alignment=b.alignment,b.numFmt&&(x.numFmt=b.numFmt)})}}),!(n!=null&&n.disableSubtotalTotal)){const T=l.addRow(e.map(()=>null));e.forEach((_,B)=>{var b,E,x;if(((b=_==null?void 0:_.options)==null?void 0:b.format)==="RP"||((E=_==null?void 0:_.options)==null?void 0:E.format)==="GR"){const y=i.length+4-1,U=`SUM(${String.fromCharCode(65+B)}4:${String.fromCharCode(65+B)}${y})`,w=T.getCell(B+1);T.getCell(1).value="GRAND TOTAL",T.getCell(1).alignment={horizontal:"center"},w.numFmt=((x=_==null?void 0:_.options)==null?void 0:x.format)==="GR"?"#,##0.000":"#,##0",w.value={formula:U},T.getCell(B+1).value=_!=null&&_.options.disabledFooter?"":f[_.key]}else T.getCell(B+1).value=""}),n!=null&&n.colSpan&&l.mergeCells(`A${T.number}:${String.fromCharCode(64+Number(n==null?void 0:n.colSpan))}${T.number}`),T.eachCell(_=>{_.fill={type:"pattern",pattern:"solid",fgColor:{argb:"E8E5E5"},bgColor:{argb:"E8E5E5"}},_.font={color:{argb:"000000"},bold:!0}})}const P=await d.xlsx.writeBuffer(),S=new Blob([P],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),A=document.createElement("a");A.href=URL.createObjectURL(S),A.download=`${a}.xlsx`,document.body.appendChild(A),A.click(),document.body.removeChild(A)},ms=a=>a.split("_").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),xt=({title:a,columns:e,data:i,grouping:o,formatPdf:s,date:n,grandTotalSetting:r,dataToko:d})=>{const l=new de(s.orientation,s.unit,[s.width||297,s.height||210]),u=[];let m=30;e=e.filter(b=>{var E;return!((E=b.options)!=null&&E.disabledColumn)});const g=l.internal.pageSize.getWidth();l.setFontSize(10),l.text((d==null?void 0:d.nama_toko)||X("dataSystem").nama_toko,15,18);const k=(d==null?void 0:d.alamat_toko)||X("dataSystem").nama_toko,h=l.splitTextToSize(k,100);l.text(h,15,22),l.text(a,g-15,18,{align:"right"}),n&&l.text(`Tanggal : ${Y(String((n==null?void 0:n.start_date)||(n==null?void 0:n.tgl_system)),!0)} ${n!=null&&n.end_date?`S/D ${Y(String(n==null?void 0:n.end_date),!0)}`:""}`,g-15,22,{align:"right"}),l.setProperties({title:a});const f=e.map(b=>{var E,x,R,y;return{content:b.label,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:(E=b==null?void 0:b.options)!=null&&E.halign?(x=b==null?void 0:b.options)==null?void 0:x.halign:((R=b==null?void 0:b.options)==null?void 0:R.format)==="RP"||((y=b==null?void 0:b.options)==null?void 0:y.format)==="GR"?"right":"left"}}});u.push(f);const P={};i.forEach(b=>{if(o.length>0){const E=o.map(y=>({content:b[y]!==void 0?`${ps(y)} : `+b[y]:"",colSpan:e.length,styles:{lineColor:"#000",lineWidth:{top:.1,right:0,bottom:.3,left:0}}}));u.push(E);const x={};b.detail.forEach(y=>{const U=e.map(w=>{var ea,na,_a,xa,Sa,Pa,Ca;const J=y[w.key],W=w.key;return P[W]=(P[W]||0)+Number(J),x[W]=(x[W]||0)+Number(J),(ea=w.options)!=null&&ea.render?w.options.render(J,y):{content:(()=>{var wa;switch((wa=w==null?void 0:w.options)==null?void 0:wa.format){case"RP":return y[w.key]!==void 0?Number(y[w.key]||0).toLocaleString("kr-ko"):"";case"GR":return y[w.key]!==void 0?Number(y[w.key]||0).toFixed(3):"";case"DATETIME":return y[w.key]!==void 0?ae(y[w.key]||new Date):"";case"DATE":return y[w.key]!==void 0?Y(y[w.key]||new Date,!0):"";default:return y[w.key]!==void 0?y[w.key].toString():""}})(),styles:{textColor:((na=w.options)==null?void 0:na.textColor)||"#000",fillColor:((_a=w.options)==null?void 0:_a.bgColor)||"#ffffff",halign:(xa=w==null?void 0:w.options)!=null&&xa.halign?(Sa=w==null?void 0:w.options)==null?void 0:Sa.halign:((Pa=w==null?void 0:w.options)==null?void 0:Pa.format)==="RP"||((Ca=w==null?void 0:w.options)==null?void 0:Ca.format)==="GR"||typeof y[w.key]=="number"?"right":"left"}}});u.push(U)});const R=[];if(e.forEach(y=>{var w,J,W,ea,na,_a,xa;const U=x[y.key];if(((w=y==null?void 0:y.options)==null?void 0:w.format)==="RP"||((J=y==null?void 0:y.options)==null?void 0:J.format)==="GR"){const Sa={content:(W=y==null?void 0:y.options)!=null&&W.disabledFooter?"":(()=>{var Pa;switch((Pa=y==null?void 0:y.options)==null?void 0:Pa.format){case"RP":return U.toLocaleString("kr-ko");case"GR":return U.toFixed(3);default:return U.toString()}})(),styles:{halign:(ea=y==null?void 0:y.options)!=null&&ea.halign?(na=y==null?void 0:y.options)==null?void 0:na.halign:((_a=y==null?void 0:y.options)==null?void 0:_a.format)==="RP"||((xa=y==null?void 0:y.options)==null?void 0:xa.format)==="GR"?"right":"left",textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold"}};R.push(Sa)}else R.push({content:"",styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold"}})}),!(r!=null&&r.disableSubtotalTotal)){const y=r!=null&&r.colSpan?Number((r==null?void 0:r.colSpan)||0)+1:0;R[0]={content:"SUB TOTAL",colSpan:y,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:"center"}},r!=null&&r.colSpan&&R.splice(1,r==null?void 0:r.colSpan),u.push(R)}}else{const E=e.map(x=>{var U,w,J,W,ea;const R=b[x.key],y=x.key;return P[y]=(P[y]||0)+Number(R),(U=x.options)!=null&&U.render?x.options.render(R,b):{content:(()=>{var na;switch((na=x==null?void 0:x.options)==null?void 0:na.format){case"RP":return b[x.key]!==void 0?Number(b[x.key]||0).toLocaleString("kr-ko"):"";case"GR":return b[x.key]!==void 0?Number(b[x.key]||0).toFixed(3):"";case"DATETIME":return b[x.key]!==void 0?ae(b[x.key]||new Date):"";case"DATE":return b[x.key]!==void 0?Y(b[x.key]||new Date,!0):"";default:return b[x.key]!==void 0?b[x.key].toString():""}})(),styles:{halign:(w=x==null?void 0:x.options)!=null&&w.halign?(J=x==null?void 0:x.options)==null?void 0:J.halign:((W=x==null?void 0:x.options)==null?void 0:W.format)==="RP"||((ea=x==null?void 0:x.options)==null?void 0:ea.format)==="GR"||typeof b[x.key]=="number"?"right":"left"}}});u.push(E)}});const S=[];e.forEach(b=>{var x,R,y,U,w,J,W;const E=P[b.key];if(((x=b==null?void 0:b.options)==null?void 0:x.format)==="RP"||((R=b==null?void 0:b.options)==null?void 0:R.format)==="GR"){const ea={content:(y=b==null?void 0:b.options)!=null&&y.disabledFooter?"":(()=>{var na;switch((na=b==null?void 0:b.options)==null?void 0:na.format){case"RP":return E.toLocaleString("kr-ko");case"GR":return E.toFixed(3);default:return E.toString()}})(),styles:{halign:(U=b==null?void 0:b.options)!=null&&U.halign?(w=b==null?void 0:b.options)==null?void 0:w.halign:((J=b==null?void 0:b.options)==null?void 0:J.format)==="RP"||((W=b==null?void 0:b.options)==null?void 0:W.format)==="GR"?"right":"left",textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold"}};S.push(ea)}else S.push({content:"",styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold"}})});const A=r!=null&&r.colSpan?Number((r==null?void 0:r.colSpan)||0)+1:0;r!=null&&r.disableGrandTotal||(S[0]={content:"GRAND TOTAL",colSpan:A,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"bold",halign:"center"}},r!=null&&r.colSpan&&S.splice(1,r==null?void 0:r.colSpan),u.push(S)),u.push([{content:`Print Date : ${ae(`${new Date}`)}`,colSpan:e.length,styles:{textColor:"#000",fillColor:"#E8E5E5",fontStyle:"italic"}}]),l.autoTable({head:[],body:u,startY:m,theme:s.theme||"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:s.fontSIze||8,lineColor:"#000",lineWidth:{top:.1,right:.1,bottom:.1,left:.1}},headStyles:{fontSize:s.fontSIze||8,textColor:"#000",fillColor:"#E8E5E5"}}),m=l.lastAutoTable.finalY+3;const T=l.internal.getNumberOfPages(),_=l.internal.pageSize.width,B=l.internal.pageSize.height;l.setFontSize(10);for(let b=1;b<T+1;b++){const E=_/2,x=B-10;l.setPage(b),l.text(`${b} of ${T}`,E,x,{align:"center"})}l.save(`${a}.pdf`)},ps=a=>a.split("_").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),ja=({title:a,columns:e,data:i,grouping:o,formatPdf:s,date:n,type:r,grandTotalSetting:d,dataToko:l})=>{r==="PDF"?xt({formatPdf:s,date:n,title:a,data:i,type:r,columns:e,grouping:o,grandTotalSetting:d,dataToko:l}):r==="EXCEL"?yt({formatPdf:s,date:n,title:a,data:i,type:r,columns:e,grouping:o,grandTotalSetting:d,dataToko:l}):(yt({formatPdf:s,date:n,title:a,data:i,type:r,columns:e,grouping:o,grandTotalSetting:d,dataToko:l}),xt({formatPdf:s,date:n,title:a,data:i,type:r,columns:e,grouping:o,grandTotalSetting:d,dataToko:l}))},yn=new Date().toLocaleDateString("id-ID",{timeZone:"Asia/Jakarta",year:"numeric",month:"2-digit",day:"2-digit"});function ft(a,e){const i=new Date(a);i.setHours(0),i.setMinutes(0),i.setSeconds(0);const o=new Date(e);o.setHours(0),o.setMinutes(0),o.setSeconds(0);const s=o.getTime()-i.getTime();return Math.floor(s/(1e3*3600*24))}const jt=()=>{const a=new Date,e=a.getDay(),i=new Date(a);i.setDate(a.getDate()-(e===0?6:e-1));const o=[];for(let s=0;s<7;s++){const n=new Date(i);n.setDate(i.getDate()+s),o.push(n)}return o},gs=a=>{const e=new Date(a),i=e.getDay(),o=new Date(e);o.setDate(e.getDate()-(i===0?6:i-1));const s=[];for(let n=0;n<7;n++){const r=new Date(o);r.setDate(o.getDate()+n),s.push(r)}return s},[hs,_s,ks]=yn.split("/"),z=`${ks}-${_s}-${hs}`;yn.toString().substring(0,7);const L={dataMaster:{user:"user",toko:"toko",jabatan:"jabatan",hariLibur:"hari-libur",pegawai:"pegawai",updatePinPegawai:"pegawai/service/change-pin"},paramter:{bonusSales:"parameter-bonus-sales",targetSales:"parameter-target-sales",targetToko:"parameter-target-toko",parameterCuti:"parameter-gap-cuti",parameterKonversiCuti:"parameter-konversi-cuti",parameterShiftKerja:"parameter-shift-kerja",parameterLembur:"parameter-lembur",parameterAbsenTerlambat:"absen-terlambat",parameterIzinKeluarMasuk:"limit-minute-out"},externalApi:{dataSales:"external/sales",omzetSales:"external/sales/monthly-omzet"},timeKeeping:{kehadiran:"time-keeping/service/absen-kehadiran",istirahat:"time-keeping/service/absen-istirahat",break:"time-keeping/service/absen-break",sholat:"time-keeping/service/absen-sholat",validationPin:"pegawai/service/pin-validation",dataTimeKeeping:"time-keeping",izinKeluar:"time-keeping/service/absen-izin-keluar-masuk"},transaksi:{tukarLibur:"tukar-libur",cuti:"cuti-request",batalcuti:"cuti-request/batal-cuti",pelanggaranPegawai:"pelanggaran-pegawai",kasbon:"kasbon",payroll:"payroll",payrollSummary:"payroll/pegawai-summary",potonganLain:"potongan-lain-lain",omzetSales:"omzet-sales/bulk",lembur:"transaksi-lembur",pengajuanIzinPergi:"pengajuan-izin-pergi",pengajuanIzinPulangCepat:"pengajuan-izin-pulang-cepat"},report:{timeKeeping:"time-keeping/report/pegawai-time-keeping",cuti:"cuti-request/report/pengajuan-cuti",pelanggaranPegawai:"pelanggaran-pegawai/report",kasbon:"kasbon/report",potonganLain:"potongan-lain-lain/report",payroll:"payroll/report",globalPayroll:"payroll/report-global",getReportLembur:"transaksi-lembur/report",getReportAbsenTerlambat:"time-keeping/report/absen-terlambat"},login:"auth/login",otorisasi:"user/otorisasi",dashboard:{hbd:"dashboard/member-hbd",cuti:"dashboard/unreviewed-cuti-request"},utility:{memberCard:"member-card/cetak",getModule:"setup-system/get-module",createModule:"setup-system/create-module"}},Ra=a=>a&&a.replace(/[^\d]/g,""),bs=a=>({type:oa.IS_LOADING,payload:a}),ys=a=>({type:oa.SCREEN_SIZE,payload:a}),xn=()=>({type:oa.IS_LOADING,payload:{screen:!1,table:!1,button:!1}}),xs=a=>({type:oa.SHOW_BUTTON_DELETE,payload:a}),fs=a=>({type:oa.IS_EDIT,payload:a}),js=a=>({type:oa.GET_DATA_EDIT,payload:a}),Ts=a=>({type:oa.GET_KODE_TOKO,payload:a}),Ls=a=>({type:oa.LOADING_TABEL,payload:a}),Ps=a=>async e=>{e({type:oa.SHOW_MODAL,payload:a})},G=a=>async e=>{e({type:oa.SIMPAN_DATA_TMP,payload:a})},vs=()=>async a=>{a({type:oa.SHOW_MODAL,payload:{isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""}})},Ns=(a,e)=>async i=>{v(e||"Laporan Tidak Tersedia"),i(G({data:[],namaForm:a})),i(xn())},Ss=a=>async e=>{e({type:oa.DATA_NOTA,payload:a})},Es=()=>async a=>{try{a(c.setLoading({screen:!0}));const e=await H(L.utility.getModule);a({type:oa.GET_MODULE,payload:{data:e.data}}),a(c.stopLoading())}catch(e){a({type:oa.GET_MODULE,payload:{data:[]}}),a(c.stopLoading()),v(`${e}`)}},c={simpanDataTmp:G,setLaporanKosong:Ns,getDataEdit:js,setDataNota:Ss,setLoading:bs,isEdit:fs,showModal:Ps,hideModal:vs,loadingTabel:Ls,stopLoading:xn,showButtonDelete:xs,setScreenSize:ys,getModule:Es,setKodeToko:Ts};var Ee=(a=>(a.GET_DATA_HARI_LIBUR="GET_DATA_HARI_LIBUR",a))(Ee||{});const Tt=(a,e)=>({type:Ee.GET_DATA_HARI_LIBUR,payload:{data:a,total:e}}),Ds=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.dataMaster.hariLibur,i);e(Tt(o.data,o.count)),e(c.stopLoading())}catch(i){e(Tt([],0)),e(c.stopLoading()),v(`${i}`)}};var De=(a=>(a.GET_DATA_JABATAN="GET_DATA_JABATAN",a))(De||{});const Lt=(a,e)=>({type:De.GET_DATA_JABATAN,payload:{data:a,total:e}}),As=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.dataMaster.jabatan,i);e(Lt(o.data,o.count)),e(c.stopLoading())}catch(i){e(Lt([],0)),e(c.stopLoading()),v(`${i}`)}};var Ae=(a=>(a.GET_DATA_PEGAWAI="GET_DATA_PEGAWAI",a))(Ae||{});const Pt=(a,e)=>({type:Ae.GET_DATA_PEGAWAI,payload:{data:a,total:e}}),Is=a=>async(e,i)=>{try{const o=i(),s={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit,kode_pegawai:a==null?void 0:a.kode_pegawai};me?s.kode_toko=o.utility.getKodeToko!==null?o.utility.getKodeToko:void 0:s.kode_toko=`${ma}`,e(c.setLoading({table:!0}));const n=await H(L.dataMaster.pegawai,s);e(Pt(n.data,n.count)),e(c.stopLoading())}catch(o){e(Pt([],0)),e(c.stopLoading()),v(`${o}`)}};var Ie=(a=>(a.GET_DATA_TOKO="GET_DATA_TOKO",a))(Ie||{});const vt=(a,e)=>({type:Ie.GET_DATA_TOKO,payload:{data:a,total:e}}),Ms=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.dataMaster.toko,i);ka("dataToko",o.data),e(vt(o.data,o.count)),e(c.stopLoading())}catch(i){e(vt([],0)),e(c.stopLoading()),v(`${i}`)}},Nt=(a,e)=>({type:Me.GET_DATA_USER,payload:{data:a,total:e}}),Cs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.kode_toko=`${ma}`,e(c.setLoading({table:!0}));const o=await H(L.dataMaster.user,i);e(Nt(o.data,o.count)),e(c.stopLoading())}catch(i){e(Nt([],0)),e(c.stopLoading()),v(`${i}`)}};var Me=(a=>(a.GET_DATA_USER="GET_DATA_USER",a))(Me||{});const Q={getDataJabatan:As,getDataUser:Cs,getDataHariLibur:Ds,getDataPegawai:Is,getDataToko:Ms},fn={IS_LOGIN:"IS_LOGIN"},ws=a=>({type:fn.IS_LOGIN,payload:a}),jn={isLogin:ws};var Ce=(a=>(a.GET_PARAMETER_ABSESN_TERLAMBAT="GET_PARAMETER_ABSESN_TERLAMBAT",a))(Ce||{});const St=(a,e)=>({type:Ce.GET_PARAMETER_ABSESN_TERLAMBAT,payload:{data:a,total:e}}),Rs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.parameterAbsenTerlambat,i);e(St(o.data,o.count)),e(c.stopLoading())}catch(i){e(St([],0)),e(c.stopLoading()),v(`${i}`)}};var we=(a=>(a.GET_PARAMETER_BONUS="GET_PARAMETER_BONUS",a))(we||{});const Et=(a,e)=>({type:we.GET_PARAMETER_BONUS,payload:{data:a,total:e}}),Ks=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.bonusSales,i);e(Et(o.data,o.count)),e(c.stopLoading())}catch(i){e(Et([],0)),e(c.stopLoading()),v(`${i}`)}};var Re=(a=>(a.GET_PARAMETER_CUTI="GET_PARAMETER_CUTI",a))(Re||{});const Dt=(a,e)=>({type:Re.GET_PARAMETER_CUTI,payload:{data:a,total:e}}),$s=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.parameterCuti,i);e(Dt(o.data,o.count)),e(c.stopLoading())}catch(i){e(Dt([],0)),e(c.stopLoading()),v(`${i}`)}};var Ke=(a=>(a.GET_PARAMETER_KELUAR_MASUK="GET_PARAMETER_KELUAR_MASUK",a))(Ke||{});const At=(a,e)=>({type:Ke.GET_PARAMETER_KELUAR_MASUK,payload:{data:a,total:e}}),Fs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.parameterIzinKeluarMasuk,i);e(At(o.data,o.count)),e(c.stopLoading())}catch(i){e(At([],0)),e(c.stopLoading()),v(`${i}`)}};var $e=(a=>(a.GET_PARAMETER_KONVERSI_CUTI="GET_PARAMETER_KONVERSI_CUTI",a))($e||{});const It=(a,e)=>({type:$e.GET_PARAMETER_KONVERSI_CUTI,payload:{data:a,total:e}}),Bs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.parameterKonversiCuti,i);e(It(o.data,o.count)),e(c.stopLoading())}catch(i){e(It([],0)),e(c.stopLoading()),v(`${i}`)}};var Fe=(a=>(a.GET_PARAMETER_LEMBUR="GET_PARAMETER_LEMBUR",a))(Fe||{});const Mt=(a,e)=>({type:Fe.GET_PARAMETER_LEMBUR,payload:{data:a,total:e}}),zs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.parameterLembur,i);e(Mt(o.data,o.count)),e(c.stopLoading())}catch(i){e(Mt([],0)),e(c.stopLoading()),v(`${i}`)}};var Be=(a=>(a.GET_PARAMETER_SHIFT_KERJA="GET_PARAMETER_SHIFT_KERJA",a))(Be||{});const Ct=(a,e)=>({type:Be.GET_PARAMETER_SHIFT_KERJA,payload:{data:a,total:e}}),Us=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.parameterShiftKerja,i);e(Ct(o.data,o.count)),e(c.stopLoading())}catch(i){e(Ct([],0)),e(c.stopLoading()),v(`${i}`)}};var ze=(a=>(a.GET_PARAMETER_TARGET_SALES="GET_PARAMETER_TARGET_SALES",a))(ze||{});const wt=(a,e)=>({type:ze.GET_PARAMETER_TARGET_SALES,payload:{data:a,total:e}}),Os=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.targetSales,i);e(wt(o.data,o.count)),e(c.stopLoading())}catch(i){e(wt([],0)),e(c.stopLoading()),v(`${i}`)}};var Ue=(a=>(a.GET_PARAMETER_TARGET_TOKO="GET_PARAMETER_TARGET_TOKO",a))(Ue||{});const Rt=(a,e)=>({type:Ue.GET_PARAMETER_TARGET_TOKO,payload:{data:a,total:e}}),Gs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.paramter.targetToko,i);e(Rt(o.data,o.count)),e(c.stopLoading())}catch(i){e(Rt([],0)),e(c.stopLoading()),v(`${i}`)}},sa={getParameterAbsenTerlambat:Rs,getParameterBonusSales:Ks,getParameterTargetSales:Os,getParameterTargetToko:Gs,getParameterCuti:$s,getParameterShiftKerja:Us,getParameterKonversiCuti:Bs,getParameterLembur:zs,getParameterIzinKeluarMasuk:Fs};var Tn=(a=>(a.GET_DATA_TIME_KEEPING="GET_DATA_TIME_KEEPING",a))(Tn||{}),Oe=(a=>(a.GET_DATA_KAS_BON="GET_DATA_KAS_BON",a))(Oe||{});const Kt=(a,e)=>({type:Oe.GET_DATA_KAS_BON,payload:{data:a,total:e}}),Hs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||z,i.end_date=(a==null?void 0:a.end_date)||z,i.kode_toko=ma,e(c.setLoading({table:!0}));const o=await H(L.report.kasbon,i);e(Kt(o.data,o.count)),e(c.stopLoading())}catch(i){e(Kt([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="Data Kasbon"?v("Data Kasbon Kosong"):v(`${i}`)}};var Ge=(a=>(a.GET_DATA_PELANGGARAN_PEGAWAI="GET_DATA_PELANGGARAN_PEGAWAI",a))(Ge||{});const $t=(a,e)=>({type:Ge.GET_DATA_PELANGGARAN_PEGAWAI,payload:{data:a,total:e}}),Js=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||z,i.end_date=(a==null?void 0:a.end_date)||z,i.kode_toko=ma,e(c.setLoading({table:!0}));const o=await H(L.report.pelanggaranPegawai,i);e($t(o.data,o.count)),e(c.stopLoading())}catch(i){e($t([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="DataPelanggaran"?v("Data Pelanggaran Pegawai Kosong"):v(`${i}`)}};var He=(a=>(a.GET_DATA_CUTI="GET_DATA_CUTI",a))(He||{});const Ft=(a,e)=>({type:He.GET_DATA_CUTI,payload:{data:a,total:e}}),Vs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||z,i.end_date=(a==null?void 0:a.end_date)||z,i.kode_toko=ma,e(c.setLoading({table:!0}));const o=await H(L.report.cuti,i);e(Ft(o.data,o.count)),e(c.stopLoading())}catch(i){e(Ft([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="Data Pengajuan Cuti"?v("Data Pengajuan Cuti Kosong"):v(`${i}`)}};var Je=(a=>(a.GET_DATA_PENGAJUAN_IZIN_PERGI="GET_DATA_PENGAJUAN_IZIN_PERGI",a))(Je||{});const Bt=(a,e)=>({type:Je.GET_DATA_PENGAJUAN_IZIN_PERGI,payload:{data:a,total:e}}),qs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||z,i.end_date=(a==null?void 0:a.end_date)||z,i.kode_pegawai=a==null?void 0:a.kode_pegawai,i.kode_toko=a==null?void 0:a.kode_toko,e(c.setLoading({table:!0}));const o=await H(L.transaksi.pengajuanIzinPergi,i);e(Bt(o.data,o.count)),e(c.stopLoading()),$("Data Tersedia")}catch(i){e(Bt([],0)),e(c.stopLoading()),v(`${i}`)}};var Ve=(a=>(a.GET_DATA_PENGAJUAN_IZIN_PULANG_CEPAT="GET_DATA_PENGAJUAN_IZIN_PULANG_CEPAT",a))(Ve||{});const zt=(a,e)=>({type:Ve.GET_DATA_PENGAJUAN_IZIN_PULANG_CEPAT,payload:{data:a,total:e}}),Ws=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||z,i.end_date=(a==null?void 0:a.end_date)||z,i.kode_pegawai=a==null?void 0:a.kode_pegawai,i.kode_toko=a==null?void 0:a.kode_toko,e(c.setLoading({table:!0}));const o=await H(L.transaksi.pengajuanIzinPulangCepat,i);e(zt(o.data,o.count)),e(c.stopLoading()),$("Data Tersedia")}catch(i){e(zt([],0)),e(c.stopLoading()),v(`${i}`)}};var qe=(a=>(a.GET_POTONGAN_LAIN="GET_POTONGAN_LAIN",a))(qe||{});const Ut=(a,e)=>({type:qe.GET_POTONGAN_LAIN,payload:{data:a,total:e}}),Ys=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||z,i.end_date=(a==null?void 0:a.end_date)||z,i.kode_toko=ma,e(c.setLoading({table:!0}));const o=await H(L.report.potonganLain,i);e(Ut(o.data,o.count)),e(c.stopLoading())}catch(i){e(Ut([],0)),e(c.stopLoading()),(a==null?void 0:a.namaForm)==="Data Potongan"?v("Data Potongan Lain Kosong"):v(`${i}`)}};var We=(a=>(a.GET_REVIEW_DATA_CUTI="GET_REVIEW_DATA_CUTI",a))(We||{});const Ot=(a,e)=>({type:We.GET_REVIEW_DATA_CUTI,payload:{data:a,total:e}}),Xs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=Y((a==null?void 0:a.start_date)||z),i.end_date=Y((a==null?void 0:a.end_date)||z),i.status_validasi=a==null?void 0:a.status_validasi,i.kode_toko=a==null?void 0:a.kode_toko,e(c.setLoading({table:!0}));const o=await H(L.dashboard.cuti,i);o.data.length===0&&v("Data Review Cuti Tidak Tersedia"),e(Ot(o.data,o.count)),e(c.stopLoading())}catch(i){e(Ot([],0)),e(c.stopLoading()),v(`${i}`)}};var Ye=(a=>(a.GET_TUKAR_LIBUR="GET_TUKAR_LIBUR",a))(Ye||{});const Gt=(a,e)=>({type:Ye.GET_TUKAR_LIBUR,payload:{data:a,total:e}}),Zs=a=>async e=>{try{const i={skip:(Number((a==null?void 0:a.skip)||1)-1)*Number((a==null?void 0:a.limit)||0),limit:a==null?void 0:a.limit};i.start_date=(a==null?void 0:a.start_date)||z,i.end_date=(a==null?void 0:a.end_date)||z,(a==null?void 0:a.q)!==void 0&&(i.q=a.q||""),e(c.setLoading({table:!0}));const o=await H(L.transaksi.tukarLibur+"/report/tukar-libur",i);e(Gt(o.data,o.count)),e(c.stopLoading())}catch(i){e(Gt([],0)),e(c.stopLoading()),v(`${i}`)}},ia={getPengajuanCuti:Vs,getReviewPengajuanCuti:Xs,getPelanggaranPegawai:Js,getDataKasBon:Hs,getPotonganLain:Ys,getPengajuanIzinPergi:qs,getPengajuanIzinPulangCepat:Ws,getTukarLibur:Zs};function Qs(){return{getIsLogin:!1}}const ao=(a=Qs(),e)=>{switch(e.type){case fn.IS_LOGIN:return{...a,getIsLogin:e.payload};default:return a}},eo={handleSetPageSidebar:!0,handleSetPageHeader:!0,handleSetContent:!0,handleSetFooter:!0,appSidebarEndMobileToggled:!1,appSidebarMinify:!1},to=(a=eo,e)=>{switch(e.type){case Ta.SIDEBAR:return{...a,handleSetPageSidebar:e.payload};case Ta.HEADER:return{...a,handleSetPageHeader:e.payload};case Ta.CONTENT:return{...a,handleSetContent:e.payload};case Ta.FOOTER:return{...a,handleSetFooter:e.payload};case Ta.TOOGLESIDEBAR:return{...a,appSidebarEndMobileToggled:e.payload};case Ta.SIDERBARMINIFY:return{...a,appSidebarMinify:e.payload};default:return a}};function no(){return{getLoading:{table:!1,button:!1,screen:!1},getModal:{isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""},hideModal:{isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""},setLoadingTabel:!1,getShowButtonDelete:!1,getDataEdit:[],getDataTmp:{data:[]},getNota:{data:[]},getModule:{data:[]},getScreenSize:"lg",getKodeToko:null}}const io=(a=no(),e)=>{switch(e.type){case oa.GET_KODE_TOKO:return{...a,getKodeToko:e.payload};case oa.SHOW_BUTTON_DELETE:return{...a,getShowButtonDelete:e.payload};case oa.LOADING_TABEL:return{...a,setLoadingTabel:e.payload};case oa.GET_DATA_EDIT:return{...a,getDataEdit:e.payload};case oa.IS_LOADING:return{...a,getLoading:e.payload};case oa.HIDE_MODAL:return{...a,hideModal:e.payload};case oa.SHOW_MODAL:return{...a,getModal:e.payload};case oa.SIMPAN_DATA_TMP:return{...a,getDataTmp:e.payload};case oa.GET_MODULE:return{...a,getModule:e.payload};case oa.SCREEN_SIZE:return{...a,getScreenSize:e.payload};case oa.DATA_NOTA:return{...a,getNota:e.payload};default:return a}},so={data:[],total:0},oo=(a=so,e)=>{switch(e.type){case Ee.GET_DATA_HARI_LIBUR:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},ro={data:[],total:0},lo=(a=ro,e)=>{switch(e.type){case De.GET_DATA_JABATAN:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},co={data:[],total:0},uo=(a=co,e)=>{switch(e.type){case Ae.GET_DATA_PEGAWAI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},mo={data:[],total:0},po=(a=mo,e)=>{switch(e.type){case Ie.GET_DATA_TOKO:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},go={data:[],total:0},ho=(a=go,e)=>{switch(e.type){case Me.GET_DATA_USER:return{...a,data:e.payload.data,total:e.payload.total};default:return a}},_o={data:[],total:0},ko=(a=_o,e)=>{switch(e.type){case we.GET_PARAMETER_BONUS:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},bo={data:[],total:0},yo=(a=bo,e)=>{switch(e.type){case Re.GET_PARAMETER_CUTI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},xo={data:[],total:0},fo=(a=xo,e)=>{switch(e.type){case $e.GET_PARAMETER_KONVERSI_CUTI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},jo={data:[],total:0},To=(a=jo,e)=>{switch(e.type){case Fe.GET_PARAMETER_LEMBUR:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Lo={data:[],total:0},Po=(a=Lo,e)=>{switch(e.type){case Be.GET_PARAMETER_SHIFT_KERJA:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},vo={data:[],total:0},No=(a=vo,e)=>{switch(e.type){case ze.GET_PARAMETER_TARGET_SALES:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},So={data:[],total:0},Eo=(a=So,e)=>{switch(e.type){case Ue.GET_PARAMETER_TARGET_TOKO:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Do={data:[],total:0},Ao=(a=Do,e)=>{switch(e.type){case Ce.GET_PARAMETER_ABSESN_TERLAMBAT:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Io={data:[],total:0},Mo=(a=Io,e)=>{switch(e.type){case Ke.GET_PARAMETER_KELUAR_MASUK:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Co={data:[],total:0},wo=(a=Co,e)=>{switch(e.type){case Tn.GET_DATA_TIME_KEEPING:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Ro={data:[],total:0},Ko=(a=Ro,e)=>{switch(e.type){case Oe.GET_DATA_KAS_BON:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},$o={data:[],total:0},Fo=(a=$o,e)=>{switch(e.type){case Ge.GET_DATA_PELANGGARAN_PEGAWAI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Bo={data:[],total:0},zo=(a=Bo,e)=>{switch(e.type){case He.GET_DATA_CUTI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Uo={data:[],total:0},Oo=(a=Uo,e)=>{switch(e.type){case Je.GET_DATA_PENGAJUAN_IZIN_PERGI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Go={data:[],total:0},Ho=(a=Go,e)=>{switch(e.type){case Ve.GET_DATA_PENGAJUAN_IZIN_PULANG_CEPAT:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Jo={data:[],total:0},Vo=(a=Jo,e)=>{switch(e.type){case qe.GET_POTONGAN_LAIN:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},qo={data:[],total:0},Wo=(a=qo,e)=>{switch(e.type){case We.GET_REVIEW_DATA_CUTI:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},Yo={data:[],total:0},Xo=(a=Yo,e)=>{switch(e.type){case Ye.GET_TUKAR_LIBUR:return{...a,data:e.payload.data||[],total:e.payload.total};default:return a}},pa=()=>({simpanDataTmp:(o,s)=>async n=>{n(c.simpanDataTmp({data:s,namaForm:o}))},showModal:o=>async s=>{s(c.showModal({isModalShow:!0,isEdit:o.isEdit,title:o.title,data:o.data||[],namaForm:o.namaForm}))},hideModal:()=>async o=>{o(c.showModal({isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""}))}}),Ln=Ya({form:si,utility:io,helper:ao,theme:to,dataMaster:Ya({dataJabatan:lo,dataUser:ho,dataHariLibur:oo,dataPegawai:uo,dataToko:po}),parameter:Ya({dataBonusSales:ko,parameterTargetSales:No,parameterTargetToko:Eo,parameterCuti:yo,parameterShiftKerja:Po,parameterKonversiCuti:fo,parameterLembur:To,parameterTerlambat:Ao,parameterIzinKeluarMasuk:Mo}),timeKeeping:Ya({dataTimeKeeping:wo}),transaksi:Ya({dataPengajuanCuti:zo,reviewPengajuanCuti:Wo,pelanggaranPegawai:Fo,kasBon:Ko,potonganLain:Vo,tukarLibur:Xo,pengajuanIzinPergi:Oo,pengajuanIzinPulangCepat:Ho})});oi(Ln);const I=ee,Zo={in:a=>a,out:a=>a},Qo={blacklist:["form","utility","dataMaster","timeKeeping","transaksi","parameter"],key:"root",storage:pi,transforms:[Zo]},ar=ui(Qo,Ln),er=ri(mi),Pn=li(ar,di(er)),tr=ci(Pn),Ht=()=>{const a=I(s=>s.utility),e=I(s=>s.helper),i=I(s=>s.theme),o=D();return j.useEffect(()=>{const s=pn();a.getScreenSize!==s&&o(c.setScreenSize(s))},[]),t.jsxs(gi.Fragment,{children:[e.getIsLogin?t.jsxs("div",{className:"app "+(i.appSidebarEndMobileToggled?"app-sidebar-mobile-toggled ":"")+(i.appSidebarMinify?"app-sidebar-minified ":""),children:[i.handleSetPageHeader&&t.jsx(hp,{}),i.handleSetPageSidebar&&t.jsx(xp,{}),i.handleSetContent&&t.jsx(Xt,{})]}):i.handleSetContent&&t.jsx(Xt,{}),t.jsx(es,{loading:a.getLoading.screen}),t.jsx(hi,{}),t.jsx(_i,{position:"top-center",reverseOrder:!1})]})},Jt="/assets/sound/tryagain.mp3",nr="/assets/sound/trash.mp3",ir="/assets/sound/beep.mp3",sr=()=>{const a=D(),[e,i]=j.useState(!0);j.useEffect(()=>{a(ua.handleSetPageSidebar(!1)),a(ua.handleSetPageHeader(!1));const x=ki(),R=document.getElementById("nota_ganerate");return R&&(R.value=x),ka("uid",x),gn("uid"),()=>{a(ua.handleSetPageHeader(!0)),a(ua.handleSetPageSidebar(!0))}},[a]);const[o,s]=j.useState(new Date),[n,r]=j.useState("Kehadiran"),[d,l]=j.useState(!1);j.useEffect(()=>{const x=setInterval(()=>{s(new Date)},1e3);return()=>clearInterval(x)},[]);const u=o.getHours().toString().padStart(2,"0"),m=o.getMinutes().toString().padStart(2,"0"),g=o.getSeconds().toString().padStart(2,"0"),k=j.useRef(null),[h,f]=j.useState({pin:"",kode_pegawai:""}),[P,S]=j.useState("kode_pegawai"),A=x=>{if(x==="{lock}"||x==="{shift}")return l(!d),k.current.setOptions({layoutName:d?"default":"shift"}),!1;if(x==="{enter}"){if(h.kode_pegawai==="")return Za("Kode Pegawai Belum Diisi"),v("Kode Pegawai Belum Diisi"),!1;if(h.pin==="")return Za("Pin Belum Diisi"),v("Pin Belum Diisi"),!1;se(nr),h.pin!==""&&h.kode_pegawai!==""&&_n({title:`Konfirmasi Time Keeping <b>${n}</b>`,html:`Jam  <b>${n}</b> anda ${u}:${m}:${g}`,icon:"info"}).then(async()=>{try{a(c.setLoading({screen:!0})),await aa(L.timeKeeping.validationPin,h),T()}catch(R){Za(`${R}`),v(`${R}`),a(c.stopLoading()),_()}}).catch(()=>{se(Jt)})}},T=async x=>{try{a(c.setLoading({screen:!0}));let R="";n==="Kehadiran"?R=L.timeKeeping.kehadiran:n==="Break"?R=L.timeKeeping.break:n==="Istirahat"?R=L.timeKeeping.istirahat:n==="Sholat"?R=L.timeKeeping.sholat:R=L.timeKeeping.izinKeluar;const y=`${new Date().getHours().toString().padStart(2,"0")}:${new Date().getMinutes().toString().padStart(2,"0")}`,U={kode_pegawai:h.kode_pegawai||(x==null?void 0:x.kode_pegawai),kode_toko:ma,jam:`${y}`,tgl_system:z},w=await aa(R,U),J=await H(L.dataMaster.pegawai,{kode_pegawai:U.kode_pegawai,first:!0}),W=w.message.includes("Pulang"),ea=w.message.includes("Kehadiran"),na=w.message.includes("Izin Masuk");_(),Za(`OK, ${J.data.nama_pegawai}, Time Keeping ${W?"Pulang":ea?"Kehadiran":na?"Izin Masuk":n} berhasil`),a(c.stopLoading()),kn({title:`Time Keeping <b>${W?"Pulang":ea?"Kehadiran":na?"Izin Masuk":n}</b> Berhasil`,html:`Kode Pegawai  <b>${J.data.kode_pegawai}</b><br/>Nama  <b>${J.data.nama_pegawai}</b> <br/>Jam : ${y}`,icon:"success",time:1e6}).then(()=>{_()}).catch(()=>{_()}),_()}catch(R){Za(`${R}`),v(`${R}`),a(c.stopLoading()),_()}};j.useEffect(()=>{const x=tn(Ua.replace("/api/v1",""));return x.connect(),x.on("connect",async()=>{x.emit("join-room",`${ma}`),x.on("fingerprint-validation",R=>{R.is_valid?X("uid")===R.uid&&T(R):(se(Jt),v(`Fingerprint Time Keeping ${n} Gagal`))})}),()=>{x.disconnect()}},[n]);const _=()=>{f({pin:"",kode_pegawai:""}),da("kode_pegawai"),S("kode_pegawai"),a(M("timeKeeping","pin","")),a(M("timeKeeping","kode_pegawai","")),a(ta("timeKeeping")),a(c.stopLoading())},B=x=>{r(x),f({kode_pegawai:"",pin:""}),a(M("timeKeeping","pin","")),a(M("timeKeeping","kode_pegawai","")),setTimeout(()=>{da("kode_pegawai")},100)},b=x=>{S(x),k.current.setInput(h[x])},E=x=>{se(ir),f(R=>({...R,[P]:x})),a(P==="kode_pegawai"?M("timeKeeping","kode_pegawai",x):M("timeKeeping","pin",x)),k.current.setInput(x)};return t.jsx("div",{children:t.jsxs("div",{className:"pos pos-with-menu ",style:{paddingLeft:"13rem"},id:"pos",children:[t.jsxs("div",{className:"pos-menu",style:{width:"12rem"},children:[t.jsx("div",{className:"logo",children:t.jsxs(ve,{to:"#",children:[t.jsx("div",{className:"logo-img",children:t.jsx("i",{className:"fa fa-clock"})}),t.jsx("div",{className:"logo-text",children:"TIME KEEPING"})]})}),t.jsx("div",{className:"nav-container",children:t.jsxs("ul",{className:"nav nav-tabs",children:[t.jsx("li",{className:"nav-item",style:{width:"100%"},children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Kehadiran"?"active":""}`,onClick:()=>B("Kehadiran"),style:{fontSize:"1.6rem"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsxs("div",{className:"nav-text",style:{whiteSpace:"normal"},children:[" ","Kehadiran"," "]})]})}),t.jsx("li",{className:"nav-item",children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Break"?"active":""}`,onClick:()=>B("Break"),style:{fontSize:"2rem"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsxs("div",{className:"nav-text",style:{whiteSpace:"normal"},children:[" ","Break"," "]})]})}),t.jsx("li",{className:"nav-item",children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Sholat"?"active":""}`,onClick:()=>B("Sholat"),style:{fontSize:"2rem"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsx("div",{className:"nav-text",children:" Sholat "})]})}),t.jsx("li",{className:"nav-item",children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Istirahat"?"active":""}`,onClick:()=>B("Istirahat"),style:{fontSize:"2rem",flexWrap:"wrap"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsxs("div",{className:"nav-text",style:{whiteSpace:"normal"},children:[" ","Istirahat"," "]})]})}),t.jsx("li",{className:"nav-item",children:t.jsxs("a",{href:"#/",className:`nav-link ${n==="Izin Keluar"?"active":""}`,onClick:()=>B("Izin Keluar"),style:{fontSize:"1.5rem",flexWrap:"wrap"},children:[t.jsx("div",{className:"nav-icon",children:t.jsx("i",{className:""})}),t.jsxs("div",{className:"nav-text",style:{whiteSpace:"normal"},children:[" ","Izin Keluar"," "]})]})})]})})]}),t.jsx("div",{className:"pos-content",children:t.jsx("div",{className:"pos-content-container",children:t.jsx("div",{className:"product not-available",style:{height:"95vh"},children:t.jsxs("div",{className:"not-available-text",style:{flexDirection:"column"},children:[t.jsx("h1",{style:{fontSize:"50px"},children:n}),t.jsxs("h1",{style:{fontSize:"100px"},children:[u,":",m,":",g]}),t.jsx("div",{children:t.jsx(p,{type:"text",label:"",name:"kode_pegawai",enableenter:!0,noUpperCase:!0,id:"kode_pegawai",nouperCase:!0,placeholder:"Masukan Kode Pegawai",component:N,right:!0,inputGroup:!0,onFocus:()=>b("kode_pegawai"),textIconGroup:t.jsx("i",{className:"fa fa-user"}),onChange:x=>{const R=x.target.value;f(y=>({...y,kode_pegawai:R})),P==="kode_pegawai"&&k.current.setInput(R)},handleClick:()=>i(!e)})}),t.jsx("div",{children:t.jsx(p,{type:"text",label:"",name:"pin",enableenter:!0,noUpperCase:!0,value:h.pin,id:"pin",nouperCase:!0,placeholder:"Masukan PIN",component:N,right:!0,inputGroup:!0,onChange:x=>{const R=x.target.value;f(y=>({...y,pin:R})),P==="pin"&&k.current.setInput(R)},onFocus:()=>b("pin"),textIconGroup:e?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:e?"password-hide":"",handleClick:()=>i(!e)})}),t.jsx("div",{style:{width:"600px"},children:t.jsx(ds,{onChange:E,onKeyPress:A,keyboardRef:k,capsLock:d})})]})})})})]})})},or=O({form:"timeKeeping"})(sr),rr=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Datang",key:"jam_datang",options:{halign:"center",render:(a,e)=>({content:e.status_datang==="LIBUR"||e.status_datang==="TIDAK_HADIR"?F(e.status_datang):e.jam_datang,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_datang,type:"jam_datang"})}})}},{label:"Jam Pulang",key:"jam_pulang",options:{halign:"center",render:(a,e)=>({content:e.status_pulang==="LIBUR"||e.status_pulang==="TIDAK_HADIR"?F(e.status_pulang):e.jam_pulang,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_pulang,type:"jam_pulang"})}})}},{label:"Status Datang",key:"status_datang",options:{halign:"center",render:(a,e)=>({content:F(a),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_datang,type:"isoma"})}})}},{label:"Status Pulang",key:"status_pulang",options:{halign:"center",render:(a,e)=>({content:F(a),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_pulang,type:"isoma"})}})}}],lr=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jam Datang",dataIndex:"jam_datang",key:"jam_datang",render:(a,e)=>({props:{style:{background:K({status:e.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:e.status_datang==="LIBUR"||e.status_datang==="TIDAK_HADIR"?F(e.status_datang):e.jam_datang})})},{title:"Jam Pulang",dataIndex:"jam_pulang",key:"jam_pulang",render:(a,e)=>({props:{style:{background:K({status:e.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:e.status_pulang==="LIBUR"||e.status_pulang==="TIDAK_HADIR"?F(e.status_pulang):e.jam_pulang})})},{title:"Status Datang",dataIndex:"status_datang",key:"status_datang",render:(a,e)=>({props:{style:{background:K({status:e.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:F(a)})})},{title:"Status Pulang",dataIndex:"status_pulang",key:"status_pulang",render:(a,e)=>({props:{style:{background:K({status:e.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:F(a)})})}],dr=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Mulai Break ",key:"jam_break_start",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.jam_break_start,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_break,type:"isoma"})}})}},{label:"Jam Akhir Break",key:"jam_break_end",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.jam_break_end,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_break,type:"isoma"})}})}},{label:"Total Menit",key:"total_break",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.total_break,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_break,type:"isoma"})}})}},{label:"Status Break",key:"status_break",options:{halign:"center",render:(a,e)=>({content:F(e.status_break),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_break,type:"isoma"})}})}}],cr=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Start",dataIndex:"jam_break_start",key:"jam_break_start",render:(a,e)=>({props:{style:{background:K({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.jam_break_start})})},{title:"Stop",dataIndex:"jam_break_end",key:"jam_break_end",render:(a,e)=>({props:{style:{background:K({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.jam_break_end})})},{title:"Total Menit",dataIndex:"total_break",key:"total_break",render:(a,e)=>({props:{style:{background:K({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.total_break})})},{title:"Status",dataIndex:"status_break",key:"status_break",render:(a,e)=>({props:{style:{background:K({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:F(e.status_break)})})}],ur=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Mulai Istirahat ",key:"jam_istirahat_start",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.jam_istirahat_start,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_istirahat,type:"isoma"})}})}},{label:"Jam Akhir Istirahat",key:"jam_istirahat_end",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.jam_istirahat_end,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_istirahat,type:"isoma"})}})}},{label:"Total Menit",key:"total_istirahat",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.total_istirahat,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_istirahat,type:"isoma"})}})}},{label:"Status Istirahat",key:"status_istirahat",options:{halign:"center",render:(a,e)=>({content:F(a),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_istirahat,type:"isoma"})}})}}],mr=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Start",dataIndex:"jam_istirahat_start",key:"jam_istirahat_start",render:(a,e)=>({props:{style:{background:K({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.jam_istirahat_start})})},{title:"Stop",dataIndex:"jam_istirahat_end",key:"jam_istirahat_end",render:(a,e)=>({props:{style:{background:K({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.jam_istirahat_end})})},{title:"Total Menit",dataIndex:"total_istirahat",key:"total_istirahat",render:(a,e)=>({props:{style:{background:K({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.total_istirahat})})},{title:"Status",dataIndex:"status_istirahat",key:"status_istirahat",render:(a,e)=>({props:{style:{background:K({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:F(a)})})}],pr=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Mulai Sholat",key:"jam_sholat_start",options:{halign:"center",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.jam_sholat_start,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_sholat,type:"isoma"})}})}},{label:"Jam Akhir Sholat",key:"jam_sholat_end",options:{halign:"center",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.jam_sholat_end,styles:{textColor:"#000",fillColor:K({status:e.status_sholat,type:"isoma"}),halign:"center"}})}},{label:"Total Menit",key:"total_sholat",options:{halign:"right",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.total_sholat,styles:{textColor:"#000",fillColor:K({status:e.status_sholat,type:"isoma"})}})}},{label:"Status Sholat",key:"status_sholat",options:{halign:"center",render:(a,e)=>({content:F(e.status_sholat),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_sholat,type:"isoma"})}})}}],gr=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Start",dataIndex:"jam_sholat_start",key:"jam_sholat_start",render:(a,e)=>({props:{style:{background:K({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.jam_sholat_start})})},{title:"Stop",dataIndex:"jam_sholat_end",key:"jam_sholat_end",render:(a,e)=>({props:{style:{background:K({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.jam_sholat_end})})},{title:"Total Menit",dataIndex:"total_sholat",key:"total_sholat",render:(a,e)=>({props:{style:{background:K({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.total_sholat})})},{title:"Status",dataIndex:"status_sholat",key:"status_sholat",render:(a,e)=>({props:{style:{background:K({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:F(a)})})}],hr=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Datang",key:"jam_datang",options:{halign:"center",render:(a,e)=>({content:e.status_datang==="LIBUR"||e.status_datang==="TIDAK_HADIR"?F(e.status_datang):e.jam_datang,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_datang,type:"jam_datang"})}})}},{label:"Jam Pulang",key:"jam_pulang",options:{halign:"center",render:(a,e)=>({content:e.status_pulang==="LIBUR"||e.status_pulang==="TIDAK_HADIR"?F(e.status_pulang):e.jam_pulang,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_pulang,type:"jam_pulang"})}})}},{label:"Status Datang",key:"status_datang",options:{halign:"center",render:(a,e)=>({content:F(a),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_datang,type:"isoma"})}})}},{label:"Status Pulang",key:"status_pulang",options:{halign:"center",render:(a,e)=>({content:F(a),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_pulang,type:"isoma"})}})}},{label:"Jam Mulai Istirahat ",key:"jam_istirahat_start",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.jam_istirahat_start,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_istirahat,type:"isoma"})}})}},{label:"Jam Akhir Istirahat",key:"jam_istirahat_end",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.jam_istirahat_end,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_istirahat,type:"isoma"})}})}},{label:"Total Menit",key:"total_istirahat",options:{halign:"center",render:(a,e)=>({content:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.total_istirahat,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_istirahat,type:"isoma"})}})}},{label:"Status Istirahat",key:"status_istirahat",options:{halign:"center",render:(a,e)=>({content:F(a),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_istirahat,type:"isoma"})}})}},{label:"Jam Mulai Break ",key:"jam_break_start",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.jam_break_start,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_break,type:"isoma"})}})}},{label:"Jam Akhir Break",key:"jam_break_end",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.jam_break_end,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_break,type:"isoma"})}})}},{label:"Total Menit",key:"total_break",options:{halign:"center",render:(a,e)=>({content:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.total_break,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_break,type:"isoma"})}})}},{label:"Status Break",key:"status_break",options:{halign:"center",render:(a,e)=>({content:F(e.status_break),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_break,type:"isoma"})}})}},{label:"Jam Mulai Sholat",key:"jam_sholat_start",options:{halign:"center",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.jam_sholat_start,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_sholat,type:"isoma"})}})}},{label:"Jam Akhir Sholat",key:"jam_sholat_end",options:{halign:"center",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.jam_sholat_end,styles:{textColor:"#000",fillColor:K({status:e.status_sholat,type:"isoma"}),halign:"center"}})}},{label:"Total Menit",key:"total_sholat",options:{halign:"right",render:(a,e)=>({content:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.total_sholat,styles:{textColor:"#000",fillColor:K({status:e.status_sholat,type:"isoma"})}})}},{label:"Status Sholat",key:"status_sholat",options:{halign:"center",render:(a,e)=>({content:F(e.status_sholat),styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_sholat,type:"isoma"})}})}},{label:"Izin Pergi Keluar",key:"jam_izin_keluar",options:{halign:"center",render:(a,e)=>({content:e.jam_izin_keluar,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_izin_keluar_masuk,type:"isoma"})}})}},{label:"Izin Pergi Masuk",key:"jam_izin_masuk",options:{halign:"center",render:(a,e)=>({content:e.jam_izin_keluar,styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_izin_keluar_masuk,type:"isoma"})}})}},{label:"Durasi",key:"durasi",options:{halign:"center",render:(a,e)=>({content:hn(e.jam_izin_masuk,e.jam_izin_keluar)+" Menit",styles:{halign:"center",textColor:"#000",fillColor:K({status:e.status_izin_keluar_masuk,type:"isoma"})}})}},{label:"Keterangan",key:"keterangan",options:{halign:"center",render:()=>({content:"",styles:{halign:"center",textColor:"#000",fillColor:"#ffffff"}})}}],_r=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jam Datang",dataIndex:"jam_datang",key:"jam_datang",render:(a,e)=>({props:{style:{background:K({status:e.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:e.status_datang==="LIBUR"||e.status_datang==="TIDAK_HADIR"?F(e.status_datang):e.jam_datang})})},{title:"Jam Pulang",dataIndex:"jam_pulang",key:"jam_pulang",render:(a,e)=>({props:{style:{background:K({status:e.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:e.status_pulang==="LIBUR"||e.status_pulang==="TIDAK_HADIR"?F(e.status_pulang):e.jam_pulang})})},{title:"Status Datang",dataIndex:"status_datang",key:"status_datang",render:(a,e)=>({props:{style:{background:K({status:e.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:F(a)})})},{title:"Status Pulang",dataIndex:"status_pulang",key:"status_pulang",render:(a,e)=>({props:{style:{background:K({status:e.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:F(a)})})},{title:"Jam Mulai Istirahat",dataIndex:"jam_istirahat_start",key:"jam_istirahat_start",render:(a,e)=>({props:{style:{background:K({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.jam_istirahat_start})})},{title:"Jam Akhir Istirahat",dataIndex:"jam_istirahat_end",key:"jam_istirahat_end",render:(a,e)=>({props:{style:{background:K({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.jam_istirahat_end})})},{title:"Total Menit",dataIndex:"total_istirahat",key:"total_istirahat",render:(a,e)=>({props:{style:{background:K({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:e.status_istirahat==="LIBUR"||e.status_istirahat==="TIDAK_HADIR"?F(e.status_istirahat):e.total_istirahat})})},{title:"Status Istirahat",dataIndex:"status_istirahat",key:"status_istirahat",render:(a,e)=>({props:{style:{background:K({status:e.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:F(a)})})},{title:"Jam Mulai Break",dataIndex:"jam_break_start",key:"jam_break_start",render:(a,e)=>({props:{style:{background:K({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.jam_break_start})})},{title:"Jam Akhir Break",dataIndex:"jam_break_end",key:"jam_break_end",render:(a,e)=>({props:{style:{background:K({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.jam_break_end})})},{title:"Total Menit",dataIndex:"total_break",key:"total_break",render:(a,e)=>({props:{style:{background:K({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:e.status_break==="LIBUR"||e.status_break==="TIDAK_HADIR"?F(e.status_break):e.total_break})})},{title:"Status Break",dataIndex:"status_break",key:"status_break",render:(a,e)=>({props:{style:{background:K({status:e.status_break,type:"isoma"})}},children:t.jsx("div",{children:F(a)})})},{title:"Jam Mulai Sholat",dataIndex:"jam_sholat_start",key:"jam_sholat_start",render:(a,e)=>({props:{style:{background:K({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.jam_sholat_start})})},{title:"Jam Akhir Sholat",dataIndex:"jam_sholat_end",key:"jam_sholat_end",render:(a,e)=>({props:{style:{background:K({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.jam_sholat_end})})},{title:"Total Menit",dataIndex:"total_sholat",key:"total_sholat",render:(a,e)=>({props:{style:{background:K({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:e.status_sholat==="LIBUR"||e.status_sholat==="TIDAK_HADIR"?F(e.status_sholat):e.total_sholat})})},{title:"Status Sholat",dataIndex:"status_sholat",key:"status_sholat",render:(a,e)=>({props:{style:{background:K({status:e.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:F(a)})})},{title:"Izin Pergi Keluar",dataIndex:"jam_izin_keluar",key:"jam_izin_keluar",render:(a,e)=>({props:{style:{background:K({status:e.status_izin_keluar_masuk,type:"isoma"})}},children:t.jsx("div",{children:F(a)})})},{title:"Izin Pergi Masuk",dataIndex:"jam_izin_masuk",key:"jam_izin_masuk",render:(a,e)=>({props:{style:{background:K({status:e.status_izin_keluar_masuk,type:"isoma"})}},children:t.jsx("div",{children:F(a)})})},{title:"Durasi Izin",dataIndex:"durasi",key:"durasi",render:(a,e)=>({props:{style:{background:K({status:e.status_izin_keluar_masuk,type:"isoma"})}},children:t.jsxs("div",{children:[hn(e.jam_izin_masuk,e.jam_izin_keluar)," ","Menit"]})})}],kr=(a,e,i)=>{const o=va(e.kode_toko),s=e.type_time_keeping,n=(d,l)=>d==="LIBUR"||d==="TIDAK_HADIR"?F(d):l,r=a.reduce((d,l)=>{const u=d.findIndex(m=>m.tgl_system===l.tgl_system);return u<0?d.push({tgl_system:l.tgl_system,detail:[l]}):d[u].detail.push(l),d},[]);ja({formatPdf:{orientation:s==="SEMUA"?"l":"p",unit:"mm",theme:"grid"},type:i,date:e,title:`LAPORAN TIME KEEPING ${s==="SEMUA"?"":s}`,data:r.map((d,l)=>({...d,no:l+1,detail:d.detail.map(u=>({...u,jam_datang:n(u.status_pulang,u.jam_datang),jam_pulang:n(u.status_pulang,u.jam_pulang),total_sholat:n(u.total_sholat,u.total_sholat),jam_sholat_start:n(u.total_sholat,u.jam_sholat_start),jam_sholat_end:n(u.total_sholat,u.jam_sholat_end),total_break:n(u.status_break,u.total_break),jam_break_start:n(u.status_break,u.jam_break_start),jam_break_end:n(u.status_break,u.jam_break_end),total_istirahat:n(u.status_istirahat,u.total_istirahat),jam_istirahat_start:n(u.status_istirahat,u.jam_istirahat_start),jam_istirahat_end:n(u.status_istirahat,u.jam_istirahat_end),status_break:F(u.status_break),status_istirahat:F(u.status_istirahat),status_sholat:F(u.status_sholat),status_datang:F(u.status_datang),status_pulang:F(u.status_pulang)}))})),dataToko:{alamat_toko:String(o==null?void 0:o.alamat_toko),nama_toko:String(o==null?void 0:o.nama_toko)},columns:s==="KEHADIRAN"?rr:s==="BREAK"?dr:s==="ISTIRAHAT"?ur:s==="SHOLAT"?pr:hr,grouping:["tgl_system"],grandTotalSetting:{colSpan:6,disableSubtotalTotal:!0,disableGrandTotal:!0}})},Xe=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanTimeKeeping.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;kr(d,r,i)},cariLaporan:i=>async(o,s)=>{var r;const n=i==="DASHBOARD";try{const d=s(),l=n?(r=d.form.dashboardTimeKeeping)==null?void 0:r.values:d.form.LaporanTimeKeeping.values;o(c.setLoading({screen:!0}));const u={start_date:Y(l.start_date),end_date:Y(l.end_date),kode_toko:l.kode_toko||`${ma}`,type_shift:l.type_shift==="SEMUA"?void 0:l.type_shift},m=await H(L.report.timeKeeping,u);if(m.data.length===0)return o(c.setLaporanKosong("LaporanTimeKeeping",`${n?"Data":"Laporan"} Time Keeping Tidak Tersedia`)),!1;const g={data:m.data,namaForm:`${n?"Data":"Laporan"} Time Keeping Tidak Tersedia`};o(G(g)),$(`${n?"Data":"Laporan"} Tersedia`),o(c.stopLoading())}catch(d){o(c.setLaporanKosong(`${n?"Data":"Laporan"} Time Keeping Tidak Tersedia`,`${d}`))}}}),br=a=>{const e={};if(a.start_date||(e.start_date="Tanggal Libur harus diisi"),a.end_date||(e.end_date="Deskripsi harus diisi"),a.start_date&&a.end_date){const i=new Date(a.start_date),o=new Date(a.end_date),s=7*24*60*60*1e3;o.getTime()-i.getTime()>s&&(e.start_date="Rentang tanggal tidak boleh lebih dari satu minggu",e.end_date="Rentang tanggal tidak boleh lebih dari satu minggu")}return e},yr=a=>{const e=D(),{handleSubmit:i,title:o}=a,s=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Datang",dataIndex:"jam_datang",key:"jam_datang",render:(u,m)=>({props:{style:{background:K({status:m.status_datang,type:"jam_datang"})}},children:t.jsx("div",{children:m.status_datang==="LIBUR"?"LIBUR":m.status_datang==="CUTI"?"CUTI":u})})},{title:"Pulang",dataIndex:"jam_pulang",key:"jam_pulang",render:(u,m)=>({props:{style:{background:K({status:m.status_pulang,type:"jam_pulang"})}},children:t.jsx("div",{children:m.status_pulang==="LIBUR"?"LIBUR":m.status_pulang==="CUTI"?"CUTI":u})})},{title:"Break / Menit",dataIndex:"total_break",key:"total_break",render:(u,m)=>({props:{style:{background:K({status:m.status_break,type:"isoma"})}},children:t.jsx("div",{children:m.status_break==="LIBUR"?"LIBUR":m.status_break==="CUTI"?"CUTI":u})})},{title:"Istirahat / Menit",dataIndex:"total_istirahat",key:"total_istirahat",render:(u,m)=>({props:{style:{background:K({status:m.status_istirahat,type:"isoma"})}},children:t.jsx("div",{children:m.status_istirahat==="LIBUR"?"LIBUR":m.status_istirahat==="CUTI"?"CUTI":u})})},{title:"Sholat / Menit",dataIndex:"total_sholat",key:"total_sholat",render:(u,m)=>({props:{style:{background:K({status:m.status_sholat,type:"isoma"})}},children:t.jsx("div",{children:m.status_sholat==="LIBUR"?"LIBUR":m.status_sholat==="CUTI"?"CUTI":u})})}],n=Xe();j.useEffect(()=>{r()},[e]);const r=async()=>{await Ka(1e3),e(M("dashboardTimeKeeping","start_date",z)),e(M("dashboardTimeKeeping","end_date",z)),setTimeout(()=>{e(n.cariLaporan("DASHBOARD"))},300)},d=()=>{e(n.cariLaporan("DASHBOARD"))},l=I(u=>u.utility.getDataTmp.data||[]);return t.jsxs(q,{title:`${o||"Dashboard Time Keeping"}`,children:[t.jsx("form",{onSubmit:i(d),children:t.jsxs("div",{className:"row",children:[t.jsx(Na,{className:"col-3"}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tgl Awal",name:"start_date",component:N,placeholder:"Pilih Tanggal",type:"date"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tgl Akhir",name:"end_date",component:N,placeholder:"Pilih Tanggal",type:"date"})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{block:!0,type:"submit",color:"primary",children:"Cari Data"})})]})}),t.jsx(Z,{dataSource:l||[],columns:s,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})]})},xr={form:"dashboardTimeKeeping",enableReinitialize:!0,validate:br},vn=O(xr)(yr),fr=()=>{const a=D(),e=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Alasan",dataIndex:"leave_description",key:"leave_description"},{title:"Toko",dataIndex:"kode_toko",key:"kode_toko"}];j.useEffect(()=>{a(ia.getReviewPengajuanCuti({namaForm:"DASHBOARD",status_validasi:"OPEN"}))},[a]);const i=I(o=>o.transaksi.reviewPengajuanCuti);return t.jsx(q,{title:"Dashboard Pengajuan Cuti",children:t.jsx(Z,{dataSource:i.data,columns:e,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})})},jr=O({form:"dashboardReviewCuti"})(fr),Tr=()=>{const a=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Ultah",dataIndex:"tgl_lahir",key:"tgl_lahir"},{title:"Toko",dataIndex:"kode_toko",key:"kode_toko"}];j.useEffect(()=>{o()},[]);const[e,i]=j.useState([]),o=async()=>{try{const s=await H(L.dashboard.hbd,{tgl_system:z,kode_toko:me?void 0:`${ma}`});i(s.data)}catch{i([])}};return t.jsx(q,{title:"Dashboard Ulang Tahun",children:t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})})},Lr=O({form:"DashbaordUlangTahun"})(Tr),Pr=()=>{const a=D();return j.useEffect(()=>{a(Q.getDataToko())},[a]),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(Lr,{})}),t.jsx("div",{className:"col-6",children:t.jsx(jr,{})}),t.jsx("div",{className:"col-12",children:t.jsx(vn,{})})]})},vr=a=>{const e={};return a.user_id||(e.user_id="User Id harus diisi"),a.password||(e.password="Password harus diisi"),e},Nr="/assets/images/white-concrete-wall.webp",Sr=[{path:"/app/dashboard",icon:"fa fa-home",title:"Dashboard",is_show:!0},{path:"#",icon:"fa fa-database",title:"Data Master",is_show:!1,children:[{path:"/app/data-pegawai",title:"Data Pegawai",is_show:!1},{path:"/app/data-jabatan",title:"Data Jabatan",is_show:!1},{path:"/app/data-hari-libur",title:"Data Hari Libur Toko",is_show:!1},{path:"/app/data-user",title:"Data User",is_show:!1}]},{path:"#",icon:"fa fa-database",title:"Parameter",is_show:!1,children:[{path:"/app/parameter-bonus",title:"Bonus Sales",is_show:!1},{path:"/app/parameter-target-sales",title:"Target Sales",is_show:!1},{path:"/app/parameter-target-toko",title:"Target Toko",is_show:!1},{path:"/app/parameter-cuti",title:"Parameter Cuti",is_show:!1},{path:"/app/parameter-koversi-cuti",title:"Parameter Konversi Cuti",is_show:!1},{path:"/app/parameter-shift-kerja",title:"Parameter Shift Kerja",is_show:!1},{path:"/app/parameter-absen-terlambat",title:"Parameter Absen Terlambat",is_show:!1},{path:"/app/parameter-izin-keluar-masuk",title:"Parameter Izin Keluar Massuk",is_show:!1}]},{path:"/app/time-keeping",icon:"fa fa-business-time",title:"Time Keeping",is_show:!1},{path:"#",icon:"fa fa-calendar-check",title:"Transaksi",is_show:!1,children:[{path:"/app/payroll",title:"Payroll",is_show:!1},{path:"/app/review-cuti",title:"Review Cuti",is_show:!1},{path:"/app/sinkron-data-pegawai",title:"Sinkron Data Pegawai",is_show:!1},{path:"/app/transaksi-lembur",title:"Lembur",is_show:!1}]},{path:"#",icon:"fa fa-folder-open",title:"Laporan",is_show:!1,children:[{path:"/app/laporan-time-keeping",title:"Laporan Time Keeping",is_show:!1},{path:"/app/laporan-pengajuan-cuti",title:"Laporan Pengajuan Cuti",is_show:!1},{path:"/app/laporan-kas-bon",title:"Laporan Kas Bon"},{path:"/app/laporan-potongan-lain-lain",title:"Laporan Potongan Lain",is_show:!1},{path:"/app/laporan-payroll",title:"Laporan Payroll",is_show:!1},{path:"/app/laporan-pelangaran-pegawai",title:"Laporan Pelanggaran Pegawai",is_show:!1},{path:"/app/laporan-global-payroll",title:"Laporan Global Payroll",is_show:!1},{path:"/app/laporan-data-pegawai",title:"Laporan Data Pegawai",is_show:!1},{path:"/app/laporan-lembur",title:"Laporan Lembur",is_show:!1},{path:"/app/laporan-pengajuan-izin-pergi",title:"Laporan Pengajuan Izin Pergi",is_show:!1},{path:"/app/laporan-pengajuan-izin-pulang-cepat",title:"Laporan Pengajuan Izin Pulang Cepat",is_show:!1},{path:"/app/laporan-absen-terlambat",title:"Laporan Absen Terlambat",is_show:!1},{path:"/app/laporan-piutang-kas-bon",title:"Laporan Piutang Kasbon",is_show:!1}]},{path:"#",icon:"fa fa-folder-open",title:"Utility",is_show:!1,children:[{path:"/app/setting-member",title:"Setting Member",is_show:!1},{path:"/app/cetak-member",title:"Cetak Member",is_show:!1}]}],Er=[{path:"/app/dashboard",icon:"fa fa-home",title:"Dashboard",is_show:!0},{icon:"fa fa-users",path:"/app/data-user",title:"Data User",is_show:!1},{path:"/app/time-keeping",icon:"fa fa-business-time",title:"Time Keeping",is_show:!1},{path:"#",icon:"fa fa-calendar-check",title:"Transaksi",is_show:!1,children:[{path:"/app/pengajuan-cuti",title:"Pengajuan Cuti",is_show:!1},{path:"/app/kas-bon",title:"Kas Bon",is_show:!1},{path:"/app/potongan-lain-lain",title:"Potongan Lain Lain",is_show:!1},{path:"/app/pelanggaran-pegawai",title:"Pelanggaran Pegawai",is_show:!1},{path:"/app/pengajuan-izin-pergi",title:"Pengajuan Izin Pergi",is_show:!1},{path:"/app/pengajuan-izin-pulang-cepat",title:"Pengajuan Izin Pulang Cepat",is_show:!1},{path:"/app/tukar-libur",title:"Pengajuan Tukar Libur",is_show:!1}]}],Oa=un==="PUSAT"?Sr:Er,Dr={major:"1",minor:"0",patch:"0",revision:"24120404"},oe={buildVersion:Dr},Ar=()=>async(a,e)=>{var i,o;try{const n=(o=(i=e().form)==null?void 0:i.loginForm)==null?void 0:o.values,r=await aa(L.login,n);ka("userdata",r.data),r.data.level==="SU"||r.data.level==="OWNER"?ka("hakAkses",Oa):await Ir(r.data),setTimeout(()=>{a(c.stopLoading()),a(jn.isLogin(!0))},1e3)}catch(s){v(`${s}`),a(c.stopLoading())}},Ir=a=>new Promise(async(e,i)=>{if(JSON.parse(a.hak_akses_json||"[]").length>0){const o=[];JSON.parse(a.hak_akses_json||"[]").forEach(n=>{var r;if(n.is_show)if(n.children){const d=(r=n.children)==null?void 0:r.map(u=>{const m=Array.isArray(u.children)?u.children.filter(g=>g.is_show):void 0;return{...u,children:m}}),l={...n,children:d==null?void 0:d.filter(u=>u.is_show)};o.push(l)}else{const d={icon:n.icon,is_show:n.is_show,path:n.path,title:n.title,user_id:a.user_id};o.push(d)}});const s=o.map(n=>{var d,l;(d=n.children)!=null&&d.length||delete n.children;const r=(l=n.children)==null?void 0:l.map(u=>{var m;return(m=u.children)!=null&&m.length||delete u.children,u});return{...n,children:r}});ka("hakAkses",s),e(!0)}else bn("Hak Akses Belum Di Setting"),i(!1)}),Mr=a=>{const e=D(),i=I(d=>d.helper),[o,s]=j.useState(!0);j.useEffect(()=>(e(ua.handleSetPageSidebar(!1)),e(ua.handleSetPageHeader(!1)),()=>{e(ua.handleSetPageHeader(!0)),e(ua.handleSetPageSidebar(!0))}),[e]);const{handleSubmit:n}=a,r=async()=>{e(c.setLoading({screen:!0})),e(Ar())};return i.getIsLogin?t.jsx(nn,{to:"/app/dashboard"}):t.jsxs("div",{className:"login login-v2 fw-bold",children:[t.jsxs("div",{className:"login-cover",children:[t.jsx("div",{className:"login-cover-img",style:{backgroundImage:"url("+Nr+")"}}),t.jsx("div",{className:"login-cover-bg"})]}),t.jsxs("div",{className:"login-container",children:[t.jsxs("div",{className:"login-header",children:[t.jsx("div",{className:"brand",children:t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx("span",{className:"logo"})," ",t.jsx("b",{children:"Login Us "})]})}),t.jsx("div",{className:"icon",children:t.jsx("i",{className:"fa fa-lock"})})]}),t.jsx("div",{className:"login-content",children:t.jsxs("form",{onSubmit:n(r),children:[t.jsx("div",{className:"mb-20px",children:t.jsx(p,{label:"User Id",name:"user_id",type:"text",noUpperCase:!0,placeholder:"Masukan User Id",component:N})}),t.jsx("div",{className:"mb-20px",children:t.jsx(p,{type:"text",label:"Passsword",name:"password",enableenter:!0,noUpperCase:!0,id:"password",nouperCase:!0,placeholder:"Masukan Password",component:N,right:!0,inputGroup:!0,textIconGroup:o?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:o?"password-hide":"",handleClick:()=>s(!o)})}),t.jsx("div",{className:"mb-20px",children:t.jsx(C,{disabled:a.pristine||a.submitting,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Login"})}),t.jsxs("div",{className:"text-center",children:["© All Right Reserved Time Keeping Management Solution ",t.jsx("br",{}),"Version ",oe.buildVersion.major,".",oe.buildVersion.minor,".",oe.buildVersion.patch,".",oe.buildVersion.revision]})]})})]})]})},Vt=O({form:"loginForm",validate:vr})(Mr),Qa=()=>{const a=D(),e=I(i=>i.helper.getIsLogin);return j.useEffect(()=>(a(ua.handleSetPageSidebar(!1)),a(ua.handleSetPageHeader(!1)),()=>{a(ua.handleSetPageHeader(!0)),a(ua.handleSetPageSidebar(!0))}),[a]),t.jsxs("div",{className:"error",children:[t.jsx("div",{className:"error-code",children:"404"}),t.jsxs("div",{className:"error-content",children:[t.jsx("div",{className:"error-message",children:"We couldn't find it..."}),t.jsxs("div",{className:"error-desc mb-4",children:["The page you're looking for doesn't exist. ",t.jsx("br",{}),"Perhaps, there pages will help find what you're looking for."]}),t.jsx("div",{children:t.jsx(ve,{to:e?"/app/dashboard":"/",className:"btn btn-success px-3",children:"Go Home"})})]})]})},Cr=async({title:a,data:e})=>{const i=new de;i.setProperties({title:a||"Cetak PDF"});const o=e.nota.map(n=>e.notasetting.map(r=>({...r,value:n[r.name.replace(/(_copy)?/g,"")]||r.value})));for(let n=0;n<o.length;n++)o[n].forEach(async d=>{const l=d.position_x*.2645833333,u=d.position_y*.2645833333,m=d.width*.2645833333,g=d.height*.2645833333,k=Number(d.rotate*-1);if(d.jenis==="text")i.setFont("helvetica",d.font_style||"normal"),i.setFontSize(d.font_size||10),i.text(i.splitTextToSize(d.value,m),l,u,{angle:k});else if(d.jenis==="line")i.line(l,u+15,l+m,u+15);else if(d.jenis!=="gambar"){const h=document.createElement("canvas"),f=d.jenis==="qrcode"?"qrcode":"code128";bi.toCanvas(h,{bcid:f,text:String(d.isi),scale:3,height:10,includetext:!1,textxalign:"center"});const P=h.toDataURL();i.addImage(P,"JPEG",l,u,m,g,"","MEDIUM",Number(d.rotate*-1))}}),n<o.length-1&&i.addPage();const s=i.output("bloburl");window.open(s)},wr=(a,e)=>async i=>{let o=0,s=0,n=0,r=0;if(i(Ze(e)),document.getElementById(a.id+"header")){const g=document.getElementById(a.id+"header");g&&(g.onmousedown=d)}else a.onmousedown=d;document.onkeydown=u;function d(g){g=g||window.event,g.preventDefault(),n=g.clientX,r=g.clientY,document.onmouseup=m,document.onmousemove=l}function l(g){g=g||window.event,g.preventDefault(),o=n-g.clientX,s=r-g.clientY,n=g.clientX,r=g.clientY,a.style.top=a.offsetTop-s+"px",a.style.left=a.offsetLeft-o+"px",a.style.backgroundColor="red";const k=a.getAttribute("id"),h=X("list_component"),f=h.findIndex(P=>P.name===k);h[f].position_y=a.offsetTop-s,h[f].position_x=a.offsetLeft-o,ka("list_component",h)}function u(g){const k=a.offsetTop,h=a.offsetLeft,f=1;g.key==="ArrowUp"?a.style.top=k-f+"px":g.key==="ArrowDown"?a.style.top=k+f+"px":g.key==="ArrowLeft"?a.style.left=h-f+"px":g.key==="ArrowRight"&&(a.style.left=h+f+"px");const P=a.getAttribute("id"),S=X("list_component"),A=S.findIndex(T=>T.name===P);S[A].position_y=a.offsetTop,S[A].position_x=a.offsetLeft,ka("list_component",S)}function m(){document.onmouseup=null,document.onmousemove=null}},Ba=a=>async e=>{var i;e(c.setLoading({screen:!0}));try{const o=await H("member-card");if(ka("list_component",[]),o.data){ka("list_component",o.data),ka("filed",a),e(M("SettingMember","style_font","")),e(M("SettingMember","style_font",((i=o.data[0])==null?void 0:i.font_family)||null));const s=document.getElementById("filed_nota");s&&(s.innerHTML=`<h5>NOTA ${a.replaceAll("_"," ")} DESKTOP </h5>`),e(c.stopLoading()),e(c.setDataNota({data:o.data})),e(M("SettingMember","cari","")),e(c.showModal({isModalShow:!1,isEdit:!1,data:a||[],namaForm:"",title:""})),ka("info","BOLEHSETTING")}}catch(o){o===422&&(e(c.showModal({isModalShow:!1,isEdit:!0,data:a||[],namaForm:"",title:""})),ka("info","SEDANGDISETTING")),v(`${o}`),e(c.stopLoading())}},Ze=a=>async e=>{const i=X("filed")||"HUTANG",s=X("list_component").map(n=>{if(a===n.name){console.log(n);const r={...n,height:Number(n.height),isi:n.value,jenis:n.jenis,name:n.name,position_x:Number(n.position_x),position_y:Number(n.position_y),rotate:n.rotate,font_size:Number(n.font_size||0),is_show:!0,width:Number(n.width),type:i,is_deletable:(n==null?void 0:n.is_deletable)||!1};e(M("SettingMember","name",n.name)),e(M("SettingMember","width",n.width)),e(M("SettingMember","rotate",n.rotate)),e(M("SettingMember","font_size",n.font_size)),e(M("SettingMember","height",n.height)),e(M("SettingMember","jenis",n.jenis)),e(M("SettingMember","value",n.value)),e(M("SettingMember","font_style",n.font_style)),n=r}return n});ka("list_component",s),e(c.setDataNota({data:s}))},Rr=a=>async e=>{const i=X("list_component"),o=X("filed");await _n({title:"Anda Yakin Ingin Menghapus Data Ini",icon:"info"}).then(()=>{const s=i.map(n=>a===n.name?{...n,is_show:!1,type:o}:n);ka("list_component",s),e(c.setDataNota({data:s})),e(M("SettingMember","name","")),e(M("SettingMember","width","")),e(M("SettingMember","rotate","")),e(M("SettingMember","font_size","")),e(M("SettingMember","height","")),e(M("SettingMember","jenis_text","")),e(M("SettingMember","value",""))}).catch(s=>{console.log("Error",s)})},Kr=()=>async(a,e)=>{var i;try{const o=(i=e().form.ModalTambahLabel)==null?void 0:i.values;a(c.setLoading({screen:!0}));const s={name:o!=null&&o.label.toLowerCase().includes("label")?o==null?void 0:o.label:(o==null?void 0:o.label)+"_label",value:(o==null?void 0:o.value)||"",type:X("filed"),jenis:"text",position_y:350,position_x:350,is_show:!0,width:100,height:25,rotate:0,font_size:10};(await aa("nota",s)).data&&(a(c.hideModal()),$("Label Berhasil Di Tambahkan"),a(Ba(X("filed"))),a(Ze(s.name)),setTimeout(()=>{a(c.stopLoading())},300))}catch(o){a(c.stopLoading()),$(`${o}`)}},$r=()=>async(a,e)=>{var i,o;try{const n=(i=e().form.SettingMember)==null?void 0:i.values,r=X("list_component");if(n.jenis===void 0)return bn("Nota label belum dipilih"),!1;a(c.setLoading({screen:!0}));const d=r.map(u=>{var m;return n.name===u.name?{...u,isi:(u==null?void 0:u.isi)||"",position_y:Number((u==null?void 0:u.position_y)||350),position_x:Number((u==null?void 0:u.position_x)||350),value:n==null?void 0:n.value,height:Number(n==null?void 0:n.height),font_style:n.font_style,jenis:n.jenis,font_size:Number((n==null?void 0:n.font_size)||0),rotate:Number(n==null?void 0:n.rotate),width:Number(n.width),is_show:!0,type:X("filed")}:{...u,is_show:u.is_show||!1,isi:(u==null?void 0:u.isi)||"",rotate:(u==null?void 0:u.rotate)||0,font_family:((m=n==null?void 0:n.font_family)==null?void 0:m.length)===0?"times_new_roman":(n==null?void 0:n.font_family)||"-"}}),l={font:((o=n==null?void 0:n.font_family)==null?void 0:o.length)===0?"times_new_roman":n==null?void 0:n.font_family,type:X("filed"),detail_nota:d};await aa("member-card",l),$("Nota Berhasil Disimpan"),a(Ba(X("filed"))),a(c.stopLoading())}catch(s){v(`${s}`),a(c.stopLoading())}},Fr=a=>async e=>{try{const i={name:a,type:String(X("filed"))};await ya("nota",i),$("Label berhasil di hapus"),e(Ba(X("filed")))}catch(i){e(Ba(X("filed"))),v(`${i}`)}},Br=(a,e,i)=>async o=>{try{const s={name:String(a||"")+"_copy",value:String(e||0)+"_copy",jenis:i,type:X("filed"),position_y:350,position_x:350,is_show:!0,width:100,height:25,rotate:0,font_size:10};(await aa("nota",s)).data&&($("Data Berhasil Di Copy"),o(Ba(X("filed"))))}catch(s){o(Ba(X("filed"))),v(`${s}`)}},zr=a=>{const{handleSubmit:e,pristine:i,submitting:o}=a,s=D(),n=async()=>{s(Kr())};return t.jsx("form",{onSubmit:e(n),autoComplete:"off",children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12",children:t.jsx(p,{name:"label",label:"Label",nouperCase:!0,normalize:is,placeholder:"Masukkan Label",component:N,noUpperCase:!0})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{name:"value",label:"value",placeholder:"Masukkan Isi",component:N,noUpperCase:!0})}),t.jsx("div",{className:"col-12",children:t.jsx("button",{id:"simpan",name:"simpan",type:"submit",disabled:i||o,className:"btn btn-primary btn-block",children:"Simpan Data"})})]})})},Ur={form:"ModalTambahLabel",enableReinitialize:!0},Or=O(Ur)(zr),Gr=()=>{const a=D(),e=X("list_component");j.useEffect(()=>{a(ua.handleSetPageSidebar(!1)),a(ua.handleSetPageHeader(!1)),document.body.style.overflowX="hidden",document.body.style.overflowY="auto",a(c.setDataNota({data:e}));const r=X("font");if(document.getElementById("filed_nota")){const l="KARTU_MEMBER";a(Ba(l)),a(M("SettingMember","pilihnota",l)),a(M("SettingMember","style_font",r??"")),ns("list_component")}return()=>{a(ua.handleSetPageHeader(!0)),a(ua.handleSetPageSidebar(!0)),document.body.style.overflowX="",document.body.style.overflowY=""}},[a]);const i=I(r=>r.utility.getModal.isEdit),o=I(r=>r.utility.getNota),s=r=>{const d=new RegExp(`${r}`,"i");if(r==="")a(c.setDataNota({data:e}));else{const l=e.filter(u=>d.test(u.name)||d.test(u.value));a(c.setDataNota({data:l}))}},n=I(r=>r.utility);return t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-7",children:t.jsx("div",{className:"container-nota",children:e.map((r,d)=>r.is_show&&t.jsx("div",{style:{width:r.width,height:r.height,position:"absolute",backgroundColor:"red",cursor:"grab",left:r.position_x+"px",top:r.position_y+"px",transform:`rotate(${r.rotate}deg)`,fontSize:"10px"},id:`${r.name}`,className:"kotakNota",onDoubleClick:()=>a(Rr(`${r.name}`)),onClick:()=>a(wr(document.getElementById(`${r.name}`),`${r.name}`)),children:r.name},d))})}),t.jsxs("div",{className:"col-4",children:[t.jsxs("div",{className:"text-center",id:"filed_nota",children:[" ","Nota"," "]}),t.jsx("div",{className:"row mt-4",children:t.jsx("div",{className:"col-lg-12",children:t.jsx(p,{name:"cari",label:"Cari Nota",noUpperCase:!0,placeholder:"Cari Field",onChange:r=>s(r.target.value),component:N})})}),t.jsx("div",{className:"mt-3",children:t.jsx("ul",{className:"list-group",id:"list_component",style:{overflow:"scroll",height:"200px"},children:o.data.map((r,d)=>{var l;return t.jsx("li",{className:"list-group-item",children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-9",children:t.jsxs("button",{disabled:i,onClick:()=>a(Ze(r.name)),className:"btn btn-default btn-sm text-nowrap",children:[" ",(l=r==null?void 0:r.value)==null?void 0:l.slice(0,20)," (",r.name,")"," "]})}),t.jsxs("div",{className:"col-3 text-end",children:[t.jsx("button",{disabled:i,className:"btn btn-default btn-sm",onClick:()=>a(Br(r.name,r.value,r==null?void 0:r.jenis)),children:t.jsx("i",{className:"fa fa-copy fa-lg",children:" "})})," ",t.jsx("button",{disabled:i,onClick:()=>a(Fr(r.name)),className:`btn btn-default btn-sm ${r.is_deletable?"":"d-none"}`,children:t.jsx("i",{className:"fa fa-trash fa-lg",children:" "})})]})]})},d)})})}),o.data.length!==0&&t.jsxs("div",{className:"row mt-3",children:[t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"nama_text",name:"name",label:"Nama Text",readOnly:!0,noUpperCase:!0,placeholder:"Nama Text",component:N})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"font_style",name:"font_style",label:"Font Style",noUpperCase:!0,placeholder:"Font Style",options:[{value:"normal",label:"Normal"},{value:"bold",label:"Bold"}],component:ra})}),t.jsx(p,{id:"url_image",name:"url_image",type:"hidden",component:ca}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"jenis",name:"jenis",label:"Jenis",placeholder:"Jenis",noUpperCase:!0,options:[{value:"text",label:"Text"},{value:"line",label:"Line"},{value:"gambar",label:"Gambarr"},{value:"barcode",label:"Barcode"},{value:"qrcode",label:"Qr Code"}],disabled:i,component:ra})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"isi_field_value",name:"value",label:"Isi",noUpperCase:!0,placeholder:"Isi",readOnly:i,component:N})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"width",name:"width",label:"Width",normalize:Ra,placeholder:"Width",readOnly:i,isNumber:!0,component:N})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"rotate",name:"rotate",label:"Rotate",placeholder:"Rotate",readOnly:i,component:N})}),t.jsx("div",{className:"col-lg-4",children:t.jsx(p,{id:"height",name:"height",label:"Height",isNumber:!0,normalize:Ra,placeholder:"Height",readOnly:i,component:N})}),t.jsx("div",{className:"col-lg-4 ",children:t.jsx(p,{id:"font_size",name:"font_size",nouperCase:!0,isNumber:!0,label:"Font Size",normalize:Ra,placeholder:"Font Size",readOnly:i,component:N})}),t.jsx("div",{className:"col-lg-4 mt-4",children:t.jsxs("button",{id:"simpan",name:"simpan",disabled:i,onClick:()=>a($r()),className:"btn btn-success btn-block",children:[n.getLoading.screen?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-4"})," "]}):"","Simpan Data"]})})]})]}),t.jsx(ga,{namaForm:"Tambah Label",title:"Tambah Label",children:t.jsx(Or,{})})]})},Hr=O({form:"SettingMember"})(Gr),Jr=pa(),Qe=()=>{const a=()=>async(l,u)=>{var k;const m=u(),g=(k=m.form.ModalPegawai)==null?void 0:k.values;m.utility.getModal.isEdit?l(i(g)):l(e(g))},e=l=>async u=>{try{u(c.setLoading({screen:!0})),await aa(L.dataMaster.pegawai,{...l,daily_sholat_minute:+l.daily_sholat_minute,daily_rest_minute:+l.daily_rest_minute,daily_break_minute:+l.daily_break_minute}),$("Data Berhasil Disimpan"),u(Q.getDataPegawai()),u(c.stopLoading()),u(c.hideModal()),u(ta("ModalPegawai")),u(s(l))}catch(m){v(`${m}`),u(c.stopLoading())}},i=l=>async u=>{try{u(c.setLoading({screen:!0})),await ba(`${L.dataMaster.pegawai}/${l._id}`,{...l,daily_sholat_minute:+l.daily_sholat_minute,daily_rest_minute:+l.daily_rest_minute,daily_break_minute:+l.daily_break_minute}),$("Data Berhasil Diedit"),u(Q.getDataPegawai()),u(c.stopLoading()),u(ta("ModalPegawai")),u(c.hideModal())}catch(m){v(`${m}`),u(c.stopLoading())}},o=l=>async u=>{try{u(c.setLoading({button:!0})),await ya(`${L.dataMaster.pegawai}/${l}`),u(Q.getDataPegawai()),$("Data Berhasil Dihapus"),u(c.stopLoading())}catch(m){u(c.stopLoading()),v(`${m||"Data Gagal Hapus"}`)}},s=l=>async u=>{const m=document.getElementById("nota_ganerate");m&&(m.value=`${l.kode_toko}~${l.kode_pegawai}`),gn("reg_fingerprint"),u(Jr.showModal({isEdit:!0,title:"Fingerprint",namaForm:"Fingerprint",data:l}))};return{prosesData:a,removeData:o,cariDataSales:()=>async(l,u)=>{var k;await Ka();const g=(k=u().form.ModalPegawai)==null?void 0:k.values;if(g!=null&&g.kode_toko)try{l(c.setLoading({screen:!0}));const h=await H(L.externalApi.dataSales,{kode_toko:g==null?void 0:g.kode_toko});l(c.simpanDataTmp({data:h.data})),l(c.stopLoading())}catch(h){l(c.stopLoading()),v(`${h}`),l(c.simpanDataTmp({data:[]}))}else l(c.simpanDataTmp({data:[]}))},updatePin:()=>async(l,u)=>{var m;try{const k=(m=u().form.ModalUpdatePin)==null?void 0:m.values;l(c.setLoading({screen:!0})),await aa(L.dataMaster.updatePinPegawai,{kode_pegawai:k.kode_pegawai,pin:k.pin}),$("Ganti Pin Berhasil"),l(c.stopLoading()),l(c.hideModal())}catch(g){l(c.stopLoading()),v(`${g}`)}},cetakMember:l=>async u=>{try{u(c.setLoading({screen:!0}));const m=await H(L.utility.memberCard,{kode_pegawai:l.kode_pegawai});Cr({title:"Cetak Kartu Pegawai",data:{nota:[m.data.dataPegawai],notasetting:m.data.kartuPegawai}}),u(c.stopLoading())}catch(m){u(c.stopLoading()),console.log(m)}},showFingerPrint:s}},at=a=>{const{form:e,changeKodePegawai:i}=a,o=D(),s=pa(),n=Qe();j.useEffect(()=>{o(Q.getDataPegawai())},[o]);const r=[{title:"Actions",key:"actions",align:"center",render:(u,m)=>t.jsx(t.Fragment,{children:t.jsx(yi,{placement:"bottomLeft",arrow:!0,dropdownRender:()=>t.jsx("ul",{className:"ant-dropdown-menu ant-dropdown-menu-root ant-dropdown-menu-vertical ant-dropdown-menu-light css-dev-only-do-not-override-1n7nwfa",role:"menu","data-menu-list":"true",children:e==="CetakKartuPegawai"?t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsx(Xa,{onClick:()=>o(n.cetakMember(m)),children:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa fa-print"})," Cetak Kartu Pegawai"]})})}):t.jsxs(t.Fragment,{children:[t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsx(Xa,{onClick:()=>o(s.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormPegawai",data:m})),children:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa fa-edit"})," Edit Pegawai"]})})}),t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsx(Xa,{onClick:()=>o(n.showFingerPrint(m)),children:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa fa-fingerprint"})," Edit Fingerprint"]})})}),t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsxs(Xa,{onClick:()=>o(s.showModal({isEdit:!1,title:"Update Pin",namaForm:"FormUpdatePin",data:m})),children:[t.jsx("i",{className:"fa fa-key"})," Edit Pin"]})}),t.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem","data-menu-id":"rc-menu-uuid-63939-5-2",children:t.jsxs(Xa,{usePopconfirm:!0,placement:"right",onClick:()=>o(n.removeData(m._id)),children:[t.jsx("i",{className:"fa fa-trash"})," Hapus Data"]})})]})}),children:t.jsx(Ne,{children:"..."})})})},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Kode Sales",dataIndex:"kode_sales",key:"kode_sales"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tgl Lahir",dataIndex:"tgl_lahir",key:"tgl_lahir",render(u){return t.jsxs("div",{children:[" ",Y(u,!0)==="Invalid date"?"":Y(u,!0)," "]})}},{title:"Tanggal Join",dataIndex:"tgl_join",key:"tgl_join",render(u){return t.jsxs("div",{children:[" ",Y(u,!0)," "]})}},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Hari Libur",dataIndex:"hari_libur",key:"hari_libur"},{title:"Shift",dataIndex:"type_shift",key:"type_shift"},{title:"Lama Istirahat",dataIndex:"daily_rest_minute",key:"daily_rest_minute"},{title:"Lama Sholat",dataIndex:"daily_sholat_minute",key:"daily_sholat_minute"},{title:"Lama Break",dataIndex:"daily_break_minute",key:"daily_break_minute"},{title:"Jatah Cuti",dataIndex:"cuti_tahunan",key:"cuti_tahunan"},{title:"Cuti Terpakai",dataIndex:"cuti_terpakai",key:"cuti_terpakai"},{title:"Gajih Pokok",dataIndex:"gaji_pokok",key:"gaji_pokok",render(u){var m;return t.jsx("div",{children:(m=Number(u||0))==null?void 0:m.toLocaleString("kr-ko")})}},{title:"Tunjangan Jabatan",dataIndex:"tunjangan_jabatan",key:"tunjangan_jabatan",render(u){var m;return t.jsx("div",{children:(m=Number(u||0))==null?void 0:m.toLocaleString("kr-ko")})}}],d=I(u=>u.dataMaster.dataPegawai),l={onChange:(u,m)=>{m&&(i==null||i(m))},getCheckboxProps:u=>({disabled:u.kode_pegawai==="Disabled User",name:u.kode_pegawai})};return t.jsx(Z,{addButtonTitle:e==="pencarian_pegawai"||e==="CetakKartuPegawai"?void 0:"Tambah Data",dataSource:d.data,columns:r.filter(u=>!(e==="pencarian_pegawai"&&u.key==="actions")),rowKey:"kode_pegawai",scrollX:!0,width:2e3,rowSelection:e==="pencarian_pegawai"&&{type:"radio",...l},onAddButtonClick:()=>o(s.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormPegawai"}))})},Vr=a=>{const e={};return a.gaji_pokok===void 0&&(e.gaji_pokok="Gaji Pokok harus diisi"),a.hari_libur||(e.hari_libur="Hari Libur harus diisi"),a.jabatan||(e.jabatan="Jabatan harus dipilih"),a.daily_break_minute||(e.daily_break_minute="Jam Break harus diisi"),a.daily_rest_minute||(e.daily_rest_minute="Jam Istirahat harus diisi"),a.daily_sholat_minute||(e.daily_sholat_minute="Jam Sholat harus diisi"),a.cuti_tahunan===void 0&&(e.cuti_tahunan="Jatah Cuti harus diisi"),a.kode_sales||(e.kode_sales="Kode Sales harus diisi"),a.nama_pegawai||(e.nama_pegawai="Nama Pegawai harus diisi"),a.pin||(e.pin="Pin harus diisi"),a.type_shift||(e.type_shift="Shift harus dipilih"),a.tgl_lahir||(e.tgl_lahir="Tanggal Lahir harus diisi"),a.tunjangan_jabatan===void 0&&(e.tunjangan_jabatan="Tunjangan Jabatan harus diisi"),a.kode_toko||(e.kode_toko="Kode Toko harus di pilih"),a.hari_libur||(e.hari_libur="Hari Libur harus di pilih"),a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus di pilih"),a.tgl_join||(e.tgl_join="Tanggal Join harus di diisi"),e},qr=a=>{var T;const{handleSubmit:e,pristine:i,submitting:o,isEdit:s,kode_toko:n,type_shift:r}=a,d=D(),l=Qe(),u=async()=>{d(l.prosesData())},[m,g]=j.useState(!0),[k,h]=j.useState(n);j.useEffect(()=>{const _=document.getElementById("kode_jenis");return _&&_.focus(),s&&(d(l.cariDataSales()),setTimeout(()=>{console.log(r),d(M("ModalPegawai","type_shift",r))},300)),d(Q.getDataJabatan()),d(Q.getDataToko()),d(sa.getParameterShiftKerja()),()=>{d(c.simpanDataTmp({data:[]}))}},[d,s]);const f=I(_=>_.dataMaster.dataJabatan),P=I(_=>_.dataMaster.dataToko),S=(T=I(_=>_.utility.getDataTmp))==null?void 0:T.data,A=I(_=>_.parameter.parameterShiftKerja);return t.jsx("form",{onSubmit:e(u),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",id:"kode_toko",name:"kode_toko",options:P.data.map(_=>({value:_.kode_toko,label:_.nama_toko})),onChange:_=>{h(_),d(l.cariDataSales())},placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Sales",id:"kode_sales",name:"kode_sales",disabled:s,options:S.sort((_,B)=>{var b;return(b=_==null?void 0:_.kode_sales)==null?void 0:b.localeCompare(B==null?void 0:B.kode_sales)}).map(_=>({value:_.kode_sales,label:_.kode_sales})),placeholder:"Pilih Kode Sales",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Pegawai",id:"kode_pegawai",name:"kode_pegawai",type:"text",readOnly:s,placeholder:"Masukan Kode Pegawai",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Nama Pegawai",id:"nama_pegawai",name:"nama_pegawai",type:"text",placeholder:"Masukan Nama Pegawai",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tgl Lahir",id:"tgl_lahir",name:"tgl_lahir",type:"date",placeholder:"Masukan Jabatan",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Join",id:"tgl_join",name:"tgl_join",placeholder:"Masukan Tanggal Join",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jabatan",id:"jabatan",name:"jabatan",placeholder:"Pilih Jabatan",options:f.data.map(_=>({value:_.jabatan,label:_.jabatan})),component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Shift",id:"type_shift",name:"type_shift",placeholder:"Pilih Shift",options:A.data.filter(_=>_.kode_toko===k).map(_=>({value:_.type_shift,label:_.type_shift})),component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Hari Libur",id:"hari_libur",name:"hari_libur",placeholder:"Masukan Hari Libur",options:[{value:"MINGGU",label:"MINGGU"},{value:"SENIN",label:"SENIN"},{value:"SELASA",label:"SELASA"},{value:"RABU",label:"RABU"},{value:"KAMIS",label:"KAMIS"},{value:"JUMAT",label:"JUMAT"},{value:"SABTU",label:"SABTU"}],component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Lama Istirahat",id:"daily_rest_minute",name:"daily_rest_minute",placeholder:"Masukan Lama Istirahat",component:N,normalize:Ra,right:!0,inputGroup:!0,textIconGroup:"Menit"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Lama Sholat",id:"daily_sholat_minute",name:"daily_sholat_minute",placeholder:"Masukan Lama Sholat",component:N,normalize:Ra,right:!0,inputGroup:!0,textIconGroup:"Menit"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Lama Break",id:"daily_break_minute",name:"daily_break_minute",placeholder:"Masukan Lama Break",component:N,normalize:Ra,right:!0,inputGroup:!0,textIconGroup:"Menit"})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jatah Cuti",id:"cuti_tahunan",name:"cuti_tahunan",placeholder:"Masukan Jatah Cuti",component:ha})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Gaji Pokok",id:"gaji_pokok",name:"gaji_pokok",placeholder:"Masukan Gaji Pokok",isRp:!0,component:ha})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tunjangan Jabatan",id:"tunjangan_jabatan",name:"tunjangan_jabatan",placeholder:"Masukan Tunjangan Jabatan",isRp:!0,component:ha})}),!s&&t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"PIN",id:"pin",name:"pin",placeholder:"Masukan PIN",component:N,normalize:Ra,right:!0,inputGroup:!0,textIconGroup:m?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:m?"password-hide":"",handleClick:()=>g(!m)})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||o,color:"primary",block:!0,type:"submit",className:"btn-lg",children:s?"Edit":"Simpan "})})]})})},Wr=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_,B,b,E,x,R,y,U,w,J,W,ea,na,_a,xa,Sa,Pa,Ca,wa,Ga,Ha,Ja,Va,qa,Wa,tt,nt,it,st,ot,rt,lt,dt,ct,ut,mt,pt,gt,ht,_t;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,kode_toko:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d.kode_toko,type_shift:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.type_shift,initialValues:{_id:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h._id,kode_pegawai:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.kode_pegawai,nama_pegawai:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.nama_pegawai,tgl_lahir:(E=(b=(B=a==null?void 0:a.utility)==null?void 0:B.getModal)==null?void 0:b.data)==null?void 0:E.tgl_lahir,jabatan:(y=(R=(x=a==null?void 0:a.utility)==null?void 0:x.getModal)==null?void 0:R.data)==null?void 0:y.jabatan,type_shift:(J=(w=(U=a==null?void 0:a.utility)==null?void 0:U.getModal)==null?void 0:w.data)==null?void 0:J.type_shift,daily_rest_minute:(na=(ea=(W=a==null?void 0:a.utility)==null?void 0:W.getModal)==null?void 0:ea.data)==null?void 0:na.daily_rest_minute,daily_sholat_minute:(Sa=(xa=(_a=a==null?void 0:a.utility)==null?void 0:_a.getModal)==null?void 0:xa.data)==null?void 0:Sa.daily_sholat_minute,daily_break_minute:(wa=(Ca=(Pa=a==null?void 0:a.utility)==null?void 0:Pa.getModal)==null?void 0:Ca.data)==null?void 0:wa.daily_break_minute,cuti_tahunan:(Ja=(Ha=(Ga=a==null?void 0:a.utility)==null?void 0:Ga.getModal)==null?void 0:Ha.data)==null?void 0:Ja.cuti_tahunan,gaji_pokok:(Wa=(qa=(Va=a==null?void 0:a.utility)==null?void 0:Va.getModal)==null?void 0:qa.data)==null?void 0:Wa.gaji_pokok,tunjangan_jabatan:(it=(nt=(tt=a==null?void 0:a.utility)==null?void 0:tt.getModal)==null?void 0:nt.data)==null?void 0:it.tunjangan_jabatan,kode_sales:(rt=(ot=(st=a==null?void 0:a.utility)==null?void 0:st.getModal)==null?void 0:ot.data)==null?void 0:rt.kode_sales,kode_toko:(ct=(dt=(lt=a==null?void 0:a.utility)==null?void 0:lt.getModal)==null?void 0:dt.data)==null?void 0:ct.kode_toko,hari_libur:(pt=(mt=(ut=a==null?void 0:a.utility)==null?void 0:ut.getModal)==null?void 0:mt.data)==null?void 0:pt.hari_libur,tgl_join:(_t=(ht=(gt=a==null?void 0:a.utility)==null?void 0:gt.getModal)==null?void 0:ht.data)==null?void 0:_t.tgl_join}}:{isEdit:!1}},Yr=la(Wr),Xr={form:"ModalPegawai",enableReinitialize:!0,validate:Vr},Zr=Yr(O(Xr)(qr)),Qr=()=>{var s,n;const a=(n=(s=I(r=>r.utility))==null?void 0:s.getModal)==null?void 0:n.data,[e,i]=j.useState(!1),o=D();return j.useEffect(()=>{if(a.kode_toko&&a.kode_pegawai){const r=tn(Ua.replace("/api/v1",""));return r.connect(),r.on("connect",()=>{r.emit("join-room",`${a.kode_toko}~${a.kode_pegawai}`),r.on("fingerprint-register",async d=>{console.log(d),d.is_valid?(i(!0),await Ka(1e3),o(c.hideModal())):i(!1)})}),()=>{r.disconnect()}}},[a]),t.jsx("div",{children:t.jsxs("div",{className:"text-center",style:{marginTop:100,marginBottom:50},children:[t.jsx("i",{className:`fa-solid fa-fingerprint fa-lg ${e?"":"fa-bounce"}`,style:{fontSize:"10em",color:`${e?"#218838":"#000000"}`}}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("br",{}),e?"Fingerprint Berhasil Di Scan":"Silahkan Scan Fingerprint"]})})},al=a=>{const{handleSubmit:e,pristine:i,submitting:o}=a,s=D(),[n,r]=j.useState(!0),d=Qe(),l=()=>{s(d.updatePin())};return j.useEffect(()=>{da("pin_change")},[]),t.jsx("form",{onSubmit:e(l),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Kode Pegawai",name:"kode_pegawai",placeholder:"Masukan Kode Pegawai",component:N,readOnly:!0})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",placeholder:"Masukan Kode Pegawai",component:N,readOnly:!0})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"PIN",id:"pin_change",name:"pin",placeholder:"Masukan PIN Baru",component:N,normalize:Ra,right:!0,inputGroup:!0,textIconGroup:n?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:n?"password-hide":"",handleClick:()=>r(!n)})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{disabled:i||o,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Update Pin"})})]})})},el=a=>{var e,i,o,s,n,r,d,l,u;return{initialValues:{_id:(o=(i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.data)==null?void 0:o._id,kode_pegawai:(r=(n=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:n.data)==null?void 0:r.kode_pegawai,nama_pegawai:(u=(l=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:l.data)==null?void 0:u.nama_pegawai}}},tl=la(el),nl={form:"ModalUpdatePin",enableReinitialize:!0},il=tl(O(nl)(al)),sl=()=>{const a=I(i=>i.utility),e=a.getModal.title==="Fingerprint"||a.getModal.title==="Update Pin"?500:1e3;return t.jsxs(q,{title:"Master Pegawai",children:[t.jsx(at,{}),t.jsx(ga,{namaForm:"FormMasterKodePabrikan",title:`${a.getModal.title}`,width:e,children:a.getModal.title==="Fingerprint"?t.jsx(Qr,{}):a.getModal.title==="Update Pin"?t.jsx(il,{}):t.jsx(Zr,{})})]})},Nn=()=>{const a=(n,r)=>async(d,l)=>{l().utility.getModal.isEdit?d(i(n,r)):d(e(n,r))},e=(n,r)=>async d=>{try{d(c.setLoading({screen:!0})),await aa(L.dataMaster.user,{...n,hak_akses_json:JSON.stringify(r),kode_toko:`${ma}`}),d(Q.getDataUser()),$("Data Berhasil Disimpan"),d(c.hideModal()),d(c.stopLoading()),d(ta("FormDataUser")),d(c.simpanDataTmp({data:Oa}))}catch(l){d(c.stopLoading()),v(`${l||"Data Gagal Disimpan"}`)}},i=(n,r)=>async d=>{try{await ba(`${L.dataMaster.user}/${n._id}`,{...n,hak_akses_json:JSON.stringify(r),kode_toko:`${ma}`}),d(Q.getDataUser()),$("Data Berhasil Diedit"),d(ta("FormDataUser")),d(c.hideModal()),d(c.simpanDataTmp({data:Oa}))}catch(l){d(c.stopLoading()),v(`${l||"Data Gagal Diedit"}`)}};return{nextPageWithSearch:n=>async r=>{r(Q.getDataUser({skip:n==null?void 0:n.skip,limit:n==null?void 0:n.limit,q:n==null?void 0:n.q}))},prosesData:a,removeData:n=>async r=>{try{r(c.setLoading({button:!0})),await ya(`${L.dataMaster.user}/${n}`),r(Q.getDataUser()),$("Data Berhasil Dihapus"),r(c.stopLoading())}catch(d){r(c.stopLoading()),v(`${d||"Data Gagal Hapus"}`)}}}},ol=()=>{const a=D(),e=pa(),i=Nn();j.useEffect(()=>{a(Q.getDataUser())},[a]);const o=[{title:"User Id",dataIndex:"user_id",key:"user_id"},{title:"Username",dataIndex:"user_name",key:"user_name"},{title:"Level",dataIndex:"level",key:"level"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsxs("div",{className:"text-center",children:[t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:r})),children:t.jsx("i",{className:"fa fa-edit"})})," ",t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})]})}],s=I(n=>n.dataMaster.dataUser);return t.jsx(Z,{addButtonTitle:"Tambah Data",dataSource:s.data,columns:o,rowKey:"user_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataUser"}))})},rl=a=>{const e={};return a.user_id||(e.user_id="User Id harus diisi"),a.user_name||(e.user_name="Username harus diisi"),a._id||a.password||(e.password="Password harus diisi"),a.level||(e.level="level harus dipilih"),e},ll=a=>{var S;const{handleSubmit:e,isEdit:i,idUser:o,hakAkses:s}=a,n=D(),[r,d]=j.useState(!1),l=({treeIndex:A})=>A,u=Nn(),m=I(A=>A.utility),g=async A=>{const T=m.getDataTmp.data;n(u.prosesData(A,T))};j.useEffect(()=>{k(),da(i?"user_name":"user_id")},[o,n]);const k=async()=>{if(s){const A=JSON.parse(s||"[]"),T=Oa.map(_=>{const B=A.find(b=>b.title===_.title);if(B&&B.is_show!==void 0){let b=[];if(_.children&&(b=_.children.map(E=>{const x=B.children.find(R=>R.title===E.title);return x&&x.is_show!==void 0?{...E,is_show:x.is_show}:E})),_.children&&_.children.length>=3){const E=_.children[2];if(B.children&&B.children.length>=3){const x=B.children[2];x&&x.is_show!==void 0&&(E.is_show=x.is_show)}}return{..._,is_show:B.is_show,children:b}}return _});n(c.simpanDataTmp({data:T})),d(!1)}else n(c.simpanDataTmp({data:Oa})),d(!1)},[h,f]=j.useState(!0),P=(S=m.getDataTmp)==null?void 0:S.data;return t.jsxs("form",{onSubmit:e(g),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:m.getScreenSize==="lg"?"col-5":"col-12",style:{maxWidth:m.getScreenSize==="lg"?"34.666667%":"100%"},children:t.jsx("div",{style:{height:400},children:r?t.jsxs(t.Fragment,{children:[t.jsx(ge,{active:!0}),t.jsx(ge,{active:!0}),t.jsx(ge,{active:!0})]}):t.jsx(xi,{treeData:P,onChange:A=>n(c.simpanDataTmp({data:A})),generateNodeProps:({node:A,path:T})=>({title:t.jsx("div",{children:t.jsxs("div",{className:"input-group",children:[t.jsx("input",{type:"text",className:"form-control",value:A.title,onChange:_=>{const B=_.target.value;n(c.simpanDataTmp({data:he({treeData:P,path:T,getNodeKey:l,newNode:{...A,title:B}})}))},placeholder:"Recipient's username"}),t.jsx("div",{className:"input-group-append",children:A.is_show?t.jsx(t.Fragment,{children:t.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation(),n(c.simpanDataTmp({data:he({treeData:P,path:T,getNodeKey:l,newNode:{...A,is_show:!1}})}))},className:"btn btn-primary",children:[" ",t.jsx("i",{className:"fa fa-eye"})," "]})}):t.jsx(t.Fragment,{children:t.jsxs("button",{type:"button",onClick:_=>{_.preventDefault(),_.stopPropagation(),n(c.simpanDataTmp({data:he({treeData:P,path:T,getNodeKey:l,newNode:{...A,is_show:!0}})}))},className:"btn btn-secondary",children:[" ",t.jsx("i",{className:"fa fa-eye-slash"})," "]})})})]})})})})})}),t.jsx("div",{className:m.getScreenSize==="lg"?"col-7":"col-12 mt-4",children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx("div",{className:"mb-20px",children:t.jsx(p,{label:"User Id",id:"user_id",name:"user_id",type:"text",noUpperCase:!0,readOnly:i,placeholder:"Masukan User Id",component:N})})}),t.jsx("div",{className:"col-6",children:t.jsx("div",{className:"mb-20px",children:t.jsx(p,{label:"Username",id:"user_name",name:"user_name",type:"text",placeholder:"Masukan Username",component:N})})}),!i&&t.jsx("div",{className:"col-6 ",children:t.jsx("div",{className:"mb-20px",children:t.jsx(p,{type:"text",label:"Passsword",name:"password",enableenter:!0,noUpperCase:!0,id:"password",nouperCase:!0,placeholder:"Masukan Password",component:N,right:!0,inputGroup:!0,textIconGroup:h?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:h?"password-hide":"",handleClick:()=>f(!h)})})}),t.jsx("div",{className:"col-6",children:t.jsx("div",{className:"mb-20px",children:t.jsx(p,{label:"Level",name:"level",type:"text",placeholder:"Pilih Level",component:ra,options:[{value:"SPV",label:"SPV"},{value:"ADMIN",label:"ADMIN"},{value:"OWN",label:"OWNER"},{value:"MANAGER",label:"MANAGER"},{value:"HRD",label:"HRD"}]})})}),t.jsxs("div",{className:`col-6 text-end ${i?"mt-2":""}`,children:[i&&t.jsx(t.Fragment,{children:"  "}),t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-xl",children:i?"Edit":"Simpan "})]})]})})]})]})},dl=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,hakAkses:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d.hak_akses_json,initialValues:{_id:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m._id,user_id:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.user_id,user_name:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.user_name,level:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.level}}:{hakAkses:"",isEdit:!1}},cl=la(dl),ul={form:"FormDataUser",enableReinitialize:!0,validate:rl},ml=cl(O(ul)(ll)),pl=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Data User",children:[t.jsx(ol,{}),t.jsx(ga,{namaForm:"FormDataUser",title:`${a.getModal.title}`,width:1200,children:t.jsx(ml,{})})]})},Sn=()=>{const a=()=>async(s,n)=>{var l;const r=n(),d=(l=r.form.FormDataJabatan)==null?void 0:l.values;r.utility.getModal.isEdit?s(i(d)):s(e(d))},e=s=>async n=>{try{n(c.setLoading({screen:!0})),await aa(L.dataMaster.jabatan,s),$("Data Berhasil Disimpan"),n(Q.getDataJabatan()),n(c.stopLoading()),n(c.hideModal()),n(ta("FormDataJabatan"))}catch(r){v(`${r}`),n(c.stopLoading())}},i=s=>async n=>{try{n(c.setLoading({screen:!0})),await ba(`${L.dataMaster.jabatan}/${s._id}`,s),$("Data Berhasil Diedit"),n(Q.getDataJabatan()),n(c.stopLoading()),n(ta("FormDataJabatan")),n(c.hideModal())}catch(r){v(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:s=>async n=>{try{n(c.setLoading({button:!0})),await ya(`${L.dataMaster.jabatan}/${s}`),n(Q.getDataJabatan()),$("Data Berhasil Dihapus"),n(c.stopLoading())}catch(r){n(c.stopLoading()),v(`${r||"Data Gagal Hapus"}`)}}}},gl=()=>{const a=D(),e=pa(),i=Sn();j.useEffect(()=>{a(Q.getDataJabatan())},[a]);const o=[{title:"Nama Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})})}],s=I(n=>n.dataMaster.dataJabatan);return t.jsx(Z,{addButtonTitle:"Tambah Data",dataSource:s.data||[],columns:o,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},hl=a=>{const e={};return a.jabatan||(e.jabatan="Jabatan harus diisi"),e},_l=a=>{const{handleSubmit:e,isEdit:i}=a,o=Sn(),s=D(),n=()=>{s(o.prosesData())};return j.useEffect(()=>{da("jabatan")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{id:"jabatan",label:"Jabatan",name:"jabatan",type:"text",placeholder:"Masukan Jabatan",component:N})}),t.jsxs("div",{className:"col-6 text-end mt-4",children:[i&&t.jsx(t.Fragment,{children:"  "}),t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})]})]})]})},kl=a=>{var e,i,o,s,n,r,d,l,u,m;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,jabatan:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.jabatan}}:{isEdit:!1}},bl=la(kl),yl={form:"FormDataJabatan",enableReinitialize:!0,validate:hl},xl=bl(O(yl)(_l)),fl=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Data Jabatan",children:[t.jsx(gl,{}),t.jsx(ga,{namaForm:"FormDataJabatan",title:`${a.getModal.title}`,width:500,children:t.jsx(xl,{})})]})},En=()=>{const a=()=>async(s,n)=>{var l;const r=n(),d=(l=r.form.FormHariLibur)==null?void 0:l.values;r.utility.getModal.isEdit?s(i(d)):s(e(d))},e=s=>async n=>{try{n(c.setLoading({screen:!0})),await aa(L.dataMaster.hariLibur,s),$("Data Berhasil Disimpan"),n(c.stopLoading()),n(Q.getDataHariLibur()),n(c.hideModal()),n(ta("FormHariLibur"))}catch(r){v(`${r}`),n(c.stopLoading())}},i=s=>async n=>{try{n(c.setLoading({screen:!0})),await ba(`${L.dataMaster.hariLibur}/${s._id}`,s),$("Data Berhasil Diedit"),n(c.stopLoading()),n(Q.getDataHariLibur()),n(c.hideModal()),n(ta("FormHariLibur"))}catch(r){v(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:s=>async n=>{try{n(c.setLoading({button:!0})),await ya(`${L.dataMaster.hariLibur}/${s}`),n(Q.getDataHariLibur()),$("Data Berhasil Dihapus"),n(c.stopLoading()),n(ta("FormHariLibur"))}catch(r){n(c.stopLoading()),v(`${r||"Data Gagal Hapus"}`)}}}},jl=()=>{const a=D(),e=pa(),i=En();j.useEffect(()=>{a(Q.getDataHariLibur())},[a]);const o=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Tanggal Libur",dataIndex:"tgl_libur",key:"tgl_libur",render(n){return Y(n,!0)}},{title:"Deskripsi",dataIndex:"deskripsi",key:"deskripsi"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsxs("div",{className:"text-center",children:[t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:r})),children:t.jsx("i",{className:"fa fa-edit"})})," ",t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})]})}],s=I(n=>n.dataMaster.dataHariLibur);return t.jsx(Z,{addButtonTitle:"Tambah Data",dataSource:s.data||[],columns:o,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataUser"}))})},Tl=a=>{const e={};return a.tgl_libur||(e.tgl_libur="Tanggal Libur harus diisi"),a.deskripsi||(e.deskripsi="Deskripsi harus diisi"),e},Ll=a=>{const{handleSubmit:e,isEdit:i,pristine:o,submitting:s}=a,n=D(),r=En(),d=async()=>{n(r.prosesData())};return j.useEffect(()=>{da("tgl_libur"),i||n(M("FormHariLibur","tgl_libur",z))},[n]),t.jsxs("form",{onSubmit:e(d),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(Na,{disabled:i,className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal Libur",id:"tgl_libur",name:"tgl_libur",type:"date",placeholder:"Masukan Tanggal Libur",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Deskripsi",name:"deskripsi",type:"text",placeholder:"Masukan Deskripsi",component:N})}),t.jsxs("div",{className:"col-6 text-end mt-4",children:[i&&t.jsx(t.Fragment,{children:"  "}),t.jsx(C,{disabled:o||s,color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})]})]})]})},Pl=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,deskripsi:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.deskripsi,tgl_libur:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.tgl_libur,kode_toko:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.kode_toko}}:{isEdit:!1}},vl=la(Pl),Nl={form:"FormHariLibur",enableReinitialize:!0,validate:Tl},Sl=vl(O(Nl)(Ll)),El=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Data Hari Libur",children:[t.jsx(jl,{}),t.jsx(ga,{namaForm:"FormHariLibur",title:`${a.getModal.title}`,width:500,children:t.jsx(Sl,{})})]})},Dn=()=>{const a=()=>async(s,n)=>{var l;const r=n(),d=(l=r.form.FormDataToko)==null?void 0:l.values;r.utility.getModal.isEdit?s(i(d)):s(e(d))},e=s=>async n=>{try{n(c.setLoading({screen:!0})),await aa(L.dataMaster.toko,s),$("Data Berhasil Disimpan"),n(Q.getDataToko()),n(c.stopLoading()),n(c.hideModal()),n(ta("FormDataToko"))}catch(r){v(`${r}`),n(c.stopLoading())}},i=s=>async n=>{try{n(c.setLoading({screen:!0})),await ba(`${L.dataMaster.toko}/${s._id}`,s),$("Data Berhasil Diedit"),n(Q.getDataToko()),n(c.stopLoading()),n(ta("FormDataToko")),n(c.hideModal())}catch(r){v(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:s=>async n=>{try{n(c.setLoading({button:!0})),await ya(`${L.dataMaster.toko}/${s}`),n(Q.getDataToko()),$("Data Berhasil Dihapus"),n(c.stopLoading())}catch(r){n(c.stopLoading()),v(`${r||"Data Gagal Hapus"}`)}}}},Dl=()=>{const a=D(),e=pa(),i=Dn();j.useEffect(()=>{a(Q.getDataToko())},[a]);const o=[{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Alamat Toko",dataIndex:"alamat_toko",key:"alamat_toko"},{title:"Portal",dataIndex:"portal",key:"portal",render(n){return t.jsx(ls,{text:n})}},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})})}],s=I(n=>n.dataMaster.dataToko);return t.jsx(Z,{addButtonTitle:"Tambah Data",dataSource:s.data||[],columns:o,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormdataToko"}))})},Al=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus diisi"),a.nama_toko||(e.nama_toko="Nama Toko harus diisi"),a.alamat_toko||(e.alamat_toko="Alamat Toko harus diisi"),a.portal||(e.portal="Portal harus diisi"),e},Il=a=>{const{handleSubmit:e,isEdit:i}=a,o=Dn(),s=D(),n=()=>{s(o.prosesData())};return j.useEffect(()=>{da("Toko")},[s]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{id:"Toko",label:"Kode Toko",name:"kode_toko",type:"text",placeholder:"Masukan Kode Toko",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Toko",name:"nama_toko",type:"text",placeholder:"Masukan Nama Toko",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alamat Toko",name:"alamat_toko",type:"text",placeholder:"Masukan Alamat Toko",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Portal",name:"portal",type:"text",noUpperCase:!0,placeholder:"Masukan Portal",component:N})}),t.jsxs("div",{className:"col-12 text-end mt-4",children:[i&&t.jsx(t.Fragment,{children:"  "}),t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})]})]})]})},Ml=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,kode_toko:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.kode_toko,alamat_toko:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.alamat_toko,portal:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.portal,nama_toko:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.nama_toko}}:{isEdit:!1}},Cl=la(Ml),wl={form:"FormDataToko",enableReinitialize:!0,validate:Al},Rl=Cl(O(wl)(Il)),Kl=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Data Toko",children:[t.jsx(Dl,{}),t.jsx(ga,{namaForm:"FormDataToko",title:`${a.getModal.title}`,width:500,children:t.jsx(Rl,{})})]})},$l=()=>{const a=D(),e=pa();j.useEffect(()=>{a(sa.getParameterBonusSales())},[a]);const i=[{title:"Bonus Penjualan",dataIndex:"bonus_jual",key:"bonus_jual",render:s=>{var n;return t.jsx("div",{children:(n=Number(s||0))==null?void 0:n.toLocaleString("kr-ko")})}},{title:"Bonus Pembelian",dataIndex:"bonus_beli",key:"bonus_beli",render:s=>{var n;return t.jsx("div",{children:(n=Number(s||0))==null?void 0:n.toLocaleString("kr-ko")})}},{title:"Bonus Hutang",dataIndex:"bonus_hutang",key:"bonus_hutang",render:s=>{var n;return t.jsx("div",{children:(n=Number(s||0))==null?void 0:n.toLocaleString("kr-ko")})}},{title:"Bonus Pelunasan Hutang",dataIndex:"bonus_pelunasan_hutang",key:"bonus_pelunasan_hutang",render:s=>{var n;return t.jsx("div",{children:(n=Number(s||0))==null?void 0:n.toLocaleString("kr-ko")})}},{title:"Actions",key:"actions",align:"center",render:(s,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=I(s=>s.parameter.dataBonusSales);return t.jsx(Z,{addButtonTitle:o.data.length>0?void 0:"Tambah Data",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormParameterBonus"}))})},Fl=a=>{const e={};return a.bonus_beli||(e.bonus_beli="Jabatan harus diisi"),e},Bl=()=>{const a=()=>async(o,s)=>{var d;const r=(d=s().form.FormParameterBonus)==null?void 0:d.values;o(e(r))},e=o=>async s=>{try{s(c.setLoading({screen:!0})),await aa(L.paramter.bonusSales,o),$("Data Berhasil Disimpan"),s(sa.getParameterBonusSales()),s(c.stopLoading()),s(c.hideModal())}catch(n){v(`${n}`),s(c.stopLoading())}};return{prosesData:a,removeData:o=>async s=>{try{s(c.setLoading({button:!0})),await ya(`${L.paramter.bonusSales}/${o}`),s(sa.getParameterBonusSales()),$("Data Berhasil Dihapus"),s(c.stopLoading())}catch(n){s(c.stopLoading()),v(`${n||"Data Gagal Hapus"}`)}}}},zl=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=Bl(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("bonus_jual")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Bonus Penjualan",id:"bonus_jual",name:"bonus_jual",type:"text",isRp:!0,placeholder:"Masukan Bonus Penjualan",component:ha})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Bonus Pembelian",name:"bonus_beli",type:"text",isRp:!0,placeholder:"Masukan Bonus Pembelian",component:ha})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Bonus Hutang",name:"bonus_hutang",type:"text",isRp:!0,placeholder:"Masukan Bonus Hutang",component:ha})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Bonus Pelunasan Hutang",name:"bonus_pelunasan_hutang",type:"text",isRp:!0,placeholder:"Masukan Bonus Pelunasan Hutang",component:ha})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Ul=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,bonus_jual:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.bonus_jual,bonus_beli:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.bonus_beli,bonus_hutang:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.bonus_hutang,bonus_pelunasan_hutang:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.bonus_pelunasan_hutang}}:{isEdit:!1}},Ol=la(Ul),Gl={form:"FormParameterBonus",enableReinitialize:!0,validate:Fl},Hl=Ol(O(Gl)(zl)),Jl=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Parameter Bonus",children:[t.jsx($l,{}),t.jsx(ga,{namaForm:"FormParameterBonus",title:`${a.getModal.title}`,width:500,children:t.jsx(Hl,{})})]})},Vl=()=>{const a=D(),e=pa();j.useEffect(()=>{a(sa.getParameterKonversiCuti())},[a]);const i=[{title:"Total Rp",dataIndex:"total_rp",key:"total_rp",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Actions",key:"actions",align:"center",render:(s,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormKonversiCutia",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=I(s=>s.parameter.parameterKonversiCuti);return t.jsx(Z,{addButtonTitle:o.data.length>0?void 0:"Tambah Data",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormKonversiCutia"}))})},ql=()=>{const a=()=>async(o,s)=>{var d;const r=(d=s().form.FormKonversiCuti)==null?void 0:d.values;o(e(r))},e=o=>async s=>{try{s(c.setLoading({screen:!0})),await aa(L.paramter.parameterKonversiCuti,o),$("Data Berhasil Disimpan"),s(sa.getParameterKonversiCuti()),s(c.stopLoading()),s(c.hideModal())}catch(n){v(`${n}`),s(c.stopLoading())}};return{prosesData:a,removeData:o=>async s=>{try{s(c.setLoading({button:!0})),await ya(`${L.paramter.parameterShiftKerja}/${o}`),s(sa.getParameterKonversiCuti()),$("Data Berhasil Dihapus"),s(c.stopLoading())}catch(n){s(c.stopLoading()),v(`${n||"Data Gagal Hapus"}`)}}}},Wl=a=>{const e={};return a.total_rp||(e.total_rp="Total Rp harus diisi"),e},Yl=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=ql(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("bonus_jual")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Total Rp",id:"total_rp",name:"total_rp",type:"text",isRp:!0,placeholder:"Masukan Total Rp",component:ha})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Xl=a=>{var e,i,o,s,n,r,d,l,u,m;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,total_rp:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.total_rp}}:{isEdit:!1}},Zl=la(Xl),Ql={form:"FormKonversiCuti",enableReinitialize:!0,validate:Wl},ad=Zl(O(Ql)(Yl)),ed=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Parameter Konversi Cuti",children:[t.jsx(Vl,{}),t.jsx(ga,{namaForm:"FormKonversiCuti",title:`${a.getModal.title}`,width:500,children:t.jsx(ad,{})})]})},td=()=>{const a=D(),e=pa();j.useEffect(()=>{a(sa.getParameterCuti())},[a]);const i=[{title:"Jangka Waktu Pengajuan Cuti",dataIndex:"leave_request_gap_days",key:"leave_request_gap_days"},{title:"Actions",key:"actions",align:"center",render:(s,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=I(s=>s.parameter.parameterCuti);return t.jsx(Z,{addButtonTitle:o.data.length>0?void 0:"Tambah Data",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormCuti"}))})},nd=()=>{const a=()=>async(i,o)=>{var r;const n=(r=o().form.FormCuti)==null?void 0:r.values;i(e(n))},e=i=>async o=>{try{o(c.setLoading({screen:!0})),await aa(L.paramter.parameterCuti,i),$("Data Berhasil Disimpan"),o(sa.getParameterCuti()),o(c.stopLoading()),o(c.hideModal())}catch(s){v(`${s}`),o(c.stopLoading())}};return{prosesData:a}},id=a=>{const e={};return a.leave_request_gap_days||(e.leave_request_gap_days="Jangka Waktu Pengajuan Cuti harus diisi"),e},sd=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=nd(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("target")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jangka Waktu Pengajuan Cuti",id:"leave_request_gap_days",name:"leave_request_gap_days",type:"text",placeholder:"Masukan Jangka Waktu Pengajuan Cuti",component:ha})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},od=a=>{var e,i,o,s,n,r,d,l,u,m;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,leave_request_gap_days:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.leave_request_gap_days}}:{isEdit:!1}},rd=la(od),ld={form:"FormCuti",enableReinitialize:!0,validate:id},dd=rd(O(ld)(sd)),cd=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Parameter Cuti",children:[t.jsx(td,{}),t.jsx(ga,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(dd,{})})]})},ud=()=>{const a=D(),e=pa();j.useEffect(()=>{a(sa.getParameterShiftKerja())},[a]);const i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Tipe Shift",dataIndex:"type_shift",key:"type_shift"},{title:"Dari Jam Datang",dataIndex:"start_time",key:"start_time",align:"right"},{title:"Sampai Jam Datang",dataIndex:"due_time",key:"due_time",align:"right"},{title:"Jam Pulang",dataIndex:"work_end_time",key:"work_end_time",align:"right"},{title:"Actions",key:"actions",align:"center",render:(s,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormShiftKerja",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=I(s=>s.parameter.parameterShiftKerja);return t.jsx(Z,{addButtonTitle:"Tambah Data",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormShiftKerja"}))})},An=()=>{const a=()=>async(s,n)=>{var l;const r=n(),d=(l=r.form.FormShiftKerja)==null?void 0:l.values;r.utility.getModal.isEdit?s(c.showModal({title:"Otorisasi",isModalShow:!0,isEdit:!1,data:d})):s(i(d))},e=s=>async n=>{try{n(c.setLoading({screen:!0})),await ba(`${L.paramter.parameterShiftKerja}/${s._id}`,s),$("Data Berhasil Diedit"),n(c.stopLoading()),n(sa.getParameterShiftKerja()),n(c.hideModal()),n(ta("FormShiftKerja"))}catch(r){v(`${r}`),n(c.stopLoading())}},i=s=>async n=>{try{n(c.setLoading({screen:!0})),await aa(L.paramter.parameterShiftKerja,s),$("Data Berhasil Disimpan"),n(sa.getParameterShiftKerja()),n(c.stopLoading()),n(c.hideModal())}catch(r){v(`${r}`),n(c.stopLoading())}};return{edit:e,prosesData:a,cekUser:s=>async(n,r)=>{var d;try{n(c.setLoading({screen:!0})),await aa(L.otorisasi,{user_id:s.user_id,password:s.password});const u=(d=r().utility.getModal)==null?void 0:d.data;n(e(u)),n(c.stopLoading())}catch(l){n(c.stopLoading()),v(`${l||"Terjadi Kesalahan Saat Mngirim data"}`)}}}},md=a=>{const e={};return a.start_time||(e.start_time="Dari Jam Datang harus diisi"),a.due_time||(e.due_time="Sampai Jam Datang harus diisi"),a.work_end_time||(e.work_end_time="Jam Pulang harus diisi"),a.due_time&&a.due_time===a.start_time&&(e.due_time="Sampai Jam Datang tidak boleh sama dengan Jam Datang"),e},pd=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=An(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("target")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(Na,{className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Type Shift",id:"type_shift",name:"type_shift",type:"text",isRp:!0,placeholder:"Masukan Type Shift",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Dari Jam Datang",id:"start_time",name:"start_time",type:"time",placeholder:"Masukan Dari Jam Datang",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Sampai Jam Datang",id:"due_time",name:"due_time",type:"time",placeholder:"Masukan Sampai Jam Datang",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Pulang",id:"work_end_time",name:"work_end_time",type:"time",placeholder:"Masukan Jam Pulang",component:N})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},gd=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_,B,b,E;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,type_shift:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.type_shift,start_time:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.start_time,due_time:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.due_time,kode_toko:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.kode_toko,work_end_time:(E=(b=(B=a==null?void 0:a.utility)==null?void 0:B.getModal)==null?void 0:b.data)==null?void 0:E.work_end_time}}:{isEdit:!1}},hd=la(gd),_d={form:"FormShiftKerja",enableReinitialize:!0,validate:md},kd=hd(O(_d)(pd)),bd=()=>{const a=I(o=>o.utility),e=D(),i=An();return t.jsxs(q,{title:"Parameter Shift Kerja",children:[t.jsx(ud,{}),t.jsx(ga,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:a.getModal.title==="Otorisasi"?t.jsx(cp,{onPress:o=>e(i.cekUser(o))}):t.jsx(kd,{})})]})},In=()=>{const a=()=>async(s,n)=>{var l;const r=n(),d=(l=r.form.FormTargetSales)==null?void 0:l.values;r.utility.getModal.isEdit?s(e(d)):s(i(d))},e=s=>async n=>{try{n(c.setLoading({screen:!0})),await ba(L.paramter.targetSales+`/${s._id}`,s),$("Data Berhasil Disimpan"),n(sa.getParameterTargetSales()),n(c.stopLoading()),n(c.hideModal())}catch(r){v(`${r}`),n(c.stopLoading())}},i=s=>async n=>{try{n(c.setLoading({screen:!0})),await aa(L.paramter.targetSales,s),$("Data Berhasil Disimpan"),n(sa.getParameterTargetSales()),n(c.stopLoading()),n(c.hideModal())}catch(r){v(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:s=>async n=>{try{n(c.setLoading({button:!0})),await ya(`${L.paramter.targetSales}/${s}`),n(sa.getParameterTargetSales()),$("Data Berhasil Dihapus"),n(c.stopLoading())}catch(r){n(c.stopLoading()),v(`${r||"Data Gagal Hapus"}`)}}}},yd=()=>{const a=D(),e=pa(),i=In();j.useEffect(()=>{a(sa.getParameterTargetSales())},[a]);const o=[{title:"Tipe Target",dataIndex:"tipe_target",key:"tipe_target"},{title:"Target",dataIndex:"target",key:"target",align:"right",render:n=>{var r;return(r=Number(n||0))==null?void 0:r.toLocaleString("kr-ko")}},{title:"Rupiah",dataIndex:"rupiah",key:"rupiah",align:"right",render:n=>{var r;return(r=Number(n||0))==null?void 0:r.toLocaleString("kr-ko")}},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsxs("div",{className:"text-center",children:[t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:r})),children:t.jsx("i",{className:"fa fa-edit"})})," ",t.jsx($a,{tooltipText:"Hapus Data",prosesDelete:()=>a(i.removeData(r._id))})]})}],s=I(n=>n.parameter.parameterTargetSales);return t.jsx(Z,{addButtonTitle:"Tambah Data",dataSource:s.data||[],columns:o,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormParameterBonus"}))})},Mn=a=>{const e={};return a.target||(e.target="Target harus diisi"),a.tipe_target||(e.tipe_target="Tipe target harus dipilih"),e},xd=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=In(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("target")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Type Target",name:"tipe_target",placeholder:"Masukan Type Target",component:ra,disabled:i,options:[{value:"FAKTUR",label:"FAKTUR"}]})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Target",id:"target",name:"target",type:"text",placeholder:"Masukan Target",component:ha})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Rupiah",name:"rupiah",type:"text",isRp:!0,placeholder:"Masukan Rupiah",component:ha})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},fd=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,target:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.target,rupiah:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.rupiah,tipe_target:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.tipe_target}}:{isEdit:!1}},jd=la(fd),Td={form:"FormTargetSales",enableReinitialize:!0,validate:Mn},Ld=jd(O(Td)(xd)),Pd=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Parameter Target Sales",children:[t.jsx(yd,{}),t.jsx(ga,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(Ld,{})})]})},vd=()=>{const a=D(),e=pa();j.useEffect(()=>{a(sa.getParameterTargetToko())},[a]);const i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Tipe Target",dataIndex:"tipe_target",key:"tipe_target"},{title:"Target",dataIndex:"target",key:"target",align:"right",render:s=>{var n;return(n=Number(s||0))==null?void 0:n.toLocaleString("kr-ko")}},{title:"Actions",key:"actions",align:"center",render:(s,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=I(s=>s.parameter.parameterTargetToko);return t.jsx(Z,{addButtonTitle:"Tambah Data",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormParameterBonus"}))})},Nd=()=>{const a=()=>async(i,o)=>{var r;const n=(r=o().form.FormTargetToko)==null?void 0:r.values;i(e(n))},e=i=>async o=>{try{o(c.setLoading({screen:!0})),await aa(L.paramter.targetToko,i),$("Data Berhasil Disimpan"),o(sa.getParameterTargetToko()),o(c.stopLoading()),o(c.hideModal())}catch(s){v(`${s}`),o(c.stopLoading())}};return{prosesData:a}},Sd=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=Nd(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("target")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(Na,{disabled:i,className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Type Target",name:"tipe_target",placeholder:"Masukan Type Target",component:ra,options:[{value:"FAKTUR",label:"FAKTUR"},{value:"GRAM",label:"GRAM"},{value:"RUPIAH",label:"RUPIAH"}]})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Target",id:"target",name:"target",type:"text",isRp:!0,placeholder:"Masukan Target",component:ha})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Ed=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,target:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.target,tipe_target:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.tipe_target,kode_toko:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.kode_toko}}:{isEdit:!1}},Dd=la(Ed),Ad={form:"FormTargetToko",enableReinitialize:!0,validate:Mn},Id=Dd(O(Ad)(Sd)),Md=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Parameter Target Toko",children:[t.jsx(vd,{}),t.jsx(ga,{namaForm:"FormTargetToko",title:`${a.getModal.title}`,width:500,children:t.jsx(Id,{})})]})},Cd=()=>{const a=()=>async(n,r)=>{var u;const d=r(),l=(u=d.form.FormLembur)==null?void 0:u.values;d.utility.getModal.isEdit?n(o(l)):n(i(l))},e=()=>async(n,r)=>{var u;Ka(100);const l=(u=r().form.FormLembur)==null?void 0:u.values;if(l!=null&&l.jam_awal&&(l!=null&&l.jam_akhir)){const m=Qi(l.jam_awal,l.jam_akhir);console.log(m),n(M("FormLembur","total",m))}},i=n=>async r=>{try{r(c.setLoading({screen:!0})),await aa(L.paramter.parameterLembur,n),$("Data Berhasil Disimpan"),r(sa.getParameterLembur()),r(c.stopLoading()),r(c.hideModal())}catch(d){v(`${d}`),r(c.stopLoading())}},o=n=>async r=>{try{r(c.setLoading({screen:!0})),await ba(L.paramter.parameterLembur+`/${n._id}`,n),$("Data Berhasil Disimpan"),r(sa.getParameterLembur()),r(c.stopLoading()),r(c.hideModal())}catch(d){v(`${d}`),r(c.stopLoading())}};return{prosesData:a,hitungTotalJam:e,removeData:n=>async r=>{try{r(c.setLoading({button:!0})),await ya(`${L.paramter.parameterLembur}/${n}`),r(sa.getParameterLembur()),$("Data Berhasil Dihapus"),r(c.stopLoading())}catch(d){r(c.stopLoading()),v(`${d||"Data Gagal Hapus"}`)}}}},wd=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus di pilih"),a.jam_awal||(e.jam_awal="Jam Awal harus di isi"),a.jam_akhir||(e.jam_akhir="Jam Akhir harus di isi"),a.total_rp||(e.total_rp="Total harus di isi"),a.jam_akhir<a.jam_awal&&(e.jam_akhir="Jam akhir tidak boleh lebih dari jam awal"),e},Rd=a=>{const{handleSubmit:e,isEdit:i,pristine:o,submitting:s}=a,n=D(),r=Cd(),d=async()=>{n(r.prosesData())};return j.useEffect(()=>{da("target")},[n]),t.jsxs("form",{onSubmit:e(d),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(Na,{className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Awal",id:"jam_awal",name:"jam_awal",type:"time",placeholder:"Masukan Jam Awal",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Akhir",id:"jam_akhir",name:"jam_akhir",type:"time",placeholder:"Masukan Jam Akhir",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Total Rupiah",id:"total_rp",name:"total_rp",type:"text",isRp:!0,placeholder:"Masukan Total Rupiah",component:ha,inputGroup:!0,textIconGroup:"Rp",right:!0})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",disabled:o||s,block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Kd=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,kode_toko:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.kode_toko,jam_awal:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.jam_awal,jam_akhir:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.jam_akhir,total_rp:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.total_rp}}:{isEdit:!1}},$d=la(Kd),Fd={form:"FormLembur",enableReinitialize:!0,validate:wd};$d(O(Fd)(Rd));const Bd=()=>{const a=D(),e=pa();j.useEffect(()=>{a(sa.getParameterAbsenTerlambat())},[a]);const i=[{title:"Minute",dataIndex:"minute",key:"minute"},{title:"Potongan",dataIndex:"potongan",key:"potongan",render(s){return s.toLocaleString("kr-ko")}},{title:"Actions",key:"actions",align:"center",render:(s,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=I(s=>s.parameter.parameterTerlambat);return t.jsx(Z,{addButtonTitle:"Tambah Data",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormAbsenTerlambat"}))})},zd=a=>{const e={};return a.minute||(e.minute="Minute harus diisi"),a.potongan||(e.potongan="Potongan harus diisi"),e},Ud=()=>{const a=()=>async(o,s)=>{var l,u,m;const n=s(),r=(l=n.form.FormAbsenTerlambat)==null?void 0:l.values,d=(m=(u=n==null?void 0:n.utility)==null?void 0:u.getModal)==null?void 0:m.isEdit;o(d?i(r):e(r))},e=o=>async s=>{try{s(c.setLoading({screen:!0})),await aa(L.paramter.parameterAbsenTerlambat,o),$("Data Berhasil Disimpan"),s(sa.getParameterAbsenTerlambat()),s(c.stopLoading()),s(c.hideModal())}catch(n){v(`${n}`),s(c.stopLoading())}},i=o=>async s=>{try{s(c.setLoading({screen:!0})),await ba(`${L.paramter.parameterAbsenTerlambat}/${o._id}`,o),$("Data Berhasil Diupdate"),s(sa.getParameterAbsenTerlambat()),s(c.stopLoading()),s(c.hideModal())}catch(n){v(`${n}`),s(c.stopLoading())}};return{prosesData:a}},Od=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=Ud(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("target")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Minute",name:"minute",type:"text",readOnly:i,placeholder:"Masukan Minute",component:ha})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Potongan",name:"potongan",type:"text",placeholder:"Masukan Potongan",component:ha,isRp:!0})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Gd=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,minute:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.minute,potongan:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.potongan}}:{isEdit:!1}},Hd=la(Gd),Jd={form:"FormAbsenTerlambat",enableReinitialize:!0,validate:zd},Vd=Hd(O(Jd)(Od)),qd=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Parameter Absen",children:[t.jsx(Bd,{}),t.jsx(ga,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(Vd,{})})]})},Wd=()=>{const a=()=>async(o,s)=>{var d;const n=s(),r=(d=n.form.FormCuti)==null?void 0:d.values;n.utility.getModal.isEdit?o(e(r)):o(i(r))},e=o=>async s=>{try{s(c.setLoading({screen:!0})),await ba(`${L.paramter.parameterIzinKeluarMasuk}/${o._id}`,o),$("Data Berhasil Diedit"),s(sa.getParameterIzinKeluarMasuk()),s(c.stopLoading()),s(c.hideModal())}catch(n){v(`${n}`),s(c.stopLoading())}},i=o=>async s=>{try{s(c.setLoading({screen:!0})),await aa(L.paramter.parameterIzinKeluarMasuk,o),$("Data Berhasil Disimpan"),s(sa.getParameterIzinKeluarMasuk()),s(c.stopLoading()),s(c.hideModal())}catch(n){v(`${n}`),s(c.stopLoading())}};return{prosesData:a}},Yd=a=>{const e={};return a.minute||(e.minute="Minute harus diisi"),e},Xd=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=Wd(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("target")},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Minutes",id:"minutes",name:"minute",type:"text",placeholder:"Masukan Minutes",component:ha})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Zd=a=>{var e,i,o,s,n,r,d,l,u,m;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,minute:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.minute}}:{isEdit:!1}},Qd=la(Zd),ac={form:"FormCuti",enableReinitialize:!0,validate:Yd},ec=Qd(O(ac)(Xd)),tc=()=>{const a=D(),e=pa();j.useEffect(()=>{a(sa.getParameterIzinKeluarMasuk())},[a]);const i=[{title:"Minute",dataIndex:"minute",key:"minute"},{title:"Actions",key:"actions",align:"center",render:(s,n)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",tooltipText:"Edit Data",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormDataUser",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=I(s=>s.parameter.parameterIzinKeluarMasuk);return t.jsx(Z,{addButtonTitle:o.data.length>0?void 0:"Tambah Data",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormCuti"}))})},nc=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Parameter Izin Keluar Masuk",children:[t.jsx(tc,{}),t.jsx(ga,{namaForm:"FormTargetSales",title:`${a.getModal.title}`,width:500,children:t.jsx(ec,{})})]})},ic=()=>t.jsx(vn,{title:"Data Time Keeping"}),sc=a=>{const e={};return a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Akhir harus diisi"),e},oc=(a,e,i)=>{const o=[{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Gaji Pokok",key:"gaji_pokok",options:{halign:"right",format:"RP"}},{label:"TJ.Jabatan",key:"tunjangan_jabatan",options:{halign:"right",format:"RP"}},{label:"Bonus Sales",key:"bonus_target",options:{halign:"right",format:"RP"}},{label:"Bonus Lembur",key:"bonus_lembur",options:{halign:"right",format:"RP"}},{label:"Bonus Absen",key:"bonus_absen",options:{halign:"right",format:"RP"}},{label:"Bonus Jabatan",key:"bonus_jabatan",options:{halign:"right",format:"RP"}},{label:"Target Sales",key:"target_sales",options:{halign:"right",format:"RP"}},{label:"Kasbon",key:"kasbon",options:{halign:"right",format:"RP"}},{label:"Pot.Lain",key:"potongan_lain",options:{halign:"right",format:"RP"}},{label:"Cuti",key:"cuti",options:{halign:"right",format:"RP"}},{label:"Total",key:"total",options:{halign:"right",format:"RP"}}];ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:{start_date:e.start_period,end_date:e.end_period},title:"LAPORAN GLOBAL PAYROLL",data:a.map((s,n)=>({...s,no:n+1})),dataToko:{alamat_toko:String(ue),nama_toko:String(ce)},columns:o,grouping:[],grandTotalSetting:{colSpan:0,disableGrandTotal:!1}})},Cn=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanGlobalPayroll.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;oc(d,r,i)},cariLaporan:()=>async(i,o)=>{try{const n=o().form.LaporanGlobalPayroll.values;i(c.setLoading({screen:!0}));const r={start_period:Y(`${n.start_period}`).slice(0,7),end_period:Y(`${n.end_period}`).slice(0,7)},d=await H(L.report.globalPayroll,r);if(d.data.length===0)return i(c.setLaporanKosong("Laporan Global Payroll Tidak Tersedia")),!1;const l={data:d.data,namaForm:"Laporan Global Payroll Tidak Tersedia"};i(G(l)),$("Laporan Global Payroll Tersedia"),i(c.stopLoading())}catch(s){i(c.setLaporanKosong("Laporan Global Payroll Tidak Tersedia",`${s}`))}}}),rc=()=>{const a=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Gaji Pokok",dataIndex:"gaji_pokok",key:"gaji_pokok",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"TJ.Jabatan",dataIndex:"tunjangan_jabatan",key:"tunjangan_jabatan",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Bonus Sales",dataIndex:"bonus_target",key:"bonus_target",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Bonus Lembur",dataIndex:"bonus_lembur",key:"bonus_lembur",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Bonus Absen",dataIndex:"bonus_absen",key:"bonus_absen",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Bonus Jabatan",dataIndex:"bonus_jabatan",key:"bonus_jabatan",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Target Sales",dataIndex:"target_sales",key:"target_sales",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Kasbon",dataIndex:"kasbon",key:"kasbon",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Cuti",dataIndex:"cuti",key:"cuti",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Pot.Lain",dataIndex:"potongan_lain",key:"potongan_lain",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Total",dataIndex:"total",key:"total",render:s=>Number(s||0).toLocaleString("kr-ko")}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=Cn();return j.useEffect(()=>(i(G({data:[]})),()=>{i(G({data:[]}))}),[i]),t.jsxs("div",{className:"row mt-4",children:[t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},lc=a=>{const{handleSubmit:e}=a,i=D(),o=Cn();j.useEffect(()=>{i(M("LaporanGlobalPayroll","start_period",z.slice(0,7))),i(M("LaporanGlobalPayroll","end_period",z.slice(0,7)))},[i]);const s=()=>{i(o.cariLaporan())};return j.useEffect(()=>(i(G({data:[]})),()=>{i(G({data:[]}))}),[i]),t.jsxs(q,{title:"Laporan Global Payroll",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Awal",name:"start_period",type:"month",component:N})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_period",type:"month",component:N})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(rc,{})]})},dc={form:"LaporanGlobalPayroll",enableReinitialize:!0,validate:sc},cc=O(dc)(lc),uc=(a,e,i)=>{const o=va(e.kode_toko),s=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Kode Toko",key:"kode_toko",options:{halign:"left"}},{label:"Alasan Kasbon",key:"alasan_kasbon"},{label:"Total Kasbon",key:"total_kasbon",options:{halign:"right",format:"RP"}}];ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN KASBON",data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(o==null?void 0:o.alamat_toko),nama_toko:String(o==null?void 0:o.nama_toko)},columns:s,grouping:[],grandTotalSetting:{colSpan:4}})},wn=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanKasBon.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;uc(d,r,i)},cariLaporan:()=>async(i,o)=>{try{const n=o().form.LaporanKasBon.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},d=await H(L.report.kasbon,r);if(d.data.length===0)return i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia")),!1;const l={data:d.data,namaForm:"Laporan Kasbon Tidak Tersedia"};i(G(l)),$("Laporan Kasbon Tersedia"),i(c.stopLoading())}catch(s){i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia",`${s}`))}}}),mc=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Alasan Kasbon",dataIndex:"alasan_kasbon",key:"alasan_kasbon"},{title:"Total Kasbon",dataIndex:"total_kasbon",key:"total_kasbon",render:s=>Number(s||0).toLocaleString("kr-ko")}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=wn();return t.jsxs("div",{className:"row mt-4",children:[t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},pc=a=>{const e={};return a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Akhir harus diisi"),a.kode_toko||(e.kode_toko="Kode Toko harus dipilih"),e},gc=a=>{const{handleSubmit:e}=a,i=D(),o=wn();j.useEffect(()=>(i(M("LaporanKasBon","start_date",z)),i(M("LaporanKasBon","end_date",z)),i(Q.getDataToko()),i(G({data:[]})),()=>{i(G({data:[]}))}),[i]);const s=()=>{i(o.cariLaporan())},n=I(r=>r.dataMaster.dataToko||[]);return t.jsxs(q,{title:"Laporan Kas Bon",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(mc,{})]})},hc={form:"LaporanKasBon",enableReinitialize:!0,validate:pc},_c=O(hc)(gc),kc=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.start_date||(e.start_date="Bulan Awal harus diisi"),a.end_date||(e.end_date="Bulan Akhir Dari harus diisi"),e},bc=(a,e,i)=>{const o=va(e.kode_toko),s=[{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Jabatan",key:"jabatan",options:{halign:"right"}},{label:"Periode",key:"periode",options:{halign:"right"}},{label:"Gaji Pokok",key:"gaji_pokok",options:{halign:"right",format:"RP"}},{label:"Bonus Sales",key:"bonus_target",options:{halign:"right",format:"RP"}},{label:"Bonus Absen",key:"bonus_absen",options:{halign:"right",format:"RP"}},{label:"Bonus Lembur",key:"bonus_lembur",options:{halign:"right",format:"RP"}},{label:"Bonus Jabatan",key:"bonus_jabatan",options:{halign:"right",format:"RP"}},{label:"Tunjangan Jabatan",key:"tunjangan_jabatan",options:{halign:"right",format:"RP"}},{label:"Target Sales",key:"target_sales",options:{halign:"right",format:"RP"}},{label:"Kasbon",key:"kasbon",options:{halign:"right",format:"RP"}},{label:"Potongan Lain",key:"potongan_lain",options:{halign:"right",format:"RP"}},{label:"Grand Total",key:"grand_total",options:{halign:"right",format:"RP"}}],n=mn(new Date(String(e.end_period)));ja({formatPdf:{orientation:"l",unit:"mm"},type:i,date:{start_date:e.start_period,end_date:String(n)},title:"LAPORAN PAYROLL",data:a.map((r,d)=>({...r,no:d+1})),dataToko:{alamat_toko:String(o==null?void 0:o.alamat_toko),nama_toko:String(o==null?void 0:o.nama_toko)},columns:s,grouping:[],grandTotalSetting:{colSpan:5}})},Rn=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanPayroll.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;bc(d,r,i)},cariLaporan:()=>async(i,o)=>{try{const n=o().form.LaporanPayroll.values;i(c.setLoading({screen:!0}));const r={start_period:Y(`${n.start_period}`).slice(0,7),end_period:Y(`${n.end_period}`).slice(0,7),kode_toko:n.kode_toko},d=await H(L.report.payroll,r);if(d.data.length===0)return i(c.setLaporanKosong("Laporan Payroll Tidak Tersedia")),!1;const l={data:d.data.sort((u,m)=>u.kode_pegawai.localeCompare(m.kode_pegawai)),namaForm:"Laporan Payroll Tidak Tersedia"};i(G(l)),$("Laporan Payroll Tersedia"),i(c.stopLoading())}catch(s){i(c.setLaporanKosong("Laporan Payroll Tidak Tersedia",`${s}`))}}}),yc=()=>{const a=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Periode",dataIndex:"periode",key:"periode"},{title:"Gajih Pokok",dataIndex:"gaji_pokok",key:"gaji_pokok",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Bonus Sales",dataIndex:"bonus_target",key:"bonus_target",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Bonus Absen",dataIndex:"bonus_absen",key:"bonus_absen",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Bonus Lembur",dataIndex:"bonus_lembur",key:"bonus_lembur",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Bonus Jabatan",dataIndex:"bonus_jabatan",key:"bonus_jabatan",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Tunjangan",dataIndex:"tunjangan_jabatan",key:"tunjangan_jabatan",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Target Sales",dataIndex:"target_sales",key:"target_sales",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Potongan Lain",dataIndex:"potongan_lain",key:"potongan_lain",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Kasbon",dataIndex:"kasbon",key:"kasbon",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})},{title:"Grand Total",dataIndex:"grand_total",key:"grand_total",align:"right",render:s=>t.jsxs("div",{className:"text-end",children:[" ",Number(s||0).toLocaleString("kr-ko")]})}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=Rn();return j.useEffect(()=>(i(G({data:[]})),()=>{i(G({data:[]}))}),[i]),t.jsxs("div",{className:"row",children:[t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0,width:1900}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},xc=a=>{const{handleSubmit:e}=a,i=D(),o=Rn();j.useEffect(()=>{i(M("LaporanPayroll","start_period",z.slice(0,7))),i(M("LaporanPayroll","end_period",z.slice(0,7))),i(Q.getDataToko())},[i]);const s=()=>{i(o.cariLaporan())},n=I(r=>r.dataMaster.dataToko);return t.jsxs(q,{title:"Laporan Payroll",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Bulan Awal",name:"start_period",type:"month",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Bulan Akhir",name:"end_period",type:"month",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(yc,{})]})},fc={form:"LaporanPayroll",enableReinitialize:!0,validate:kc},jc=O(fc)(xc),Tc=(a,e,i)=>{const o=va(e.kode_toko),s=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Kode Toko",key:"kode_toko",options:{halign:"left"}},{label:"Deskripsi",key:"deskripsi",options:{halign:"right"}}];ja({formatPdf:{orientation:"p",unit:"mm"},type:i,date:e,title:"LAPORAN PELANGGARAN PEGAWAI",data:a.map((n,r)=>({...n,no:r+1,tgl_system:Y(`${n.tgl_system}`,!0)})),dataToko:{alamat_toko:String(o==null?void 0:o.alamat_toko),nama_toko:String(o==null?void 0:o.nama_toko)},columns:s,grouping:[],grandTotalSetting:{colSpan:5,disableGrandTotal:!0}})},Kn=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanPelanggaran.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;Tc(d,r,i)},cariLaporan:()=>async(i,o)=>{try{const n=o().form.LaporanPelanggaran.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},d=await H(L.report.pelanggaranPegawai,r);if(d.data.length===0)return i(c.setLaporanKosong("Laporan Pelanggaran Pegawai Tidak Tersedia")),!1;const l={data:d.data,namaForm:"Laporan Pelanggaran Pegawai Tidak Tersedia"};i(G(l)),$("Laporan Pelanggaran Pegawai Tersedia"),i(c.stopLoading())}catch(s){i(c.setLaporanKosong("Laporan Pelanggaran Pegawai Tidak Tersedia",`${s}`))}}}),Lc=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system",render(s){return Y(s,!0)}},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Deskripsi",dataIndex:"deskripsi",key:"deskripsi"}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=Kn();return j.useEffect(()=>(i(G({data:[]})),()=>{i(G({data:[]}))}),[i]),t.jsxs("div",{className:"row",children:[t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},Pc=a=>{const e={};return a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Akhir harus diisi"),a.kode_toko||(e.kode_toko="Kode Toko harus dipilih"),e},vc=a=>{const{handleSubmit:e}=a,i=D(),o=Kn();j.useEffect(()=>{i(M("LaporanPelanggaran","start_date",z)),i(M("LaporanPelanggaran","end_date",z)),i(Q.getDataToko())},[i]);const s=()=>{i(o.cariLaporan())},n=I(r=>r.dataMaster.dataToko);return t.jsxs(q,{title:"Laporan Pelanggaran Pegawai",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Lc,{})]})},Nc={form:"LaporanPelanggaran",enableReinitialize:!0,validate:Pc},Sc=O(Nc)(vc),Ec=(a,e,i)=>{const o=va(e.kode_toko),s=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Cuti Dari",key:"leave_start_date",options:{halign:"left"}},{label:"Cuti Sampai",key:"leave_end_date",options:{halign:"right"}},{label:"Alasan Cuti",key:"leave_description",options:{halign:"right"}},{label:"Tanggal Valid",key:"tgl_validasi",options:{halign:"center"}},{label:"Valid By",key:"validasi_by",options:{halign:"center"}},{label:"Tolak By",key:"tolak_by",options:{halign:"center"}},{label:"Alasan Tolak",key:"reject_description",options:{halign:"center"}}];ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN PENGAJUAN CUTI",data:a.map((n,r)=>({...n,no:r+1,tgl_validasi:n.status_validasi!=="OPEN"?n.tgl_validasi:"",validasi_by:n.status_validasi==="APPROVE"?n.validasi_by:"",tolak_by:n.status_validasi==="REJECT"?n.validasi_by:"",reject_description:n.status_validasi==="REJECT"?n.reject_description:""})),dataToko:{alamat_toko:String(o==null?void 0:o.alamat_toko),nama_toko:String(o==null?void 0:o.nama_toko)},columns:s,grouping:[],grandTotalSetting:{colSpan:6,disableGrandTotal:!0}})},$n=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanPengajuanCuti.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;Ec(d,r,i)},cariLaporan:()=>async(i,o)=>{try{const n=o().form.LaporanPengajuanCuti.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},d=await H(L.report.cuti,r);if(d.data.length===0)return i(c.setLaporanKosong("Laporan Pengajuan Cuti Tidak Tersedia")),!1;const l={data:d.data,namaForm:"Laporan Pengajuan Cuti Tidak Tersedia"};i(G(l)),$("Laporan Pengajuan Cuti Tersedia"),i(c.stopLoading())}catch(s){i(G({data:[]})),i(c.setLaporanKosong("Laporan Pengajuan Cuti Tidak Tersedia",`${s}`))}}}),Dc=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Cuti Dari",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Cuti Sampai",dataIndex:"leave_end_date",key:"leave_end_date"},{title:"Alasan Cuti",dataIndex:"leave_description",key:"leave_description"},{title:"Tanggal Valid",dataIndex:"tgl_validasi",key:"tgl_validasi",render(s,n){return n.status_validasi!=="OPEN"?s:""}},{title:"Valid By",dataIndex:"validasi_by",key:"validasi_by",render(s,n){return n.status_validasi==="APPROVE"?s:""}},{title:"Tolak By",dataIndex:"validasi_by",key:"validasi_by",render(s,n){return n.status_validasi==="REJECT"?s:""}},{title:"Alasan Tolak",dataIndex:"reject_description",key:"reject_description",render(s,n){return n.status_validasi==="REJECT"?s:""}}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=$n();return j.useEffect(()=>(i(G({data:[]})),()=>{i(G({data:[]}))}),[i]),t.jsxs("div",{className:"row",children:[t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},Ac=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Dari harus diisi"),e},Ic=a=>{const{handleSubmit:e}=a,i=D(),o=$n();j.useEffect(()=>{i(M("LaporanPengajuanCuti","start_date",z)),i(M("LaporanPengajuanCuti","end_date",z)),i(Q.getDataToko())},[i]);const s=()=>{i(o.cariLaporan())},n=I(r=>r.dataMaster.dataToko);return t.jsxs(q,{title:"Laporan Pengajuan Cuti",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Dc,{})]})},Mc={form:"LaporanPengajuanCuti",enableReinitialize:!0,validate:Ac},Cc=O(Mc)(Ic),wc=(a,e,i)=>{const o=va(e.kode_toko),s=[{label:"Tanggal",key:"tgl_system",options:{halign:"left"}},{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Qty Cicilan",key:"qty_cicil_bulan",options:{halign:"left"}},{label:"Saldo Rp",key:"saldo_rp",options:{halign:"right",format:"RP"}},{label:"Cicilan Rp",key:"cicil_rp",options:{halign:"right",format:"RP"}},{label:"Total Rp",key:"total_rp",options:{halign:"center",format:"RP"}},{label:"Alasan",key:"alasan",options:{halign:"center"}}];ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN POTONGAN LAIN LAIN",data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(o==null?void 0:o.alamat_toko),nama_toko:String(o==null?void 0:o.nama_toko)},columns:s,grouping:[],grandTotalSetting:{colSpan:6,disableGrandTotal:!0}})},Fn=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanPotonganLainLain.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;wc(d,r,i)},cariLaporan:()=>async(i,o)=>{try{const n=o().form.LaporanPotonganLainLain.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},d=await H(L.report.potonganLain,r);if(d.data.length===0)return i(c.setLaporanKosong("Laporan PotonganLain Cuti Tidak Tersedia")),!1;const l={data:d.data,namaForm:"Laporan PotonganLain Cuti Tidak Tersedia"};i(G(l)),$("Laporan PotonganLain Cuti Tersedia"),i(c.stopLoading())}catch(s){i(c.setLaporanKosong("Laporan PotonganLain Cuti Tidak Tersedia",`${s}`))}}}),Rc=()=>{const a=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Qty Cicilan",dataIndex:"qty_cicil_bulan",key:"qty_cicil_bulan",render:s=>s},{title:"Saldo Rp",dataIndex:"saldo_rp",key:"saldo_rp",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Cicilan Rp",dataIndex:"cicil_rp",key:"cicil_rp",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Total Rp",dataIndex:"total_rp",key:"total_rp",render:s=>Number(s||0).toLocaleString("kr-ko")},{title:"Alasan",dataIndex:"alasan",key:"alasan"}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=Fn();return t.jsxs("div",{className:"row",children:[t.jsx(Z,{dataSource:e.length>0?e:[],columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},Kc=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.start_date||(e.start_date="Tanggal Awal harus diisi"),a.end_date||(e.end_date="Tanggal Dari harus diisi"),e},$c=a=>{const{handleSubmit:e}=a,i=D(),o=Fn();j.useEffect(()=>(i(M("LaporanPotonganLainLain","start_date",z)),i(M("LaporanPotonganLainLain","end_date",z)),i(Q.getDataToko()),i(G({data:[]})),()=>{i(G({data:[]}))}),[i]);const s=()=>{i(o.cariLaporan())},n=I(r=>r.dataMaster.dataToko);return t.jsxs(q,{title:"Laporan Potongan Lain Lain",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...n.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Rc,{})]})},Fc={form:"LaporanPotonganLainLain",enableReinitialize:!0,validate:Kc},Bc=O(Fc)($c),zc=a=>{const{getForm:e}=a,i=D();j.useEffect(()=>(i(G({data:[]})),()=>{i(G({data:[]}))}),[i]);const o=I(r=>r.utility.getDataTmp.data||[]),s=Xe(),n=e==null?void 0:e.type_time_keeping;return t.jsxs("div",{className:"row mt-4",children:[t.jsx("div",{className:"col-12",children:t.jsx(Z,{dataSource:o||[],scrollX:!0,width:n==="SEMUA"?3500:500,columns:n==="KEHADIRAN"?lr:n==="ISTIRAHAT"?mr:n==="BREAK"?cr:n==="SHOLAT"?gr:_r,rowKey:"_id"})}),(o==null?void 0:o.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(s.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(s.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},Uc=a=>({getForm:fi("LaporanTimeKeeping")(a)}),Oc=la(Uc),Gc={form:"TableLaporanTimeKeeping",enableReinitialize:!0},Hc=Oc(O(Gc)(zc)),Jc=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode toko harus dipilih"),a.tgl_system||(e.tgl_system="Tanggal harus diisi"),a.type_shift||(e.type_shift="Type Shift harus diisi"),e},Vc=a=>{const{handleSubmit:e}=a,i=D();j.useEffect(()=>(i(M("LaporanTimeKeeping","start_date",z)),i(M("LaporanTimeKeeping","end_date",z)),i(M("LaporanTimeKeeping","type_shift","SEMUA")),i(M("LaporanTimeKeeping","type_time_keeping","SEMUA")),i(Q.getDataToko()),i(sa.getParameterShiftKerja()),i(G({data:[]})),()=>{i(G({data:[]}))}),[i]);const o=Xe(),s=()=>{i(o.cariLaporan("LAPORAN"))},n=I(d=>d.dataMaster.dataToko),r=I(d=>d.parameter.parameterShiftKerja);return t.jsxs(q,{title:"Laporan Time Keeping",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",component:ra,placeholder:"Pilih Kode Toko",options:n.data.map(d=>({value:d.kode_toko,label:d.nama_toko}))})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Type Shift",name:"type_shift",component:ra,placeholder:"Pilih Type Shift",options:[{value:"SEMUA",label:"SEMUA"},...r.data.map(d=>({value:d.type_shift,label:d.type_shift}))]})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Type Time Keeping",name:"type_time_keeping",component:ra,placeholder:"Pilih Type Time Keeping",onChange:()=>i(G({data:[]})),options:[{value:"SEMUA",label:"SEMUA"},{value:"KEHADIRAN",label:"KEHADIRAN"},{value:"BREAK",label:"BREAK"},{value:"SHOLAT",label:"SHOLAT"},{value:"ISTIRAHAT",label:"ISTIRAHAT"}]})}),t.jsx("div",{className:"col-2 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Hc,{})]})},qc={form:"LaporanTimeKeeping",enableReinitialize:!0,validate:Jc},Wc=O(qc)(Vc),Yc=(a,e,i)=>{const o=[{label:"NO",key:"no",options:{halign:"left"}},{label:"KODE",key:"kode_pegawai",options:{halign:"left"}},{label:"NAMA PEGAWAI",key:"nama_pegawai",options:{halign:"left"}},{label:"TGL LAHIR",key:"tgl_lahir",options:{halign:"left",format:"DATE"}},{label:"JABATAN",key:"jabatan",options:{halign:"left"}},{label:"HARI LIBUR",key:"hari_libur",options:{halign:"left"}},{label:"SHIFT",key:"type_shift",options:{halign:"left"}},{label:"NAMA TOKO",key:"nama_toko",options:{halign:"left"}},{label:"TANGGAL JOIN",key:"tgl_join",options:{halign:"left"}}],s=e.kode_toko==="SEMUA"?"SEMUA TOKO":`TOKO ${e.kode_toko}`;ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,title:`LAPORAN DATA PEGAWAI ${s}`,data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(ue),nama_toko:String(ce)},columns:o,grouping:[],grandTotalSetting:{colSpan:0,disableGrandTotal:!0}})},Xc=()=>async(a,e)=>{var o;const i=(o=e().form.LaporanDataPegawai)==null?void 0:o.values;try{const s=await H(L.dataMaster.pegawai),r={data:(i==null?void 0:i.kode_toko)==="SEMUA"?s.data:s.data.filter(d=>d.kode_toko===(i==null?void 0:i.kode_toko)),namaForm:"Laporan Data Pegawai Tersedia"};a(G(r)),$("Laporan Data Pegawai Tersedia")}catch(s){v(`${s}`),a(c.setLaporanKosong("Laporan Data Pegawai Tidak Tersedia",`${s}`))}},qt=a=>async(e,i)=>{var r,d;const o=i(),s=(r=i().form.LaporanDataPegawai)==null?void 0:r.values,n=(d=o.utility.getDataTmp)==null?void 0:d.data;Yc(n,s,a)},Zc=()=>{const a=D(),e=[{title:"Kode",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tgl Lahir",dataIndex:"tgl_lahir",key:"tgl_lahir",render(o){return Y(o,!0)}},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Hari Libur",dataIndex:"hari_libur",key:"hari_libur"},{title:"Type Shift",dataIndex:"type_shift",key:"type_shift"},{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Tanggal Join",dataIndex:"tgl_join",key:"tgl_join"}],i=I(o=>o.utility.getDataTmp.data||[]);return j.useEffect(()=>(a(G({data:[]})),()=>{a(G({data:[]}))}),[a]),t.jsxs("div",{className:"row mt-4",children:[t.jsx(Z,{dataSource:i,columns:e,rowKey:"_id",scrollX:!0}),(i==null?void 0:i.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",block:!0,type:"button",onClick:()=>a(qt("PDF")),children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,type:"button",onClick:()=>a(qt("EXCEL")),children:"Export Excel"})})]})]})},Qc=a=>{const{handleSubmit:e}=a,i=D(),o=()=>{i(Xc())};j.useEffect(()=>{i(Q.getDataToko()),i(M("LaporanDataPegawai","kode_toko","SEMUA"))},[i]);const s=I(n=>n.dataMaster.dataToko);return t.jsx(q,{title:"Laporan Data Pegawai",children:t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...s.data.map(n=>({value:n.kode_toko,label:n.nama_toko}))],placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})}),t.jsx("div",{className:"col-12 mt-4",children:t.jsx(Zc,{})})]})})})},au={form:"LaporanDataPegawai",enableReinitialize:!0},eu=O(au)(Qc),tu=(a,e,i)=>{const o=va(e.kode_toko||`${ma}`),s=[{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Tanggal Lembur",key:"tgl_lembur"},{label:"Jam Awal Lembur",key:"jam_awal"},{label:"Jam Akhir Lembur",key:"jam_akhir"},{label:"Total Rupiah / Jam",key:"total_rp",options:{format:"RP"}}],n=mn(new Date(e.tgl_akhir));ja({formatPdf:{orientation:"l",unit:"mm"},type:i,date:{start_date:e.tgl_awal,end_date:ss(n)},title:"LAPORAN LEMBUR PEGAWAI",data:a.map((r,d)=>({...r,no:d+1})),dataToko:{alamat_toko:String(o==null?void 0:o.alamat_toko),nama_toko:String(o==null?void 0:o.nama_toko)},columns:s,grouping:[],grandTotalSetting:{colSpan:5}})},Bn=()=>({getReportLembur:()=>async(i,o)=>{var r;const n=(r=o().form.LaporanTransaksiLembur)==null?void 0:r.values;try{const d=await H(L.report.getReportLembur,n);if(d.data.length===0)return i(c.setLaporanKosong("Laporan Lembur Tidak Tersedia")),!1;const l={data:d.data,namaForm:"Laporan Lembur Tidak Tersedia"};i(G(l)),$("Laporan Lembur Tersedia"),i(c.stopLoading())}catch(d){i(c.stopLoading()),v(`${d}`)}},exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanTransaksiLembur.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;console.log(r),tu(d,r,i)}}),nu=()=>{const a=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Lembur",dataIndex:"tgl_lembur",key:"tgl_lembur"},{title:"Jam Awal Lembur",dataIndex:"jam_awal",key:"jam_awal"},{title:"Jam Akhir Lembur",dataIndex:"jam_akhir",key:"jam_akhir"},{title:"Total Rupiah / Jam",dataIndex:"total_rp",key:"total_rp",render(s){return s==null?void 0:s.toLocaleString("kr-ko")}}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=Bn();return j.useEffect(()=>(i(G({data:[]})),()=>{i(G({data:[]}))}),[i]),t.jsxs("div",{className:"row",children:[t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id"}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},iu=a=>{const{handleSubmit:e,pristine:i,submitting:o}=a,s=Bn(),n=D();return j.useEffect(()=>{const d=new Date().toISOString().slice(0,7);n(M("LaporanTransaksiLembur","tgl_awal",d)),n(M("LaporanTransaksiLembur","tgl_akhir",d))},[n]),t.jsxs(q,{title:"Transaksi Lembur",children:[t.jsx("form",{onSubmit:e(()=>n(s.getReportLembur())),children:t.jsxs("div",{className:"row",children:[t.jsx(Na,{className:"col-3",formType:"report"}),t.jsx(fa,{className:"col-3",namaForm:"LaporanTransaksiLembur"}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"tgl_awal",type:"month",placeholder:"Tanggal Awal",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"tgl_akhir",type:"month",placeholder:"Tanggal Akhir",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,disabled:i||o,type:"submit",className:"btn-lg",children:"Cetak Laporan"})})]})}),t.jsx("div",{className:"mt-4",children:t.jsx(nu,{})})]})},su=O({form:"LaporanTransaksiLembur"})(iu),zn=()=>{const a=()=>async(n,r)=>{var u;const d=r(),l=(u=d.form.FormPengajuanCuti)==null?void 0:u.values;l.tgl_system=z,l.kode_toko=`${ma}`,d.utility.getModal.isEdit?n(i(l)):n(e(l))},e=n=>async r=>{try{r(c.setLoading({screen:!0})),await aa(L.transaksi.cuti,{...n,cuti_terpakai:Number(n.cuti_terpakai)}),$("Data Berhasil Disimpan"),r(ia.getPengajuanCuti()),r(c.stopLoading()),r(c.hideModal()),r(ta("FormPengajuanCuti"))}catch(d){v(`${d}`),r(c.stopLoading())}},i=n=>async r=>{try{r(c.setLoading({screen:!0})),await ba(`${L.transaksi.cuti}/${n._id}`,{...n,cuti_terpakai:Number(n.cuti_terpakai)}),$("Data Berhasil Diedit"),r(ia.getPengajuanCuti()),r(c.stopLoading()),r(ta("FormPengajuanCuti")),r(c.hideModal())}catch(d){v(`${d}`),r(c.stopLoading())}};return{prosesData:a,removeData:n=>async r=>{try{r(c.setLoading({button:!0})),await ya(`${L.transaksi.cuti}/${n}`),r(ia.getPengajuanCuti()),$("Data Berhasil Dihapus"),r(c.stopLoading())}catch(d){r(c.stopLoading()),v(`${d||"Data Gagal Hapus"}`)}},batalCuti:n=>async r=>{r(c.setLoading({screen:!0}));try{await aa(L.transaksi.batalcuti,{kode_toko:n.kode_toko,kode_pegawai:n.kode_pegawai,tgl_cuti:n.tgl_system}),r(c.stopLoading()),$("Cuti Berhasil di batal"),r(ia.getPengajuanCuti())}catch(d){v(`${d}`),r(c.stopLoading())}}}},ou=()=>{const a=D(),e=pa(),i=zn();j.useEffect(()=>{a(ia.getPengajuanCuti({namaForm:"Data Pengajuan Cuti"}))},[a]);const o=[{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{disabled:r.status_validasi!=="OPEN",tooltipText:"Batal Cuti",prosesDelete:()=>a(i.batalCuti(r))})})},{title:"Status Validasi",dataIndex:"status_validasi",key:"status_validasi"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan Cuti",dataIndex:"tgl_system",key:"tgl_system"},{title:"Cuti Dari",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Cuti Sampai",dataIndex:"leave_end_date",key:"leave_end_date"},{title:"Alasan Cuti",dataIndex:"leave_description",key:"leave_description"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"}],s=I(n=>n.transaksi.dataPengajuanCuti);return t.jsx(Z,{addButtonTitle:"Tambah Pengajuan Cuti",dataSource:s.data||[],columns:o,rowKey:"_id",scrollX:!0,width:1500,onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},ru=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode pegawai harus diisi"),a.leave_start_date||(e.leave_start_date="Cuti Dari harus diisi"),a.leave_end_date||(e.leave_end_date="Cuti Sampai harus diisi"),a.leave_description||(e.leave_description="Alasan harus diisi"),a.leave_end_date<a.leave_start_date&&(e.leave_end_date="Tanggal Akhir cuti tidak boleh kurang dari awal cuti"),e},lu=a=>{var l;const{handleSubmit:e,isEdit:i}=a,o=D(),s=zn(),n=async()=>{o(s.prosesData())},r=I(u=>u.parameter.parameterCuti),d=rs(new Date(z),Number(((l=r.data[0])==null?void 0:l.leave_request_gap_days)||0)+1);return j.useEffect(()=>{da("target"),o(sa.getParameterCuti()),setTimeout(()=>{o(M("FormPengajuanCuti","leave_start_date",Y(String(d)))),o(M("FormPengajuanCuti","leave_end_date",Y(String(d))))},300)},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(fa,{className:"col-6",namaForm:"FormPengajuanCuti",onClick:u=>{o(M("FormPengajuanCuti","cuti_tahunan",u[0].cuti_tahunan)),o(M("FormPengajuanCuti","cuti_terpakai",u[0].cuti_terpakai))}}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Cuti Dari",name:"leave_start_date",type:"date",placeholder:"Masukan Target",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Cuti Sampai",name:"leave_end_date",type:"date",placeholder:"Masukan Cuti Dari",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jatah Cuti",name:"cuti_tahunan",type:"text",readOnly:!0,placeholder:"Masukan Jatah Cuti",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Cuti Terpakai",name:"cuti_terpakai",type:"text",placeholder:"Masukan Cuti Terpakai",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alasan Cuti",name:"leave_description",type:"text",placeholder:"Masukan Alasan Cuti",component:N})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},du=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,kode_pegawai:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,leave_description:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.leave_description,leave_start_date:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.leave_start_date,leave_end_date:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.leave_end_date}}:{isEdit:!1}},cu=la(du),uu={form:"FormPengajuanCuti",enableReinitialize:!0,validate:ru},mu=cu(O(uu)(lu)),pu=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Pengajuan Cuti",children:[t.jsx(ou,{}),t.jsx(ga,{namaForm:"FormTargetToko",title:`${a.getModal.title}`,width:500,children:t.jsx(mu,{})})]})},gu=()=>{const a=D(),e=pa(),i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan",dataIndex:"leave_start_date",key:"leave_start_date"},{title:"Alasan",dataIndex:"leave_description",key:"leave_description"},{title:"Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Status",dataIndex:"status_validasi",key:"status_validasi"},{title:"Action",key:"actions",render:(s,n)=>t.jsx(Ne,{type:"primary",disabled:n.status_validasi!=="OPEN",onClick:()=>a(e.showModal({isEdit:!0,title:"Review Cuti",namaForm:"FormReviewCuti",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})}];j.useEffect(()=>{a(ia.getReviewPengajuanCuti())},[a]);const o=I(s=>s.transaksi.reviewPengajuanCuti);return t.jsx(Z,{dataSource:o.data,columns:i,rowKey:"_id",scrollX:!0,width:800,disabledSearch:!0})},hu=O({form:"TableReviewCuti"})(gu),_u=a=>{const e={};return a.status_validasi||(e.status_validasi="Status Validasi harus dipilih"),a.status_validasi==="REJECT"&&(a.reject_description||(e.reject_description="Deskripsi Reject harus diisi")),e},ku=()=>({validasiCuti:()=>async(e,i)=>{var n;const s=(n=i().form.FormReviewCuti)==null?void 0:n.values;try{e(c.setLoading({screen:!0})),await ba(`${L.transaksi.cuti}/${s._id}/review`,{status_validasi:s.status_validasi,reject_description:s.reject_description||"-"}),$("Data Cuti Berhasil Disimpan"),e(c.hideModal()),e(c.stopLoading()),e(ia.getReviewPengajuanCuti())}catch(r){e(c.stopLoading()),v(`${r}`)}}}),bu=a=>{const{handleSubmit:e,pristine:i,submitting:o}=a,s=D(),n=ku(),r=async()=>{s(n.validasiCuti())};j.useEffect(()=>{s(M("FormReviewCuti","status_validasi","OPEN"))},[s]);const[d,l]=j.useState("OPEN");return t.jsx("form",{onSubmit:e(r),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Kode Pegawai",name:"kode_pegawai",type:"text",readOnly:!0,placeholder:"Masukan Kode Pegawai",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",type:"text",readOnly:!0,placeholder:"Masukan Nama Pegawai",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alasan Cuti",name:"leave_description",type:"text",readOnly:!0,placeholder:"Masukan Alasan Cuti",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Status Validasi",name:"status_validasi",type:"text",options:[{value:"REJECT",label:"REJECT"},{value:"APPROVE",label:"APPROVE"},{value:"OPEN",label:"OPEN"}],placeholder:"Masukan Status Validasi",component:ra,onChange:u=>l(u)})}),d==="REJECT"&&t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Deskripsi Ditolak",name:"reject_description",placeholder:"Masukan Deskripsi Ditolak",component:Se})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{disabled:i||o,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Simpan"})})]})})},yu=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,kode_pegawai:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,nama_pegawai:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.nama_pegawai,leave_description:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.leave_description}}:{isEdit:!1}},xu=la(yu),fu={form:"FormReviewCuti",enableReinitialize:!0,validate:_u},ju=xu(O(fu)(bu)),Tu=a=>{var d;const{handleSubmit:e,pristine:i,submitting:o}=a,s=D(),n=async l=>{console.log(l),s(ia.getReviewPengajuanCuti({...l,status_validasi:l.status_validasi!=="ALL"?l.status_validasi:void 0}))};j.useEffect(()=>{s(M("FilterCuti","start_date",z)),s(M("FilterCuti","end_date",z)),s(M("FilterCuti","status_validasi","ALL")),s(Q.getDataToko())},[s]);const r=I(l=>l.dataMaster.dataToko);return t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",placeholder:"Masukan Tanggal Awal",component:N})}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Emd Awal",name:"end_date",type:"date",placeholder:"Masukan Emd Awal",component:N})}),t.jsx("div",{className:"col-2",children:t.jsx(p,{label:"Status",name:"status_validasi",type:"text",options:[{value:"ALL",label:"SEMUA"},{value:"REJECT",label:"REJECT"},{value:"APPROVE",label:"APPROVE"},{value:"OPEN",label:"OPEN"}],placeholder:"Masukan Status",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",type:"text",options:(d=r.data)==null?void 0:d.map(l=>({value:l.kode_toko,label:l.nama_toko})),placeholder:"Masukan Kode Toko",component:ra})}),t.jsx("div",{className:"col-3 text-end mt-4",children:t.jsx(C,{disabled:i||o,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari"})})]})})},Lu={form:"FilterCuti",enableReinitialize:!0},Pu=O(Lu)(Tu),vu=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Review Cuti",children:[t.jsx(Pu,{}),t.jsx(hu,{}),t.jsx(ga,{namaForm:"FormReviewCuti",title:`${a.getModal.title}`,width:500,children:t.jsx(ju,{})})]})},Un=()=>{const a=()=>async(s,n)=>{var l;const r=n(),d=(l=r.form.FormKasBon)==null?void 0:l.values;d.kode_toko=`${ma}`,d.lama_cicilan=Number(d.lama_cicilan),r.utility.getModal.isEdit?s(i(d)):s(e(d))},e=s=>async n=>{try{n(c.setLoading({screen:!0})),await aa(L.transaksi.kasbon,s),$("Data Berhasil Disimpan"),n(ia.getDataKasBon()),n(c.stopLoading()),n(c.hideModal()),n(ta("FormKasBon"))}catch(r){v(`${r}`),n(c.stopLoading())}},i=s=>async n=>{try{n(c.setLoading({screen:!0})),await ba(`${L.transaksi.kasbon}/${s._id}`,s),$("Data Berhasil Diedit"),n(ia.getDataKasBon()),n(c.stopLoading()),n(ta("FormKasBon")),n(c.hideModal())}catch(r){v(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:s=>async n=>{try{n(c.setLoading({button:!0})),await ya(`${L.transaksi.kasbon}/${s}`),n(ia.getDataKasBon()),$("Data Berhasil Dihapus"),n(c.stopLoading())}catch(r){n(c.stopLoading()),v(`${r||"Data Gagal Hapus"}`)}}}},Nu=()=>{const a=D(),e=pa(),i=Un();j.useEffect(()=>{a(ia.getDataKasBon({namaForm:"Data Kasbon"}))},[a]);const o=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Alasan Kasbon",dataIndex:"alasan_kasbon",key:"alasan_kasbon"},{title:"Lama Cicilan",dataIndex:"lama_cicilan",key:"lama_cicilan",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Cicil Rp",dataIndex:"cicil_rp",key:"cicil_rp",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Total Kasbon",dataIndex:"total_kasbon",key:"total_kasbon",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{prosesDelete:()=>a(i.removeData(r._id))})})}],s=I(n=>n.transaksi.kasBon);return t.jsx(Z,{addButtonTitle:"Tambah Kasbon",dataSource:s.data||[],columns:o,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataKasbon"}))})},Su=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.lama_cicilan||(e.lama_cicilan="Lama cicilan harus diisi"),a.total_kasbon||(e.total_kasbon="Total kasbon harus diisi"),a.alasan_kasbon||(e.alasan_kasbon="Alasan harus diisi"),e},Eu=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=Un(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("kode_pegawai"),o(M("FormKasBon","tgl_system",z))},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(fa,{className:"col-6",namaForm:"FormKasBon"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Lama Cicilan",name:"lama_cicilan",type:"text",placeholder:"Masukan Lama Cicilan",component:N,right:!0,inputGroup:!0,textIconGroup:"Bulan"})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Total Kasbon",name:"total_kasbon",type:"text",isRp:!0,placeholder:"Masukan Total Kasbon",component:ha})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Alasan",name:"alasan_kasbon",placeholder:"Masukan Kasbon",component:Se})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Du=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{kode_pegawai:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d.kode_pegawai,nama_pegawai:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.nama_pegawai,alasan_kasbon:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.alasan_kasbon,total_kasbon:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.total_kasbon}}:{isEdit:!1}},Au=la(Du),Iu={form:"FormKasBon",enableReinitialize:!0,validate:Su},Mu=Au(O(Iu)(Eu)),Cu=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Kas Bon",children:[t.jsx(Nu,{}),t.jsx(ga,{namaForm:"FormMasterKodePabrikan",title:`${a.getModal.title}`,children:t.jsx(Mu,{})})]})},On=()=>{const a=()=>async(o,s)=>{var d;const r=(d=s().form.FormPotonganLain)==null?void 0:d.values;r.kode_toko=`${ma}`,o(e(r))},e=o=>async s=>{try{s(c.setLoading({screen:!0})),await aa(L.transaksi.potonganLain,o),$("Data Berhasil Disimpan"),s(ia.getPotonganLain()),s(c.stopLoading()),s(c.hideModal()),s(ta("FormPotonganLain"))}catch(n){kn({icon:"info",html:`${n}`,title:"Informasi"}),s(c.stopLoading())}};return{prosesData:a,removeData:o=>async s=>{try{s(c.setLoading({button:!0})),await ya(`${L.transaksi.potonganLain}/${o}`),s(ia.getPotonganLain()),$("Data Berhasil Dihapus"),s(c.stopLoading())}catch(n){s(c.stopLoading()),v(`${n||"Data Gagal Hapus"}`)}}}},wu=()=>{const a=D(),e=pa(),i=On();j.useEffect(()=>{a(ia.getPotonganLain({namaForm:"Data Potongan"}))},[a]);const o=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Qty Cicilan",dataIndex:"qty_cicil_bulan",key:"qty_cicil_bulan",render:n=>n},{title:"Saldo Rp",dataIndex:"saldo_rp",key:"saldo_rp",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Cicilan Rp",dataIndex:"cicil_rp",key:"cicil_rp",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Total Rp",dataIndex:"total_rp",key:"total_rp",render:n=>Number(n||0).toLocaleString("kr-ko")},{title:"Alasan",dataIndex:"alasan",key:"alasan"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx($a,{prosesDelete:()=>a(i.removeData(r._id))})})}],s=I(n=>n.transaksi.potonganLain);return t.jsx(Z,{addButtonTitle:"Tambah Potongan",dataSource:s.data||[],columns:o,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},Ru=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.qty_cicil_bulan||(e.qty_cicil_bulan="Lama cicilan harus diisi"),a.total_rp||(e.total_rp="Total harus diisi"),a.alasan||(e.alasan="Alasan harus diisi"),e},Ku=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=On(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("target"),o(M("FormPotonganLain","leave_start_date",z)),o(M("FormPotonganLain","leave_end_date",z))},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(fa,{className:"col-6",namaForm:"FormPotonganLain"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Qty Cicilan Bulan",name:"qty_cicil_bulan",type:"text",placeholder:"Masukan Qty Cicilan Bulan",component:ha})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Total Rp",name:"total_rp",type:"text",placeholder:"Masukan Total Rp",isRp:!0,component:ha})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Alasan",name:"alasan",type:"text",placeholder:"Masukan Alasan",component:N})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},$u=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{kode_pegawai:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d.kode_pegawai,total_rp:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.total_rp,qty_cicil_bulan:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.qty_cicil_bulan,alasan:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.alasan}}:{isEdit:!1}},Fu=la($u),Bu={form:"FormPotonganLain",enableReinitialize:!0,validate:Ru},zu=Fu(O(Bu)(Ku)),Uu=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Potongan Lain Lain",children:[t.jsx(wu,{}),t.jsx(ga,{namaForm:"FormTargetToko",title:`${a.getModal.title}`,width:500,children:t.jsx(zu,{})})]})},Ou=()=>{const a=D(),e=pa();j.useEffect(()=>{a(ia.getPelanggaranPegawai({namaForm:"DataPelanggaran"}))},[a]);const i=[{title:"Tanggal",dataIndex:"tgl_system",key:"tgl_system"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Kode Toko",dataIndex:"kode_toko",key:"kode_toko"},{title:"Deskripsi",dataIndex:"deskripsi",key:"deskripsi"},{title:"Action",key:"action",align:"center",render:(s,n)=>t.jsx("div",{className:"text-center",children:t.jsx(Ne,{type:"primary",onClick:()=>a(e.showModal({isEdit:!0,title:"Edit Data",namaForm:"FormPelanggaranPegawai",data:n})),children:t.jsx("i",{className:"fa fa-edit"})})})}],o=I(s=>s.transaksi.pelanggaranPegawai);return t.jsx(Z,{addButtonTitle:"Tambah Pelanggaran Pegawai",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormPelanggaranPegawai"}))})},Gu=()=>{const a=()=>async(s,n)=>{var l;const r=n(),d=(l=r.form.FormPelanggaranPegawai)==null?void 0:l.values;d.kode_toko=`${ma}`,r.utility.getModal.isEdit?s(i(d)):s(e(d))},e=s=>async n=>{try{n(c.setLoading({screen:!0})),await aa(L.transaksi.pelanggaranPegawai,s),$("Data Berhasil Disimpan"),n(c.stopLoading()),n(ia.getPelanggaranPegawai()),n(c.hideModal()),n(ta("FormPelanggaranPegawai"))}catch(r){v(`${r}`),n(c.stopLoading())}},i=s=>async n=>{try{n(c.setLoading({screen:!0})),await ba(`${L.transaksi.pelanggaranPegawai}/${s._id}`,s),$("Data Berhasil Diedit"),n(c.stopLoading()),n(ia.getPelanggaranPegawai()),n(c.hideModal()),n(ta("FormPelanggaranPegawai"))}catch(r){v(`${r}`),n(c.stopLoading())}};return{prosesData:a,removeData:s=>async n=>{try{n(c.setLoading({button:!0})),await ya(`${L.transaksi.pelanggaranPegawai}/${s}`),n(ia.getPelanggaranPegawai()),$("Data Berhasil Dihapus"),n(c.stopLoading()),n(ta("FormPelanggaranPegawai"))}catch(r){n(c.stopLoading()),v(`${r||"Data Gagal Hapus"}`)}}}},Hu=a=>{const{handleSubmit:e,isEdit:i}=a,o=D(),s=Gu(),n=async()=>{o(s.prosesData())};return j.useEffect(()=>{da("kode_pegawai"),o(M("FormPelanggaranPegawai","tgl_system",z))},[o]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(fa,{namaForm:"FormPelanggaranPegawai",className:"col-6"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal",name:"tgl_system",type:"date",readOnly:i,placeholder:"Masukan Tanggal",component:N})}),t.jsx("div",{className:"col-12",children:t.jsx(p,{label:"Deskripsi",name:"deskripsi",placeholder:"Masukan Deskripsi",component:Se})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Ju=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,kode_pegawai:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,tgl_system:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.tgl_system,deskripsi:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.deskripsi}}:{isEdit:!1}},Vu=la(Ju),qu={form:"FormPelanggaranPegawai",enableReinitialize:!0},Wu=Vu(O(qu)(Hu)),Yu=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Pelanggaran Pegawai",children:[t.jsx(Ou,{}),t.jsx(ga,{namaForm:"FormMasterKodePabrikan",title:`${a.getModal.title}`,children:t.jsx(Wu,{})})]})},Xu=a=>{const[e,i]=a.split("-").map(Number),o=new Date(e,i-1,1),s=new Date(e,i,0);return{startDate:o,endDate:s}},Zu=a=>{const e=new de({orientation:"landscape",unit:"mm",format:"a5"}),i=va(`${ma}`),o={name:(i==null?void 0:i.nama_toko)||"",address:(i==null?void 0:i.alamat_toko)||""};a.forEach((s,n)=>{n>0&&e.addPage(),e.setFontSize(12),e.text(o.name,105,10,{align:"center"}),e.text(o.address,105,16,{align:"center"}),e.line(10,20,200,20),e.text("SLIP GAJI KARYAWAN",105,25,{align:"center"});const r=Xu(s.periode);e.text(`Periode ${Y(`${r.startDate}`,!0)} ${Y(`${r.endDate}`,!0)}`,105,30,{align:"center"});const d=[],l=[];e.text("Kode Pegawai",14,40),e.text(`: ${s.kode_pegawai}`,50,40),e.text("Nama Pegawai",14,45),e.text(`: ${s.nama_pegawai}`,50,45),e.text("Jabatan",14,50),e.text(`: ${s.jabatan}`,50,50);const u=55;d.push([{content:"PENDAPATAN"},{content:"NOMINAL"}]),l.push([{content:"GAJIH POKOK"},{content:Number(s.gaji_pokok||0).toLocaleString("kr-ko")}]),l.push([{content:"BONUS SALES"},{content:Number(s.bonus_target||0).toLocaleString("kr-ko")}]),l.push([{content:"BONUS ABSEN"},{content:Number(s.bonus_absen||0).toLocaleString("kr-ko")}]),l.push([{content:"BONUS LEMBUR"},{content:Number(s.bonus_lembur||0).toLocaleString("kr-ko")}]),l.push([{content:"BONUS JABATAN"},{content:Number(s.bonus_jabatan||0).toLocaleString("kr-ko")}]),l.push([{content:"TARGET SALES"},{content:Number(s.bonus_target||0).toLocaleString("kr-ko")}]),l.push([{content:"POTONGAN"},{content:Number(s.potongan_lain||0).toLocaleString("kr-ko")}]),l.push([{content:"TOTAL GAJI",styles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}},{content:Number(s.grand_total||0).toLocaleString("kr-ko"),styles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}]),sn(e,{head:d,body:l,startY:u,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}})}),e.save("SLIP_GAJI_BATCH.pdf")},Qu=()=>({getPayrollSumary:()=>async(o,s)=>{var r,d;await Ka(100);const n=(d=(r=s())==null?void 0:r.form.FormPayroll)==null?void 0:d.values;if(me){if(!n.kode_toko)return v("Kode Toko Harus Di Pilih"),o(M("FormPayroll","kode_pegawai","")),!1;if(!n.periode)return v("Periode Belum Di Pilih"),!1}try{o(c.setLoading({screen:!0,table:!0}));const l=await H(L.transaksi.payrollSummary,{kode_pegawai:n.kode_pegawai,periode:z.slice(0,7),kode_toko:n.kode_toko||`${ma}`});setTimeout(()=>{o(G({data:l.data.map(u=>{var g,k;const m=((g=u==null?void 0:u.status_kehadiran)==null?void 0:g.is_late_monthly)===!1&&((k=u==null?void 0:u.status_kehadiran)==null?void 0:k.is_late_weekly)===!1;return{...u,total_gaji:0,periode:n.periode,potongan_lain:u.potongan.potongan_lain,kasbon:u.potongan.kasbon,bonus_absen:m===!1?75e3:0}})})),o(c.stopLoading())},300)}catch(l){o(G({data:[]})),o(c.stopLoading()),v(`${l}`)}},saveData:()=>async(o,s)=>{await Ka(100);const r=s().utility.getDataTmp.data;try{const d=r.map(l=>{const u=Gn(l);return{kode_toko:X("datatoko").kode_toko,kode_pegawai:l.kode_pegawai,periode:l.periode,bonus_sales:l.bonus_sales,bonus_target:l.bonus_sales,bonus_absen:l.bonus_absen||0,target_sales:l.target_sales||0,bonus_jabatan:l.bonus_jabatan||0,bonus_lembur:l.bonus_lembur||0,kasbon:l.kasbon||0,potongan_lain:l.potongan_lain||0,potongan_absen:l.potongan_absen||0,grand_total:u,gaji_pokok:l.gaji_pokok,nama_pegawai:l.nama_pegawai,jabatan:l.jabatan}});o(c.setLoading({screen:!0})),await aa(L.transaksi.payroll,{data_payroll:d}),Zu(d),o(c.stopLoading()),$("Data Berhasil Disimpan"),o(ta("FormPayroll")),o(G({data:[]}))}catch(d){v(`${d}`),o(c.stopLoading())}},clearData:()=>async o=>{o(c.setLoading({screen:!0,button:!0})),await Ka(300),o(c.simpanDataTmp({data:[]})),o(c.stopLoading())}}),Gn=a=>{const{gaji_pokok:e=0,bonus_sales:i=0,bonus_absen:o=0,bonus_lembur:s=0,bonus_jabatan:n=0,kasbon:r=0,potongan_lain:d=0,potongan_absen:l=0}=a;return Number(e)+Number(n)+Number(o)+Number(i)+Number(s)-Number(r)-Number(d)-Number(l)},am=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus diisi"),a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.nama_pegawai||(e.nama_pegawai="Nama Pegawai harus diisi"),e},em=a=>{const{handleSubmit:e}=a,i=D(),o=Qu(),s=()=>{i(o.saveData())};j.useEffect(()=>(i(sa.getParameterTargetSales()),i(G({data:[]})),i(c.setKodeToko(null)),i(M("FormPayroll","periode",z.slice(0,7))),()=>{i(G({data:[]})),i(c.setKodeToko(null))}),[i]);const n=I(l=>l.utility.getDataTmp.data),r=(l,u)=>m=>{const g=[...n];g[u][l]=Number(m.floatValue||0),setTimeout(()=>{ji.unstable_batchedUpdates(()=>{i(c.simpanDataTmp({data:g}))})},500)},d=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Jabatan",dataIndex:"jabatan",key:"jabatan"},{title:"Gajih Pokok",dataIndex:"gaji_pokok",key:"gaji_pokok",render:l=>(l||0).toLocaleString("kr-ko")},{title:"Bonus Sales",dataIndex:"bonus_sales",key:"bonus_sales",render:l=>(l||0).toLocaleString("kr-ko")},{title:"Target Sales",dataIndex:"target_sales",key:"target_sales",render:l=>l.toLocaleString("kr-ko")},{title:"Bonus Lembur",dataIndex:"bonus_lembur",key:"bonus_lembur",render:l=>l.toLocaleString("kr-ko")},{title:"Bonus Absen",dataIndex:"bonus_absen",key:"bonus_absen",render:(l,u,m)=>{var k,h;const g=((k=u==null?void 0:u.status_kehadiran)==null?void 0:k.is_late_monthly)===!1&&((h=u==null?void 0:u.status_kehadiran)==null?void 0:h.is_late_weekly)===!1;return t.jsxs(t.Fragment,{children:[t.jsx(je,{allowLeadingZeros:!0,thousandSeparator:",",onValueChange:r("bonus_absen",m),className:"form-control",value:l||0}),!g&&t.jsxs("p",{className:"text-danger d-none",id:"notes-bonus-jabatan",children:[" ",t.jsx("i",{children:"Note : Bonus Absen Tidak Mencapai Target"})]})]})}},{title:"Bonus Jabatan",dataIndex:"bonus_jabatan",key:"bonus_jabatan",editable:!0,render:(l,u,m)=>t.jsx(je,{allowLeadingZeros:!0,thousandSeparator:",",onValueChange:r("bonus_jabatan",m),className:"form-control",value:l||0})},{title:"Potongan",dataIndex:"potongan_lain",key:"potongan_lain",render:l=>{var u;return(u=l||0)==null?void 0:u.toLocaleString("kr-ko")}},{title:"Kasbon",dataIndex:"kasbon",key:"kasbon",editable:!0,render:l=>(l||0).toLocaleString("kr-ko")},{title:"Potongan Absen",dataIndex:"potongan_absen",key:"potongan_absen",editable:!0,render:l=>(l||0).toLocaleString("kr-ko")},{title:"Total Gaji",dataIndex:"total_gaji",key:"total_gaji",render:(l,u)=>Gn(u).toLocaleString("kr-ko")}];return t.jsxs(q,{title:"Payroll",children:[t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal",name:"periode",type:"month",placeholder:"tanggal",component:N})}),t.jsx(Na,{className:"col-3",onChange:()=>i(o.getPayrollSumary())})]})}),t.jsx("div",{className:"mt-5",children:t.jsx(Z,{dataSource:n,columns:d,rowKey:"kode_pegawai",width:2e3,scrollX:!0})}),t.jsxs("div",{className:"row mt-5",children:[t.jsx("div",{className:"col-6",children:t.jsxs("button",{type:"button",onClick:()=>i(o.clearData()),className:"btn btn-yellow",children:[" ","Clear"," "]})}),t.jsx("div",{className:"col-6 text-end",children:t.jsxs("button",{type:"button",onClick:()=>i(o.saveData()),className:"btn btn-primary",children:[" ","Simpan Payroll"," "]})})]})]})},tm=O({form:"FormPayroll",validate:am})(em),nm=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus dipilih"),e},Hn=()=>({cariData:()=>async(i,o)=>{var s;try{const n=(s=o().form)==null?void 0:s.FormSinkronDataPegawai.values,r={kode_pegawai:n.kode_pegawai,kode_toko:n.kode_toko,periode:z.slice(0,7)};i(c.setLoading({screen:!0}));const l=(await H(L.externalApi.omzetSales,r)).data.map(u=>({...u,kode_toko:n.kode_toko}));i(G({data:l})),i(c.stopLoading())}catch(n){i(c.stopLoading()),v(`${n}`)}},sinkronData:()=>async(i,o)=>{const n=o().utility.getDataTmp.data;try{i(c.setLoading({screen:!0})),await aa(L.transaksi.omzetSales,{detail_omzet:n.map(r=>({kode_toko:r.kode_toko,omzet_jual_faktur:r.omzet_jual_faktur,omzet_jual_berat:r.omzet_jual_berat,omzet_jual_rupiah:r.omzet_jual_rupiah,omzet_hutang_lunas_faktur:r.omzet_hutang_lunas_faktur,omzet_hutang_lunas_berat:r.omzet_hutang_lunas_berat,omzet_hutang_lunas_rupiah:r.omzet_hutang_lunas_rupiah,periode:z.slice(0,7),kode_pegawai:r.kode_pegawai}))}),i(G({data:[]})),i(c.stopLoading()),$("Sinkronisasi Berhasil")}catch(r){i(c.stopLoading()),v(`${r}`)}}}),im=a=>{const{handleSubmit:e,pristine:i,submitting:o}=a,s=D(),n=Hn(),r=async()=>{s(n.cariData())};return j.useEffect(()=>{s(M("FormSinkronDataPegawai","status_validasi","OPEN"))},[s]),t.jsx("form",{onSubmit:e(r),children:t.jsxs("div",{className:"row",children:[t.jsx(Na,{className:"col-4"}),t.jsx(fa,{className:"col-4",namaForm:"FormSinkronDataPegawai"}),t.jsx("div",{className:"col-4 text-end mt-4",children:t.jsx(C,{disabled:i||o,color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Data"})})]})})},sm={form:"FormSinkronDataPegawai",enableReinitialize:!0,validate:nm},om=O(sm)(im),rm=()=>{const a=D(),e=Hn(),i=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Sales",dataIndex:"kode_sales",key:"kode_sales"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Omset Penjualan Rupiah",dataIndex:"omzet_jual_rupiah",key:"omzet_jual_rupiah",align:"right",render(s){return t.jsx("div",{className:"text-end",children:Number(s||0).toLocaleString("kr-ko")})}},{title:"Omset Penjualan Faktur",dataIndex:"omzet_jual_faktur",key:"omzet_jual_faktur",align:"right",render(s){return t.jsx("div",{className:"text-end",children:Number(s||0).toLocaleString("kr-ko")})}},{title:"Periode",dataIndex:"periode",key:"periode"}],o=I(s=>s.utility.getDataTmp.data||[]);return j.useEffect(()=>(a(G({data:[]})),()=>{a(G({data:[]}))}),[a]),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12 mb-4",children:t.jsx(Z,{dataSource:o,columns:i,rowKey:"_id",disabledSearch:!0})}),t.jsx("div",{className:"col-8 text-end"}),t.jsx("div",{className:"col-4 text-end",children:t.jsxs(C,{disabled:!(o.length>0),block:!0,onClick:()=>a(e.sinkronData()),color:"primary",children:[" ","Sinkron Data"]})})]})},lm=()=>t.jsxs(q,{title:"Sinkron Data Pegawai",children:[t.jsx(om,{}),t.jsx(rm,{})]}),dm=a=>{const e={};return a.kode_toko||(e.kode_toko="Kode Toko harus diisi"),a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.jam_awal||(e.jam_awal="Jam Awal harus diisi"),a.jam_akhir||(e.jam_akhir="Jam Akhir harus diisi"),a.tgl_lembur||(e.tgl_lembur="Tanggal Lembur harus diisi"),a.total_rp||(e.total_rp="Total Rupiah harus diisi"),a.keterangan||(e.keterangan="Keteranagn harus diisi"),a.jam_akhir<a.jam_awal&&(e.jam_akhir="Jam akhir tidak boleh lebih dari jam awal"),a.jam_akhir===a.jam_awal&&(e.jam_akhir="Jam akhir tidak boleh sama dengan jam awal"),e},cm=a=>{const e=new de({orientation:"landscape",unit:"mm",format:"a5"}),i=va(`${ma}`),o={name:(i==null?void 0:i.nama_toko)||"",address:(i==null?void 0:i.alamat_toko)||""};e.setFontSize(12),e.text(o.name,105,10,{align:"center"}),e.text(o.address,105,16,{align:"center"}),e.line(10,20,200,20),e.text("FORM LEMBUR KARYAWAN",105,25,{align:"center"});const s=new Date().setDate(1),n=new Date;n.setMonth(n.getMonth()+1),n.setDate(-1),e.text(`TANGGAL ${Y(`${new Date(s)}`,!0)}`,105,30,{align:"center"});const r=[],d=[],l=34;r.push([{content:"No",rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:"Kode Pegawai",rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:"Nama Pegawai",rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:"Keterangan Lembur",rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:"Jam Lembur",styles:{halign:"center"},colSpan:2},{content:"Total",styles:{halign:"center"},rowSapn:2}]),r.push([{content:"",colSpan:4},{content:"Jam Awal",styles:{halign:"center"}},{content:"Jam Akhir",styles:{halign:"center"}},{content:"",styles:{halign:"center"}}]),d.push([{content:1,rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:a.kode_pegawai,rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:a.nama_pegawai,rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:a.keterangan,rowSapn:2,styles:{valign:"middle",halign:"center"}},{content:a.jam_awal,styles:{halign:"center"}},{content:a.jam_akhir,styles:{halign:"center"}},{content:a.total_rp.toLocaleString("kr-ko"),styles:{halign:"center"}}]),sn(e,{head:r,body:d,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),e.save("FORM LEMBUR .pdf")},um=()=>({cariDataPegawai:()=>async(o,s)=>{var d;const r=(d=s().form.TransaksiLembur)==null?void 0:d.values;if(!r.kode_toko)return v("Kode Toko harus di pilih"),!1;try{const l=await H(L.dataMaster.pegawai,{kode_pegawai:r.kode_pegawai});o(M("TransaksiLembur","nama_pegawai",l.data[0].nama_pegawai)),o(M("TransaksiLembur","jabatan",l.data[0].jabatan))}catch(l){v(`${l}`)}},saveLembur:()=>async(o,s)=>{var d;const r=(d=s().form.TransaksiLembur)==null?void 0:d.values;try{o(c.setLoading({screen:!0})),await aa(L.transaksi.lembur,{...r,total_lembur:Number(r.total_lembur)}),cm(r),$("Lembur berhasil disimpan"),o(c.stopLoading()),o(ta("TransaksiLembur"))}catch(l){o(c.stopLoading()),v(`${l}`)}},cariParameterLembur:()=>async(o,s)=>{var d;Ka(300);const r=(d=s().form.TransaksiLembur)==null?void 0:d.values;if(r!=null&&r.jam_awal&&(r!=null&&r.jam_akhir)){const l=as(r.jam_awal,r.jam_akhir);o(M("TransaksiLembur","total_lembur",l))}}}),mm=a=>{const{handleSubmit:e,pristine:i,submitting:o}=a,s=um(),n=D();return j.useEffect(()=>{n(M("TransaksiLembur","tgl_lembur",z))},[n]),t.jsx(q,{title:"Transaksi Lembur",children:t.jsx("form",{onSubmit:e(()=>n(s.saveLembur())),children:t.jsxs("div",{className:"row",children:[t.jsx(Na,{className:"col-3"}),t.jsx(fa,{className:"col-3",namaForm:"TransaksiLembur",onClick:()=>n(s.cariDataPegawai())}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Nama Pegawai",name:"nama_pegawai",type:"text",placeholder:"Nama Pegawai",readOnly:!0,component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jabatan",name:"jabatan",type:"text",placeholder:"Jabatan",readOnly:!0,component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Lembur",name:"tgl_lembur",type:"date",placeholder:"Tanggal Lembur",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jam Awal Lembur",name:"jam_awal",type:"time",placeholder:"Jam Awal Lembur",component:N,onBlur:()=>n(s.cariParameterLembur())})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jam Akhir Lembur",name:"jam_akhir",type:"time",placeholder:"Jam Akhir Lembur",component:N,onBlur:()=>n(s.cariParameterLembur())})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Total Lembur",name:"total_lembur",type:"text",readOnly:!0,placeholder:"Total Lembur",component:N,inputGroup:!0,textIconGroup:"Menit",right:!0})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Total Rupiah / Jam",name:"total_rp",type:"text",isRp:!0,placeholder:"Total Rupiah / Jam",component:ha})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Keterangan Lembur",name:"keterangan",type:"text",placeholder:"Keterangan Lembur",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,disabled:i||o,type:"submit",className:"btn-lg",children:"Cetak Struk"})})]})})})},pm=O({form:"TransaksiLembur",validate:dm})(mm),Jn=({namaForm:a})=>{const e=D(),i=pa();j.useEffect(()=>{e(ia.getPengajuanIzinPergi())},[e]);const o=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan",dataIndex:"tgl_pengajuan",key:"tgl_pengajuan"},{title:"Jam Izin",dataIndex:"jam_izin",key:"jam_izin"},{title:"Jam Kembali",dataIndex:"jam_kembali",key:"jam_kembali",render:(n,r)=>({props:{style:{background:bt(r.jam_izin,r.jam_kembali)?"red":"white",color:bt(r.jam_izin,r.jam_kembali)?"white":"black"}},children:t.jsx("div",{children:n})})},{title:"Keterangan",dataIndex:"keterangan_izin",key:"keterangan_izin"},{title:"Actions",key:"actions",align:"center",render:(n,r)=>t.jsx("div",{className:"text-center",children:t.jsx(C,{color:"primary",onClick:()=>e(i.showModal({isEdit:!0,data:r,title:"Edit Jam Kembali",namaForm:"FormDataJabatan"})),children:t.jsx("i",{className:"fa fa-edit"})})})}],s=I(n=>n.transaksi.pengajuanIzinPergi);return t.jsx(Z,{addButtonTitle:a?void 0:"Tambah Pengajuan Izin Pergi",dataSource:s.data||[],columns:o.filter(n=>!(a&&n.key==="actions")),rowKey:"_id",onAddButtonClick:()=>e(i.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},gm=()=>{const a=()=>async(o,s)=>{var d;const n=s(),r=(d=n.form.FormPengajuanIzinPergi)==null?void 0:d.values;r.kode_toko=`${ma}`,n.utility.getModal.isEdit?o(i(r)):o(e(r))},e=o=>async s=>{try{s(c.setLoading({screen:!0})),await aa(L.transaksi.pengajuanIzinPergi,o),$("Data Berhasil Disimpan"),s(ia.getPengajuanIzinPergi()),s(c.stopLoading()),s(c.hideModal()),s(ta("FormPengajuanIzinPergi"))}catch(n){v(`${n}`),s(c.stopLoading())}},i=o=>async s=>{try{s(c.setLoading({screen:!0})),await ba(`${L.transaksi.pengajuanIzinPergi}/${o._id}`,o),$("Data Berhasil Diedit"),s(ia.getPengajuanIzinPergi()),s(c.stopLoading()),s(ta("FormPengajuanIzinPergi")),s(c.hideModal())}catch(n){v(`${n}`),s(c.stopLoading())}};return{prosesData:a}},hm=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode pegawai harus dipilih"),a.tgl_pengajuan||(e.tgl_pengajuan="Tanggal pengajuan harus diisi"),a.jam_izin||(e.jam_izin="Jam Izin harus diisi"),a.keterangan_izin||(e.keterangan_izin="Keterangan Izin harus diisi"),e},_m=a=>{const{handleSubmit:e,isEdit:i,jam_kembali:o}=a,s=gm(),n=async()=>{r(s.prosesData())},r=D();return j.useEffect(()=>{r(M("FormPengajuanIzinPergi","tgl_pengajuan",z))},[r]),t.jsxs("form",{onSubmit:e(n),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(fa,{className:"col-6",readOnly:i,namaForm:"FormPengajuanIzinPergi"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal Pengajuan",name:"tgl_pengajuan",type:"date",readOnly:i,placeholder:"Masukan Tgl Pengajuan",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Izin",name:"jam_izin",type:"time",readOnly:i,placeholder:"Masukan Jam Izin",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Jam Kembali",name:"jam_kembali",type:"time",readOnly:!i||o!=="-",placeholder:"Masukan Jam Kembali",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Keterangan Izin",name:"keterangan_izin",type:"text",readOnly:i,placeholder:"Masukan Keterangan Izin",component:N})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},km=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_,B,b,E,x,R,y,U,w,J,W,ea,na;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,jam_kembali:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d.jam_kembali,initialValues:{_id:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m._id,kode_pegawai:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.kode_pegawai,kode_toko:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.kode_toko,nama_pegawai:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.nama_pegawai,jam_izin:(E=(b=(B=a==null?void 0:a.utility)==null?void 0:B.getModal)==null?void 0:b.data)==null?void 0:E.jam_izin,jam_kembali:(y=(R=(x=a==null?void 0:a.utility)==null?void 0:x.getModal)==null?void 0:R.data)==null?void 0:y.jam_kembali,tgl_pengajuan:(J=(w=(U=a==null?void 0:a.utility)==null?void 0:U.getModal)==null?void 0:w.data)==null?void 0:J.tgl_pengajuan,keterangan_izin:(na=(ea=(W=a==null?void 0:a.utility)==null?void 0:W.getModal)==null?void 0:ea.data)==null?void 0:na.keterangan_izin}}:{isEdit:!1}},bm=la(km),ym={form:"FormPengajuanIzinPergi",enableReinitialize:!0,validate:hm},xm=bm(O(ym)(_m)),fm=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Pengajuan Izin Pergi",children:[t.jsx(Jn,{}),t.jsx(ga,{namaForm:"FormPengajuanIzinPergi",title:`${a.getModal.title}`,width:500,children:t.jsx(xm,{})})]})},Vn=({namaForm:a})=>{var n;const e=D(),i=pa();j.useEffect(()=>{e(ia.getPengajuanIzinPulangCepat())},[e]);const o=[{title:"Nama Toko",dataIndex:"nama_toko",key:"nama_toko"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Pengajuan",dataIndex:"tgl_pengajuan",key:"tgl_pengajuan"},{title:"Keterangan",dataIndex:"keterangan_izin",key:"keterangan_izin"}],s=(n=I(r=>r.transaksi.pengajuanIzinPulangCepat))==null?void 0:n.data;return t.jsx(Z,{addButtonTitle:a?void 0:"Tambah Pengajuan Izin Pulang Cepat",dataSource:s||[],columns:o.filter(r=>!(a&&r.key==="actions")),rowKey:"_id",onAddButtonClick:()=>e(i.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormDataJabatan"}))})},jm=()=>{const a=()=>async(o,s)=>{var d;const n=s(),r=(d=n.form.FormPengajuanIzinPulangCepat)==null?void 0:d.values;r.kode_toko=`${ma}`,n.utility.getModal.isEdit?o(i(r)):o(e(r))},e=o=>async s=>{try{s(c.setLoading({screen:!0})),await aa(L.transaksi.pengajuanIzinPulangCepat,o),$("Data Berhasil Disimpan"),s(ia.getPengajuanIzinPulangCepat()),s(c.stopLoading()),s(c.hideModal()),s(ta("FormPengajuanIzinPulangCepat"))}catch(n){v(`${n}`),s(c.stopLoading())}},i=o=>async s=>{try{s(c.setLoading({screen:!0})),await ba(`${L.transaksi.pengajuanIzinPulangCepat}/${o._id}`,o),$("Data Berhasil Diedit"),s(ia.getPengajuanIzinPulangCepat()),s(c.stopLoading()),s(ta("FormPengajuanIzinPulangCepat")),s(c.hideModal())}catch(n){v(`${n}`),s(c.stopLoading())}};return{prosesData:a}},Tm=a=>{const{handleSubmit:e,isEdit:i}=a,o=jm(),s=async()=>{n(o.prosesData())},n=D();return j.useEffect(()=>{n(M("FormPengajuanIzinPulangCepat","tgl_pengajuan",z))},[n]),t.jsxs("form",{onSubmit:e(s),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(fa,{className:"col-6",readOnly:i,namaForm:"FormPengajuanIzinPulangCepat"}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Tanggal Pengajuan",name:"tgl_pengajuan",type:"date",readOnly:i,placeholder:"Masukan Tgl Pengajuan",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Keterangan Izin",name:"keterangan_izin",type:"text",readOnly:i,placeholder:"Masukan Keterangan Izin",component:N})}),t.jsx("div",{className:"col-6 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:i?"Edit":"Simpan "})})]})]})},Lm=a=>{var e,i,o,s,n,r,d,l,u,m,g,k,h,f,P,S,A,T,_,B,b,E;return((i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.isEdit)===!0?{isEdit:(s=(o=a==null?void 0:a.utility)==null?void 0:o.getModal)==null?void 0:s.isEdit,initialValues:{_id:(d=(r=(n=a==null?void 0:a.utility)==null?void 0:n.getModal)==null?void 0:r.data)==null?void 0:d._id,kode_pegawai:(m=(u=(l=a==null?void 0:a.utility)==null?void 0:l.getModal)==null?void 0:u.data)==null?void 0:m.kode_pegawai,kode_toko:(h=(k=(g=a==null?void 0:a.utility)==null?void 0:g.getModal)==null?void 0:k.data)==null?void 0:h.kode_toko,nama_pegawai:(S=(P=(f=a==null?void 0:a.utility)==null?void 0:f.getModal)==null?void 0:P.data)==null?void 0:S.nama_pegawai,tgl_pengajuan:(_=(T=(A=a==null?void 0:a.utility)==null?void 0:A.getModal)==null?void 0:T.data)==null?void 0:_.tgl_pengajuan,keterangan_izin:(E=(b=(B=a==null?void 0:a.utility)==null?void 0:B.getModal)==null?void 0:b.data)==null?void 0:E.keterangan_izin}}:{isEdit:!1}},Pm=la(Lm),vm={form:"FormPengajuanIzinPulangCepat",enableReinitialize:!0},Nm=Pm(O(vm)(Tm)),Sm=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Pengajuan Izin Pulang Cepat",children:[t.jsx(Vn,{}),t.jsx(ga,{namaForm:"FormPengajuanIzinPulangCepat",title:`${a.getModal.title}`,width:500,children:t.jsx(Nm,{})})]})},Em=()=>{const a=D(),e=pa();j.useEffect(()=>{a(ia.getTukarLibur({namaForm:"Data Tukar Libur"}))},[a]);const i=[{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Tanggal Libur",dataIndex:"tanggal_libur",key:"tanggal_libur"},{title:"Hari Libur",dataIndex:"hari_libur",key:"hari_libur"},{title:"Kode Pegawai Tukar",dataIndex:"kode_pegawai_tukar",key:"kode_pegawai_tukar"},{title:"Nama Pegawai Tukar",dataIndex:"nama_pegawai_tukar",key:"nama_pegawai_tukar"},{title:"Tanggal Libur Tukar",dataIndex:"tanggal_tukar_libur",key:"tanggal_tukar_libur"},{title:"Hari Libur Tukar",dataIndex:"hari_libur_tukar",key:"hari_libur_tukar"}],o=I(s=>s.transaksi.tukarLibur);return t.jsx(t.Fragment,{children:t.jsx(Z,{addButtonTitle:"Tambah Tukar Libur",dataSource:o.data||[],columns:i,rowKey:"_id",onAddButtonClick:()=>a(e.showModal({isEdit:!1,title:"Tambah Data",namaForm:"FormTukarLibur"}))})})},Dm=()=>{const a=()=>async(i,o)=>{var r;const n=(r=o().form.FormTukarLibur)==null?void 0:r.values;i(e(n))},e=i=>async o=>{try{o(c.setLoading({screen:!0})),await aa(L.transaksi.tukarLibur,i),$("Data Berhasil Di Simpan"),o(ia.getTukarLibur()),o(c.stopLoading()),o(ta("FornTukarLibur")),o(c.hideModal())}catch(s){v(`${s}`),o(c.stopLoading())}};return{prosesData:a}},Am=a=>{const e={};return a.kode_pegawai||(e.kode_pegawai="Kode Pegawai harus diisi"),a.kode_pegawai_tukar||(e.kode_pegawai_tukar="Kode Pegawai Tukar harus diisi"),a.kode_pegawai_tukar===a.kode_pegawai&&(e.kode_pegawai_tukar="Kode Pegawai Tukar harus berbeda"),e},Im=a=>{const{handleSubmit:e}=a,i=Dm(),o=D(),[s,n]=j.useState(z),[r,d]=j.useState(z);j.useEffect(()=>{da("target")},[o]);const l=async()=>{o(i.prosesData())},u=async k=>{try{const h=k[0];console.log(h),console.log(h.kode_pegawai);const f=await H(L.transaksi.tukarLibur+"/exists",{kode_pegawai:h.kode_pegawai}),P=await H(L.transaksi.tukarLibur+"/exists",{kode_pegawai_tukar:h.kode_pegawai});if(f.data.length||P.data.length)throw v("Pegawai Tersebut Belum Bisa Mengajukan Tukar Libur"),new Error("Pegawai Tersebut Belum Bisa Mengajukan Tukar Libur");const S=jt();console.log(h.hari_libur);const A=g(h.hari_libur);let T=new Date(S[A]).toISOString().split("T")[0];const _=new Date().toISOString().split("T")[0];ft(_,T)<=0&&(T=new Date(new Date(T).getFullYear(),new Date(T).getMonth(),new Date(T).getDate()+8).toISOString().split("T")[0]),o(M("FormTukarLibur","tanggal_libur",T)),o(M("FormTukarLibur","kode_pegawai",h.kode_pegawai)),o(M("FormTukarLibur","nama_pegawai",h.nama_pegawai)),o(M("FormTukarLibur","hari_libur",h.hari_libur));const B=gs(T);n(B[0].toISOString().split("T")[0]),d(B[0].toISOString().split("T")[6])}catch(h){console.log(h)}},m=async k=>{try{const h=k[0],f=await H(L.transaksi.tukarLibur+"/exists",{kode_pegawai:h.kode_pegawai}),P=await H(L.transaksi.tukarLibur+"/exists",{kode_pegawai_tukar:h.kode_pegawai});if(f.data.length||P.data.length)throw v("Pegawai Tersebut Belum Bisa Mengajukan Tukar Libur"),new Error("Pegawai Tersebut Belum Bisa Mengajukan Tukar Libur");const S=jt(),A=g(h.hari_libur);let T=new Date(S[A]).toISOString().split("T")[0];const _=new Date().toISOString().split("T")[0];ft(_,T)<=0&&(T=new Date(new Date(T).getFullYear(),new Date(T).getMonth(),new Date(T).getDate()+8).toISOString().split("T")[0]),o(M("FormTukarLibur","tanggal_tukar_libur",T)),o(M("FormTukarLibur","nama_pegawai_tukar",h.nama_pegawai)),o(M("FormTukarLibur","hari_libur_tukar",h.hari_libur))}catch(h){console.log(h)}},g=k=>{let h=0;switch(k){case"SENIN":h=0;break;case"SELASA":h=1;break;case"RABU":h=2;break;case"KAMIS":h=3;break;case"JUMAT":h=4;break;case"SABTU":h=5;break;case"MINGGU":h=6;break;default:h=0}return h};return t.jsxs("form",{onSubmit:e(l),children:[t.jsx(p,{name:"_id",type:"hidden",component:ca}),t.jsxs("div",{className:"row",children:[t.jsx(fa,{name:"kode_pegawai",className:"col-6",namaForm:"FormTukarLibur",onClick:k=>{o(ta("FormTukarLibur")),u(k)}}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"nama_pegawai",readOnly:!0,type:"text",label:"Nama Pegawai",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"tanggal_libur",min:z,readOnly:!0,type:"date",label:"Tanggal Libur",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"hari_libur",readOnly:!0,type:"text",label:"Hari Libur",component:N})}),t.jsx(fa,{label:"Kode Pegawai Tukar",name:"kode_pegawai_tukar",className:"col-6",namaForm:"FormTukarLibur",onClick:k=>{m(k)}}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"nama_pegawai_tukar",readOnly:!0,type:"text",label:"Nama Pegawai Tukar",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"tanggal_tukar_libur",min:s,max:r,readOnly:!0,type:"date",label:"Tanggal Libur Tukar",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{name:"hari_libur_tukar",readOnly:!0,type:"text",label:"Hari Libur Tukar",component:N})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Simpan"})})]})]})},Mm=a=>{var e,i,o,s,n,r,d,l,u;return a.utility.getModal.isEdit===!0?{isEdit:a.utility.getModal.isEdit,initialValues:{_id:(o=(i=(e=a==null?void 0:a.utility)==null?void 0:e.getModal)==null?void 0:i.data)==null?void 0:o._id,kode_pegawai:(r=(n=(s=a==null?void 0:a.utility)==null?void 0:s.getModal)==null?void 0:n.data)==null?void 0:r.kode_pegawai,nama_pegawai:(u=(l=(d=a==null?void 0:a.utility)==null?void 0:d.getModal)==null?void 0:l.data)==null?void 0:u.nama_pegawai}}:{isEdit:!1}},Cm=la(Mm),wm={form:"FormTukarLibur",enableReinitialize:!0,validate:Am},Rm=Cm(O(wm)(Im)),Km=()=>{const a=I(e=>e.utility);return t.jsxs(q,{title:"Tukar Libur",children:[t.jsx(Em,{}),t.jsx(ga,{namaForm:"FormPengajuanSakit",title:`${a.getModal.title}`,width:500,children:t.jsx(Rm,{})})]})},$m=(a,e,i)=>{const o=[{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"right"}},{label:"Tanggal Pengajuan",key:"tgl_pengajuan",options:{halign:"right"}},{label:"Jam Izin",key:"jam_izin",options:{halign:"right"}},{label:"Jam Kembali",key:"jam_kembali",options:{halign:"right"}},{label:"Keterangan",key:"keterangan_izin",options:{halign:"right"}}];ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN IZIN PERGI",data:a.map((s,n)=>({...s,no:n+1})),dataToko:{alamat_toko:String(ue),nama_toko:String(ce)},columns:o,grouping:[],grandTotalSetting:{disableGrandTotal:!0}})},Wt=a=>async(e,i)=>{const o=i(),s=o.form.LaporanIzinPergi.values,n=o.transaksi.pengajuanIzinPergi.data;$m(n,s,a)},Fm=a=>{var n;const{handleSubmit:e}=a,i=D();j.useEffect(()=>{i(M("LaporanIzinPergi","start_date",z)),i(M("LaporanIzinPergi","end_date",z))},[i]);const o=r=>{i(ia.getPengajuanIzinPergi(r))},s=(n=I(r=>r.transaksi.pengajuanIzinPergi||[]))==null?void 0:n.data;return t.jsxs(q,{title:"Laporan Pengajuan Izin Pergi",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx(Na,{className:"col-4",formType:"report"}),t.jsx(fa,{className:"col-4",namaForm:"LaporanIzinPergi"}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Jn,{namaForm:"Laporan"}),t.jsx("div",{className:"row",children:(s==null?void 0:s.length)>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(Wt("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(Wt("EXCEL")),children:"Export Excel"})})]})})]})},Bm={form:"LaporanIzinPergi",enableReinitialize:!0},zm=O(Bm)(Fm),Um=(a,e,i)=>{const o=[{label:"Nama Toko",key:"nama_toko",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"right"}},{label:"Tanggal Pengajuan",key:"tgl_pengajuan",options:{halign:"right"}},{label:"Keterangan",key:"keterangan_izin",options:{halign:"right"}}];ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN IZIN PULANG CEPAT",data:a.map((s,n)=>({...s,no:n+1})),dataToko:{alamat_toko:String(ue),nama_toko:String(ce)},columns:o,grouping:[],grandTotalSetting:{disableGrandTotal:!0}})},Yt=a=>async(e,i)=>{const o=i(),s=o.form.LaporanIzinPulangCepat.values,n=o.transaksi.pengajuanIzinPulangCepat.data;Um(n,s,a)},Om=a=>{var n;const{handleSubmit:e}=a,i=D();j.useEffect(()=>{i(M("LaporanIzinPulangCepat","start_date",z)),i(M("LaporanIzinPulangCepat","end_date",z))},[i]);const o=r=>{i(ia.getPengajuanIzinPulangCepat(r))},s=(n=I(r=>r.transaksi.pengajuanIzinPulangCepat||[]))==null?void 0:n.data;return t.jsxs(q,{title:"Laporan Pengajuan Pulang Cepat",children:[t.jsx("form",{onSubmit:e(o),children:t.jsxs("div",{className:"row",children:[t.jsx(Na,{className:"col-4",formType:"report"}),t.jsx(fa,{className:"col-4",namaForm:"LaporanIzinPulangCepat"}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-4",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-4 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Vn,{namaForm:"Laporan"}),t.jsx("div",{className:"row",children:(s==null?void 0:s.length)>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(Yt("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(Yt("EXCEL")),children:"Export Excel"})})]})})]})},Gm={form:"LaporanIzinPulangCepat",enableReinitialize:!0},Hm=O(Gm)(Om),Jm=()=>t.jsx(q,{title:"Cetak Kartu Pegawai",children:t.jsx(at,{form:"CetakKartuPegawai"})}),Vm=a=>{const{handleSubmit:e,moduleSystem:i}=a,o=D();j.useEffect(()=>{o(c.getModule())},[o]);const s=async n=>{const d=[{key:"JAM_DETEKSI_LIBUR",value:n.JAM_DETEKSI_LIBUR,type:"MODULE"}].filter(l=>i.find(u=>u.key===l.key&&u.value!==l.value));try{await aa(L.utility.createModule,{module:d}),o(c.getModule()),$("Data berhasil disimpan")}catch(l){v(`${l}`)}};return t.jsx(q,{title:"Setting System",children:t.jsx("form",{onSubmit:e(s),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Jam Deteksi Libur",name:"JAM_DETEKSI_LIBUR",placeholder:"Masukkan Jam Deteksi Libur",type:"time",component:N})}),t.jsxs("div",{className:"col-3 mt-4",children:[" ",t.jsx("button",{className:"btn btn-primary",children:" Simpan "})]})]})})})},qm=a=>{var s,n;const e=(s=a.utility.getModule)==null?void 0:s.data,i=r=>e.find(d=>d.key===r);return{moduleSystem:e.filter(r=>r!==void 0),initialValues:{JAM_DETEKSI_LIBUR:((n=i("JAM_DETEKSI_LIBUR"))==null?void 0:n.value)||""}}},Wm=la(qm),Ym={form:"CreateSettingSystem",enableReinitialize:!0},Xm=Wm(O(Ym)(Vm)),V=({children:a})=>{const e=I(o=>o.helper),i=D();return j.useEffect(()=>{e.getIsLogin&&(i(ua.handleSetPageHeader(!0)),i(ua.handleSetPageSidebar(!0)),i(ua.handleSetFooter(!0)),i(ua.handleSetContent(!0)))},[i,e.getIsLogin]),e.getIsLogin?a:t.jsx(nn,{to:"/login"})},Zm=(a,e,i)=>{const o=va(e.kode_toko),s=[{label:"Tanggal",key:"tanggal",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Nama Pegawai",key:"nama_pegawai",options:{halign:"left"}},{label:"Jam Datang",key:"jam_datang",options:{halign:"center"}},{label:"Total Potongan",key:"total_potongan",options:{halign:"right",format:"RP"}}];ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN ABSEN TERLAMBAT",data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String(o==null?void 0:o.alamat_toko),nama_toko:String(o==null?void 0:o.nama_toko)},columns:s,grouping:[],grandTotalSetting:{colSpan:3}})},qn=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanAbsenTerlamabat.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;Zm(d,r,i)},cariLaporan:()=>async(i,o)=>{try{const n=o().form.LaporanAbsenTerlamabat.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},d=await H(L.report.getReportAbsenTerlambat,r);if(d.data.length===0)return i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia")),!1;const l={data:d.data,namaForm:"Laporan Kasbon Tidak Tersedia"};i(G(l)),$("Laporan Kasbon Tersedia"),i(c.stopLoading())}catch(s){i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia",`${s}`))}}}),Qm=()=>{const a=[{title:"Tanggal",dataIndex:"tanggal",key:"tanggal"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Nama Pegawai",dataIndex:"nama_pegawai",key:"nama_pegawai"},{title:"Jam Datang",dataIndex:"jam_datang",key:"jam_datang"},{title:"Total Potongan",dataIndex:"total_potongan",key:"total_potongan",render:s=>Number(s||0).toLocaleString("kr-ko")}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=qn();return t.jsxs("div",{className:"row mt-4",children:[t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},ap=a=>{const{handleSubmit:e}=a,i=D(),o=qn();j.useEffect(()=>(i(M("LaporanAbsenTerlamabat","start_date",z)),i(M("LaporanAbsenTerlamabat","end_date",z)),i(Q.getDataToko()),i(G({data:[]})),()=>{i(G({data:[]}))}),[i]);const s=I(r=>r.dataMaster.dataToko||[]),n=()=>{i(o.cariLaporan())};return t.jsxs(q,{title:"Laporan Absen Terlambat",children:[t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...s.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(Qm,{})]})},ep={form:"LaporanAbsenTerlamabat",enableReinitialize:!0},tp=O(ep)(ap),np=(a,e,i)=>{const o=va(e.kode_toko),s=[{label:"Jenis",key:"jenis",options:{halign:"left"}},{label:"Kode Pegawai",key:"kode_pegawai",options:{halign:"left"}},{label:"Tanggal",key:"tanggal",options:{halign:"left"}},{label:"Kategori",key:"katgori",options:{halign:"left"}},{label:"Jumlah In",key:"jumlah_in",options:{halign:"right",format:"RP"}},{label:"Jumlah Out",key:"jumlah_out",options:{halign:"right",format:"RP"}}];ja({formatPdf:{orientation:"landscape",unit:"mm"},type:i,date:e,title:"LAPORAN KAS BON",data:a.map((n,r)=>({...n,no:r+1})),dataToko:{alamat_toko:String((o==null?void 0:o.alamat_toko)||""),nama_toko:String((o==null?void 0:o.nama_toko)||"")},columns:s,grouping:[],grandTotalSetting:{colSpan:4}})},Wn=()=>({exportLaporan:i=>async(o,s)=>{var l;const n=s(),r=n.form.LaporanAbsenTerlamabat.values,d=(l=n.utility.getDataTmp)==null?void 0:l.data;np(d,r,i)},cariLaporan:()=>async(i,o)=>{try{const n=o().form.LaporanAbsenTerlamabat.values;i(c.setLoading({screen:!0}));const r={start_date:Y(`${n.start_date}`),end_date:Y(`${n.end_date}`),kode_toko:n.kode_toko},d=await H(L.report.getReportAbsenTerlambat,r);if(d.data.length===0)return i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia")),!1;const l={data:d.data,namaForm:"Laporan Kasbon Tidak Tersedia"};i(G(l)),$("Laporan Kasbon Tersedia"),i(c.stopLoading())}catch(s){i(c.setLaporanKosong("Laporan Kasbon Tidak Tersedia",`${s}`))}}}),ip=()=>{const a=[{title:"Jenis",dataIndex:"jenis",key:"jenis"},{title:"Kode Pegawai",dataIndex:"kode_pegawai",key:"kode_pegawai"},{title:"Tanggal",dataIndex:"tanggal",key:"tanggal"},{title:"Kategori",dataIndex:"katgori",key:"katgori"},{title:"Jumlah In",dataIndex:"jumlah_in",key:"jumlah_in",render:s=>Number(s||0).toLocaleString("en-US")},{title:"Jumlah Out",dataIndex:"jumlah_out",key:"jumlah_out",render:s=>Number(s||0).toLocaleString("en-US")}],e=I(s=>s.utility.getDataTmp.data||[]),i=D(),o=Wn();return t.jsxs("div",{className:"row mt-4",children:[t.jsx(Z,{dataSource:e,columns:a,rowKey:"_id",scrollX:!0}),(e==null?void 0:e.length)!==0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"warning",onClick:()=>i(o.exportLaporan("PDF")),block:!0,children:"Export Pdf"})}),t.jsx("div",{className:"col-6 mt-5",children:t.jsx(C,{color:"success",block:!0,onClick:()=>i(o.exportLaporan("EXCEL")),children:"Export Excel"})})]})]})},sp=a=>{const{handleSubmit:e}=a,i=D(),o=Wn();j.useEffect(()=>(i(M("LaporanPiutangKasBon","start_date",z)),i(M("LaporanPiutangKasBon","end_date",z)),i(Q.getDataToko()),i(G({data:[]})),()=>{i(G({data:[]}))}),[i]);const s=I(r=>r.dataMaster.dataToko||[]),n=()=>{i(o.cariLaporan())};return t.jsxs(q,{title:"Laporan Piutang Kasbon",children:[t.jsx("form",{onSubmit:e(n),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",options:[{value:"SEMUA",label:"SEMUA"},...s.data.map(r=>({value:r.kode_toko,label:r.nama_toko}))],placeholder:"Pilih Kode Toko",component:ra})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Awal",name:"start_date",type:"date",component:N})}),t.jsx("div",{className:"col-3",children:t.jsx(p,{label:"Tanggal Akhir",name:"end_date",type:"date",component:N})}),t.jsx("div",{className:"col-3 mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Cari Laporan"})})]})}),t.jsx(ip,{})]})},op={form:"LaporanPiutangKasBon",enableReinitialize:!0},rp=O(op)(sp),Yn=[{path:"/app/",element:t.jsx(Ht,{}),children:[{path:"*",title:"Halaman Tidak Ditemukan",element:t.jsx(Qa,{})},{path:"",title:"Halaman Tidak Ditemukan",element:t.jsx(Qa,{})},{path:"/app/data-toko",title:"Data Toko",element:t.jsx(V,{children:Fa.level==="SU"?t.jsx(Kl,{}):t.jsx(Qa,{})})},{path:"/app/tukar-libur",title:"Tukar Libur",element:t.jsx(V,{children:t.jsx(Km,{})})},{path:"/app/dashboard",title:"Dashboard",element:t.jsxs(V,{children:[t.jsx(Pr,{}),","]})},{path:"/app/data-pegawai",title:"Data Pegawai",element:t.jsx(V,{children:t.jsx(sl,{})})},{path:"/app/data-user",title:"Data User",element:t.jsx(V,{children:t.jsx(pl,{})})},{path:"/app/data-jabatan",title:"Data Jabatan",element:t.jsx(V,{children:t.jsx(fl,{})})},{path:"/app/data-hari-libur",title:"Data Hari Libur",element:t.jsx(V,{children:t.jsx(El,{})})},{path:"/app/parameter-bonus",title:"Parameter Bonus",element:t.jsx(V,{children:t.jsx(Jl,{})})},{path:"/app/parameter-izin-keluar-masuk",title:"Parameter Izin Keluar MAsuk",element:t.jsx(V,{children:t.jsx(nc,{})})},{path:"/app/parameter-cuti",title:"Parameter Cuti",element:t.jsx(V,{children:t.jsx(cd,{})})},{path:"/app/parameter-absen-terlambat",title:"Parameter Absen Terlambat",element:t.jsx(V,{children:t.jsx(qd,{})})},{path:"/app/transaksi-lembur",title:"Transaksi Lembur",element:t.jsx(V,{children:t.jsx(pm,{})})},{path:"/app/parameter-koversi-cuti",title:"Parameter Koversi Cuti",element:t.jsx(V,{children:t.jsx(ed,{})})},{path:"/app/parameter-shift-Kerja",title:"Parameter Shift Kerja",element:t.jsx(V,{children:t.jsx(bd,{})})},{path:"/app/parameter-target-sales",title:"Target Sales",element:t.jsx(V,{children:t.jsx(Pd,{})})},{path:"/app/parameter-target-toko",title:"Target Toko",element:t.jsx(V,{children:t.jsx(Md,{})})},{path:"/app/laporan-potongan-lain-lain",title:"Laporan Potongan Lain Lain",element:t.jsx(V,{children:t.jsx(Bc,{})})},{path:"/app/laporan-lembur",title:"Laporan Lembur",element:t.jsx(V,{children:t.jsx(su,{})})},{path:"/app/laporan-kas-bon",title:"Laporan Kas Bon",element:t.jsx(V,{children:t.jsx(_c,{})})},{path:"/app/laporan-payroll",title:"Laporan Payroll",element:t.jsx(V,{children:t.jsx(jc,{})})},{path:"/app/laporan-pelangaran-pegawai",title:"Laporan Pelanggaran Pegawai",element:t.jsx(V,{children:t.jsx(Sc,{})})},{path:"/app/pengajuan-izin-pergi",title:"Pengajuan Izin Pergi",element:t.jsx(V,{children:t.jsx(fm,{})})},{path:"/app/laporan-pengajuan-izin-pergi",title:"Pengajuan Pengajuan Izin Pergi",element:t.jsx(V,{children:t.jsx(zm,{})})},{path:"/app/laporan-pengajuan-izin-pulang-cepat",title:"Laporan Pengajuan Izin Pulang Cepat",element:t.jsx(V,{children:t.jsx(Hm,{})})},{path:"/app/pengajuan-izin-pulang-cepat",title:"Pengajuan Izin Pulang Cepat",element:t.jsx(V,{children:t.jsx(Sm,{})})},{path:"/app/laporan-global-payroll",title:"Laporan Global Payroll",element:t.jsx(V,{children:t.jsx(cc,{})})},{path:"/app/laporan-pengajuan-cuti",title:"Laporan Pengajuan Cuti",element:t.jsx(V,{children:t.jsx(Cc,{})})},{path:"/app/pengajuan-cuti",title:"Pengajuan Cuti",element:t.jsx(V,{children:t.jsx(pu,{})})},{path:"/app/review-cuti",title:"Review Cuti",element:t.jsx(V,{children:t.jsx(vu,{})})},{path:"/app/kas-bon",title:"Kas Bon",element:t.jsx(V,{children:t.jsx(Cu,{})})},{path:"/app/potongan-lain-lain",title:"Potongan Lain Lain ",element:t.jsx(V,{children:t.jsx(Uu,{})})},{path:"/app/pelanggaran-pegawai",title:"Pelanggaran Pegawai",element:t.jsx(V,{children:t.jsx(Yu,{})})},{path:"/app/payroll",title:"Payroll",element:t.jsx(V,{children:t.jsx(tm,{})})},{path:"/app/sinkron-data-pegawai",title:"Sinkron Data Pegawai",element:t.jsx(V,{children:t.jsx(lm,{})})},{path:"/app/time-keeping",title:"Data Time Keeping",element:t.jsx(V,{children:t.jsx(ic,{})})},{path:"/app/laporan-time-keeping",title:"Laporan Time Keeping",element:t.jsx(V,{children:t.jsx(Wc,{})})},{path:"/app/laporan-data-pegawai",title:"Laporan Data Pegawai",element:t.jsx(V,{children:t.jsx(eu,{})})},{path:"/app/setting-member",title:"Setting Member",element:t.jsx(V,{children:t.jsx(Hr,{})})},{path:"/app/cetak-member",title:"Cetak Member",element:t.jsx(V,{children:t.jsx(Jm,{})})},{path:"/app/setting-system",title:"Setting System",element:t.jsx(V,{children:t.jsx(Xm,{})})},{path:"/app/laporan-absen-terlambat",title:"Laporan Absen Terlambat",element:t.jsx(V,{children:t.jsx(tp,{})})},{path:"/app/laporan-piutang-kas-bon",title:"Laporan Piutang Kas Bon",element:t.jsx(V,{children:t.jsx(rp,{})})}]},{path:"/",element:t.jsx(Ht,{}),children:[{path:"/login",title:"Login",element:t.jsx(Vt,{})},{path:"*",title:"Halaman Tidak Ditemukan",element:t.jsx(Qa,{})},{path:"",title:"Login",element:t.jsx(Vt,{})},{path:"/time-keeping",title:"Time Keeping",element:t.jsx(or,{})}]}],Z=a=>{const{dataSource:e,columns:i,addButtonTitle:o,rowKey:s,total:n,isLoading:r=!1,changePagenation:d,onAddButtonClick:l,scrollX:u,handleSearch:m,addButtonTitle2:g,onAddButtonClick2:k,expandable:h,disabledPagenation:f,disabledSearch:P,title:S,rowSelection:A,id:T,footer:_,summary:B,width:b=1300}=a,E=I(W=>W.utility),[x,R]=j.useState(""),[y,U]=j.useState(e.length>0?e:[]);j.useEffect(()=>{U(e)},[e]);const w=W=>{if(R(W.target.value),m===void 0){const ea=new RegExp(`.*${W.target.value}.*`,"gi"),na=e.filter(_a=>i.some(xa=>ea.test(_a[xa.dataIndex])));W.target.value===""?U(e):U(na)}else m(W)},J=W=>{d&&d({...W,q:x||""})};return t.jsxs(Ti,{gutter:16,children:[t.jsx(_e,{span:6,children:!P&&t.jsx(Li,{placeholder:"Search",prefix:t.jsx(Pi,{}),value:x,onChange:w,style:{marginBottom:"16px"}})}),t.jsxs(_e,{span:18,className:"text-end",children:[o&&t.jsx(C,{color:"primary",onClick:l,children:o}),g&&t.jsx(C,{color:"primary",className:"ml-2",onClick:k,children:g})]}),t.jsxs(_e,{span:24,className:"mt-4",children:[S&&t.jsx("h3",{children:S}),t.jsx(vi,{id:T,rowSelection:A,dataSource:y,columns:i,loading:E.getLoading.table||r,rowKey:s,scroll:{x:u?b||1300:0},pagination:f?!1:{total:n||0},expandable:h,onChange:J,footer:_,summary:B})]})]})},lp=a=>{const[e,i]=j.useState(!0),{handleSubmit:o,onPress:s}=a,n=D(),r=async d=>{s(d)};return j.useEffect(()=>{da("user_id")},[n]),t.jsx("form",{onSubmit:o(r),children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"User Id",id:"user_id",name:"user_id",type:"text",noUpperCase:!0,placeholder:"Masukan User Id",component:N})}),t.jsx("div",{className:"col-6",children:t.jsx(p,{label:"Password",id:"password",name:"password",type:"text",noUpperCase:!0,placeholder:"Masukan Password",component:N,right:!0,inputGroup:!0,textIconGroup:e?t.jsx("i",{className:"fa-regular fa-eye-slash"}):t.jsx("i",{className:"fa fa-eye"}),customeCss:e?"password-hide":"",handleClick:()=>i(!e)})}),t.jsx("div",{className:"col-12 text-end mt-4",children:t.jsx(C,{color:"primary",block:!0,type:"submit",className:"btn-lg",children:"Otorisasi"})})]})})},dp={form:"FormOtorisasi",enableReinitialize:!0},cp=O(dp)(lp),et=j.createContext({}),up=({theme:a,className:e,children:i})=>{const[o,s]=j.useState(!1),[n,r]=j.useState(!1),[d,l]=j.useState(!1),k={expand:o,reload:n,remove:d,toggleExpand:()=>{s(!o)},toggleReload:()=>{n||(r(!0),setTimeout(()=>{r(!1)},2e3))},toggleRemove:()=>{l(!d)},toggleCollapse:void 0};return d?null:t.jsx(et.Provider,{value:k,children:t.jsx("div",{className:`panel panel-${a||"inverse"} ${o?"panel-expand":""} ${n?"panel-loading":""} ${e||""}`,children:i})})},mp=({className:a,back:e,handleBack:i,noButton:o,refresh:s,hidden:n,children:r})=>{const{reload:d,toggleCollapse:l,toggleReload:u}=j.useContext(et),m=!!l;return t.jsxs("div",{className:`panel-heading ${a||""}`,children:[t.jsxs("h4",{className:"panel-title",children:[e&&t.jsxs(t.Fragment,{children:[t.jsx("i",{style:{cursor:"pointer"},className:"fa fa-arrow-left",onClick:i})," "," "]}),r]}),!o&&t.jsxs("div",{className:"panel-heading-btn",children:[s&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-xs btn-icon btn-circle btn-success",onClick:u,children:t.jsx("i",{className:`fa fa-redo ${d?"fa-spin":""}`})}),"  "]}),n&&t.jsx("button",{className:"btn btn-xs btn-icon btn-circle btn-warning",onClick:l,children:t.jsx("i",{className:`fa ${m?"fa-minus":"fa-angle-down fa-lg"}`,onClick:l})})]})]})},pp=({className:a,children:e})=>{const{reload:i}=j.useContext(et);return t.jsxs("div",{className:`panel-body ${a||""}`,children:[e,i&&t.jsx("div",{className:"panel-loader",children:t.jsx("span",{className:"spinner spinner-sm"})})]})},q=({refresh:a,back:e,hideForm:i,handleBack:o,menu:s,title:n,children:r})=>t.jsx("div",{children:t.jsxs(up,{children:[t.jsx(mp,{back:e,handleBack:o,noButton:!a&&!i,hidden:i,children:s||n}),t.jsx(pp,{hidden:i,children:r})]})}),Xt=()=>{const a=ee(r=>r.theme),e=on(),i=(r,d)=>{let l;d.forEach(u=>{u.path===r?l=u.title:u.children&&u.children.length>0&&u.children.forEach(m=>{var g;m.path===r&&(l=m.title),((g=m.children)==null?void 0:g.length)>0&&m.children.forEach(k=>{k.path===r&&(l=k.title)})})}),document.title=(l?`${l} | `:"")+" Time Keeping Management"},{pathname:o}=e;j.useEffect(()=>{i(o,Yn)});const s=()=>{const r=X("hakAkses"),d=[];r.forEach(u=>{d.push(u.path||""),u.children&&u.children.forEach(m=>{m.children&&m.children.forEach(g=>{d.push(g.path||"")}),d.push(m.path||"")})});const l=d.findIndex(u=>u===o);return o==="/"||o==="/login"||o==="/time-keeping"||o==="/test-public-page"?2:l},n=()=>Fa.user_id?s()===-1?Fa.level==="SU"||Fa.level==="OWNER"?t.jsx(ke,{}):t.jsx(Qa,{}):t.jsx(ke,{}):t.jsx(ke,{});return t.jsx("div",{className:a.handleSetPageSidebar?"app-content ":"",children:n()})},gp=()=>{var r;const[a,e]=j.useState(!1),i=D(),o=Ni(),s=()=>{e(!a)},n=()=>{i(c.setLoading({screen:!0})),setTimeout(async()=>{o("/login"),i(c.stopLoading()),i(jn.isLogin(!1)),localStorage.clear()},1e3)};return t.jsx("div",{className:"navbar-item navbar-user dropdown",children:t.jsxs(Si,{isOpen:a,toggle:s,className:"mr-2",style:{marginRight:"10px"},children:[t.jsxs(Ei,{tag:"span","data-toggle":"dropdown","aria-expanded":a,className:"navbar-link dropdown-toggle d-flex align-items-center",children:[t.jsx("div",{className:"avatar",children:(r=Fa.user_id)==null?void 0:r.slice(0,1)}),"  ",t.jsx("span",{children:t.jsx("b",{className:"caret"})})]}),t.jsxs(Di,{end:!0,className:"dropdown-menu-end me-1",children:[t.jsx(be,{href:"#/",children:"Edit Profile"}),t.jsx(be,{divider:!0}),t.jsx(be,{style:{cursor:"pointer"},onClick:n,children:"Log Out"})]})]})})},hp=()=>{const a=D(),e=ee(i=>i.theme);return t.jsxs("div",{id:"header",className:"app-header",children:[t.jsxs("div",{className:"navbar-header",children:[t.jsxs("a",{href:"index.html",className:"navbar-brand",children:[t.jsx("span",{className:"navbar-logo"}),"TIME KEEPING MANAGEMENT SOLUTION"]}),t.jsxs("button",{type:"button",className:"navbar-mobile-toggler","data-toggle":"app-sidebar-mobile",onClick:()=>a(ua.appSidebarEndMobileToggled(!e.appSidebarEndMobileToggled)),children:[t.jsx("span",{className:"icon-bar"}),t.jsx("span",{className:"icon-bar"}),t.jsx("span",{className:"icon-bar"})]})]}),t.jsxs("div",{className:"navbar-nav",children:[t.jsx("li",{className:"navbar-form",children:t.jsxs("div",{className:"form-group mt-1",children:[t.jsx("input",{type:"text",readOnly:!0,className:"form-control",placeholder:"Tanggal System",value:"Tanggal : "+Y(`${new Date}`)}),t.jsx("button",{type:"button",className:"btn btn-search",children:t.jsx("i",{className:"fa fa-calendar-check",children:" "})})]})}),t.jsx(gp,{})]})]})},_p=()=>{const a=i=>{let o=i.target.value;if(o=o.toLowerCase(),o){const s=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu > .menu-item:not(.menu-profile):not(.menu-header):not(.menu-search), .app-sidebar:not(.app-sidebar-end) .menu-submenu > .menu-item"));s&&s.map(function(l){return l==null||l.classList.add("d-none"),!0});const n=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .has-text"));n&&n.map(function(l){return l.classList.remove("has-text"),!0});const r=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .expand"));r&&r.map(function(l){return l.classList.remove("expand"),!0});const d=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu > .menu-item:not(.menu-profile):not(.menu-header):not(.menu-search) > .menu-link, .app-sidebar .menu-submenu > .menu-item > .menu-link"));d&&d.map(function(l){let u=l.textContent;if(u=u.toLowerCase(),u.search(o)>-1){const m=l.closest(".menu-item");if(m&&(m.classList.remove("d-none"),m.classList.add("has-text")),l.closest(".menu-item.has-sub")){const h=m.querySelector(".menu-submenu .menu-item.d-none");h&&h.classList.remove("d-none")}const k=l.closest(".menu-submenu");if(k){k.style.display="block";const h=m.querySelector(".menu-item:not(.has-text)");h&&h.classList.add("d-none");const f=l.closest(".has-sub:not(.has-text)");if(f){f.classList.remove("d-none"),f.classList.add("expand");const P=m.closest(".has-sub:not(.has-text)");P&&(P.classList.remove("d-none"),P.classList.add("expand"))}}}return!0})}else{const s=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu > .menu-item:not(.menu-profile):not(.menu-header):not(.menu-search).has-sub .menu-submenu"));s&&s.map(function(l){return l.removeAttribute("style"),!0});const n=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu > .menu-item:not(.menu-profile):not(.menu-header):not(.menu-search)"));n&&n.map(function(l){return l.classList.remove("d-none"),!0});const r=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .menu-submenu > .menu-item"));r&&r.map(function(l){return l.classList.remove("d-none"),!0});const d=[].slice.call(document.querySelectorAll(".app-sidebar:not(.app-sidebar-end) .expand"));d&&d.map(function(l){return l.classList.remove("expand"),!0})}},e=Fa.level==="OWN"||Fa.level==="SU"?Oa:X("hakAkses");return t.jsxs("div",{className:"menu",children:[t.jsx("div",{className:"menu-search mb-n3",children:t.jsx("input",{type:"text",className:"form-control",placeholder:"Sidebar menu filter...",onKeyUp:a})}),t.jsx("div",{className:"menu-header",children:"Navigation"}),e.map((i,o)=>t.jsx(Xn,{menu:i},o))]})};function Xn({menu:a,...e}){const i=Ai(a.path),o=Ii({path:i.pathname}),s=on(),n=Mi({path:a.path,end:!1},s.pathname),r=a.icon&&t.jsx("div",{className:"menu-icon",children:t.jsx("i",{className:a.icon})}),d=a.img&&t.jsx("div",{className:"menu-icon-img",children:t.jsx("img",{src:a.img,alt:""})}),l=a.children&&!a.badge&&t.jsx("div",{className:"menu-caret"}),u=a.label&&t.jsx("span",{className:"menu-label ms-5px",children:a.label}),m=a.badge&&t.jsx("div",{className:"menu-badge",children:a.badge}),g=a.highlight&&t.jsx("i",{className:"fa fa-paper-plane text-theme"}),k=a.title&&t.jsxs("div",{className:"menu-text",children:[a.title," ",u," ",g]});return t.jsxs("div",{className:"menu-item"+(o||n?" ":"")+(a.children?" has-sub":""),children:[t.jsxs(Ci,{className:"menu-link",to:a.path,...e,children:[d," ",r," ",k,l," ",m]}),a.children&&t.jsx("div",{className:"menu-submenu",children:a.children.map((h,f)=>t.jsx(Xn,{menu:h},f))})]})}function Zn(a,e=300){a.classList.contains("transitioning")||(a.classList.add("transitioning"),a.style.transitionProperty="height, margin, padding",a.style.transitionDuration=e+"ms",a.style.boxSizing="border-box",a.style.height=a.offsetHeight+"px",a.offsetHeight,a.style.overflow="hidden",a.style.height="0px",a.style.paddingTop="0px",a.style.paddingBottom="0px",a.style.marginTop="0px",a.style.marginBottom="0px",window.setTimeout(()=>{a.style.display="none",a.style.removeProperty("height"),a.style.removeProperty("padding-top"),a.style.removeProperty("padding-bottom"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),a.style.removeProperty("overflow"),a.style.removeProperty("transition-duration"),a.style.removeProperty("transition-property"),a.classList.remove("transitioning")},e))}function kp(a,e=300){if(!a.classList.contains("transitioning")){a.classList.add("transitioning"),a.style.removeProperty("display");let i=window.getComputedStyle(a).display;i==="none"&&(i="block"),a.style.display=i;const o=a.offsetHeight;a.style.overflow="hidden",a.style.height="0px",a.style.paddingTop="0px",a.style.paddingBottom="0px",a.style.marginTop="0px",a.style.marginBottom="0px",a.offsetHeight,a.style.boxSizing="border-box",a.style.transitionProperty="height, margin, padding",a.style.transitionDuration=e+"ms",a.style.height=o+"px",a.style.removeProperty("padding-top"),a.style.removeProperty("padding-bottom"),a.style.removeProperty("margin-top"),a.style.removeProperty("margin-bottom"),window.setTimeout(()=>{a.style.removeProperty("height"),a.style.removeProperty("overflow"),a.style.removeProperty("transition-duration"),a.style.removeProperty("transition-property"),a.classList.remove("transitioning")},e)}}function Te(a,e=300){window.getComputedStyle(a).display==="none"?kp(a,e):Zn(a,e)}const fe=function(a,e){a.map(function(i){return i.onclick=function(o){o.preventDefault();const s=this.nextElementSibling;a.map(function(r){const d=r.nextElementSibling;return d!==s&&(Zn(d,e),d.closest(".menu-item").classList.remove("expand"),d.closest(".menu-item").classList.add("closed")),!0});const n=s.closest(".menu-item");n.classList.contains("expand")||n.classList.contains("active")&&!s.style.display?(n.classList.remove("expand"),n.classList.add("closed"),Te(s,e)):(n.classList.add("expand"),n.classList.remove("closed"),Te(s,e))},!0})};function Qn(){const a=[].slice.call(document.querySelectorAll("#app-sidebar-float-submenu .menu-item.has-sub > .menu-link"));a&&a.map(function(e){return e.onclick=function(i){i.preventDefault();const s=this.closest(".menu-item").querySelector(".menu-submenu"),n=getComputedStyle(s),r=n.getPropertyValue("display")!=="none",d=n.getPropertyValue("display")==="none";Te(s);const l=setInterval(function(){const u=document.querySelector("#app-sidebar-float-submenu"),m=document.querySelector("#app-sidebar-float-submenu-arrow"),g=document.querySelector("#app-sidebar-float-submenu-line"),k=u.clientHeight,h=u.getBoundingClientRect(),f=u.getAttribute("data-offset-top"),P=u?parseInt(u.getAttribute("data-menu-offset-top")||"0"):0;let S=h.top;const A=document.body.clientHeight;if(r&&S>f&&(S=S>f?f:S,u.style.top=S+"px",u.style.bottom="auto",m.style.top="20px",m.style.bottom="auto",g.style.top="20px",g.style.bottom="auto"),d){if(A-S<k){const _=A-P-22;u.style.top="auto",u.style.bottom=0,m.style.top="auto",m.style.bottom=_+"px",g.style.top="20px",g.style.bottom=_+"px"}const T=document.querySelector("#app-sidebar-float-submenu .app-sidebar-float-submenu");if(k>A&&T){const _="overflow-scroll mh-100vh".split(" ");for(let B=0;B<_.length;B++)T.classList.add(_[B])}}},1);setTimeout(function(){clearInterval(l)},250)},!0})}function bp(a){a.setAttribute("style","position: absolute; visibility: hidden; display: block !important");const e=a.clientHeight;return a.removeAttribute("style"),e}function yp(){let a="",e="";const i=[].slice.call(document.querySelectorAll(".app-sidebar .menu > .menu-item.has-sub > .menu-link"));i&&i.map(function(o){return o.onmouseenter=function(){var n,r,d,l;const s=document.querySelector(".app");if(s&&s.classList.contains("app-sidebar-minified")){clearTimeout(a);const u=this.closest(".menu-item").querySelector(".menu-submenu");if(e===this&&document.querySelector("#app-sidebar-float-submenu"))return;e=this;const m=u.innerHTML;if(m){const g=getComputedStyle(document.body),k=(n=document==null?void 0:document.querySelector("#sidebar"))==null?void 0:n.getBoundingClientRect(),h=parseInt((r=document==null?void 0:document.querySelector("#sidebar"))==null?void 0:r.clientWidth),f=!s.classList.contains("app-sidebar-end")&&g.getPropertyValue("direction")!=="rtl"?k.left+h:document.body.clientWidth-k.left,P=bp(u),A=this.getBoundingClientRect().top,T=!s.classList.contains("app-sidebar-end")&&g.getPropertyValue("direction")!=="rtl"?f:"auto",_=!s.classList.contains("app-sidebar-end")&&g.getPropertyValue("direction")!=="rtl"?"auto":f,B=document.body.clientHeight;if(document.querySelector("#app-sidebar-float-submenu")){const y=document.querySelector("#app-sidebar-float-submenu"),U=document.querySelector("#app-sidebar-float-submenu .app-sidebar-float-submenu");if(P>B&&U){const w="overflow-scroll mh-100vh".split(" ");for(let J=0;J<w.length;J++)U.classList.add(w[J])}y.setAttribute("data-offset-top",A),y.setAttribute("data-menu-offset-top",A),U.innerHTML=m}else{let y="";P>B&&(y="overflow-scroll mh-100vh");const U=document.createElement("div");U.setAttribute("id","app-sidebar-float-submenu"),U.setAttribute("class","app-sidebar-float-submenu-container"),U.setAttribute("data-offset-top",A),U.setAttribute("data-menu-offset-top",A),U.innerHTML='	<div class="app-sidebar-float-submenu-arrow" id="app-sidebar-float-submenu-arrow"></div>	<div class="app-sidebar-float-submenu-line" id="app-sidebar-float-submenu-line"></div>	<div class="app-sidebar-float-submenu '+y+'">'+m+"</div>",s.appendChild(U);const w=document.getElementById("app-sidebar-float-submenu");w.onmouseover=function(){clearTimeout(a)},w.onmouseout=function(){a=setTimeout(()=>{var J;(J=document==null?void 0:document.querySelector("#app-sidebar-float-submenu"))==null||J.remove()},250)}}const b=(d=document==null?void 0:document.querySelector("#app-sidebar-float-submenu"))==null?void 0:d.clientHeight,E=document.querySelector("#app-sidebar-float-submenu"),x=document.querySelector("#app-sidebar-float-submenu-arrow"),R=document.querySelector("#app-sidebar-float-submenu-line");if(B-A>b)E&&(E.style.top=A+"px",E.style.left=T+"px",E.style.bottom="auto",E.style.right=_+"px"),x&&(x.style.top="20px",x.style.bottom="auto"),R&&(R.style.top="20px",R.style.bottom="auto");else{const y=B-A-21;E&&(E.style.top="auto",E.style.left=T+"px",E.style.bottom=0,E.style.right=_+"px"),x&&(x.style.top="auto",x.style.bottom=y+"px"),R&&(R.style.top="20px",R.style.bottom=y+"px")}Qn()}else(l=document==null?void 0:document.querySelector("#app-sidebar-float-submenu-line"))==null||l.remove(),e=""}},o.onmouseleave=function(){const s=document.querySelector(".app");s&&s.classList.contains("app-sidebar-minified")&&(a=setTimeout(()=>{const n=document.querySelector("#app-sidebar-float-submenu-line");n&&n.remove(),e=""},250))},!0})}const xp=()=>{const a=D(),e=ee(i=>i.theme);return j.useEffect(()=>{const i=document.querySelector(".app-sidebar:not(.app-sidebar-end)"),o=i&&i.getAttribute("data-disable-slide-animation")?0:300,s=".app-sidebar .menu > .menu-item.has-sub",n=" > .menu-submenu > .menu-item.has-sub",r=s+" > .menu-link",d=[].slice.call(document.querySelectorAll(r));fe(d,o);const l=s+n,u=[].slice.call(document.querySelectorAll(l+" > .menu-link"));fe(u,o);const m=s+n+n,g=[].slice.call(document.querySelectorAll(m+" > .menu-link"));fe(g,o),Qn(),yp()}),t.jsxs(t.Fragment,{children:[t.jsx("div",{id:"sidebar",className:"app-sidebar","data-bs-theme":"dark",children:t.jsx(wi,{className:"app-sidebar-content",options:{suppressScrollX:!0},children:t.jsx(_p,{})})}),t.jsx("div",{className:"app-sidebar-bg","data-bs-theme":"dark"}),t.jsx("div",{className:"app-sidebar-mobile-backdrop",onClick:()=>a(ua.appSidebarEndMobileToggled(!e.appSidebarEndMobileToggled)),children:t.jsx(ve,{to:"#",className:"stretched-link"})})]})},ga=a=>{const{children:e,title:i,namaForm:o}=a,s=ee(d=>d.utility),n=D(),r=()=>{n(ta(`${o}`)),n(c.showModal({isModalShow:!1,isEdit:!1,data:[],namaForm:"",title:""}))};return t.jsxs(rn,{backdrop:"static",keyboard:!1,id:a.id,isOpen:s.getModal.isModalShow,toggle:()=>r(),style:{maxWidth:a.width,width:"100%"},children:[t.jsx(ln,{toggle:()=>r(),children:i}),t.jsx(dn,{children:e})]})},fp=a=>{const{children:e,title:i,namaForm:o,isOpen:s,hideModal:n}=a,r=D(),d=()=>{r(ta(`${o}`)),n()};return t.jsxs(rn,{backdrop:"static",keyboard:!1,id:a.id,isOpen:s,toggle:()=>d(),style:{maxWidth:a.width,width:"100%"},children:[t.jsx(ln,{toggle:()=>d(),children:i}),t.jsx(dn,{children:e})]})},fa=a=>{const{className:e,namaForm:i,readOnly:o,onClick:s,onBlur:n,name:r,label:d}=a,l=I(f=>f.dataMaster.dataPegawai),u=D(),[m,g]=j.useState(!1),k=f=>{u(M(i,r||"kode_pegawai",f[0].kode_pegawai)),s&&s(f),g(!1)},h=f=>{if(n&&s){const P=l.data.filter(S=>S.kode_pegawai===f);s(P)}};return t.jsxs("div",{className:e,children:[t.jsx(p,{label:d||"Kode Pegawai",name:r||"kode_pegawai",type:"text",readOnly:o,onBlur:f=>h(f.target.value),placeholder:"Masukan Kode Pegawai",component:N,right:!0,inputGroup:!o,handleClick:()=>!o&&g(!0),textIconGroup:t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa fa-search",children:" "})," "]})}),t.jsx(fp,{isOpen:m,hideModal:()=>g(!1),namaForm:i,title:"Cari Data Pegawai",width:1e3,children:t.jsx(at,{form:"pencarian_pegawai",changeKodePegawai:f=>k(f)})})]})},Na=a=>{const{className:e,disabled:i,formType:o,onChange:s}=a,n=D();j.useEffect(()=>{n(Q.getDataToko())},[n]);const r=I(l=>l.dataMaster.dataToko),d=l=>{n(c.setKodeToko(l)),s&&s(l);const u=r.data.find(m=>m.kode_toko===l);ka("datatoko",u)};if(me)return t.jsx("div",{className:e,children:t.jsx(p,{label:"Kode Toko",name:"kode_toko",component:ra,disabled:i,onChange:d,placeholder:"Pilih Kode Toko",options:o==="report"?[{value:"SEMUA",label:"SEMUA"},...r.data.map(l=>({value:l.kode_toko,label:l.nama_toko}))]:r.data.map(l=>({value:l.kode_toko,label:l.nama_toko}))})})};function jp(){return Bi(Yn)}Ri.createRoot(document.getElementById("root")).render(t.jsx(Ki,{store:Pn,children:t.jsx($i,{loading:null,persistor:tr,children:t.jsx(Fi,{basename:Zi||"",children:t.jsx(jp,{})})})}));
